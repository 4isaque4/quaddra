"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/diagram-js";
exports.ids = ["vendor-chunks/diagram-js"];
exports.modules = {

/***/ "(ssr)/../../node_modules/diagram-js/lib/Diagram.js":
/*!****************************************************!*\
  !*** ../../node_modules/diagram-js/lib/Diagram.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Diagram)\n/* harmony export */ });\n/* harmony import */ var didi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! didi */ \"(ssr)/../../node_modules/didi/dist/index.js\");\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core */ \"(ssr)/../../node_modules/diagram-js/lib/core/index.js\");\n\n\n\n\n/**\n * @typedef {import('didi').InjectionContext} InjectionContext\n * @typedef {import('didi').LocalsMap} LocalsMap\n * @typedef {import('didi').ModuleDeclaration} ModuleDeclaration\n *\n * @typedef { {\n *   modules?: ModuleDeclaration[];\n * } & Record<string, any> } DiagramOptions\n */\n\n/**\n * @template T\n * @typedef {import('didi').FactoryFunction<T>} FactoryFunction\n */\n\n/**\n * @template T\n * @typedef {import('didi').ArrayFunc<T>} ArrayFunc\n */\n\n/**\n * Bootstrap an injector from a list of modules, instantiating a number of default components\n *\n * @param {ModuleDeclaration[]} modules\n *\n * @return {Injector} a injector to use to access the components\n */\nfunction bootstrap(modules) {\n  var injector = new didi__WEBPACK_IMPORTED_MODULE_0__.Injector(modules);\n\n  injector.init();\n\n  return injector;\n}\n\n/**\n * Creates an injector from passed options.\n *\n * @template ServiceMap\n * @param {DiagramOptions} [options]\n *\n * @return {Injector<ServiceMap>}\n */\nfunction createInjector(options) {\n\n  options = options || {};\n\n  /**\n   * @type { ModuleDeclaration }\n   */\n  var configModule = {\n    'config': [ 'value', options ]\n  };\n\n  var modules = [ configModule, _core__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ].concat(options.modules || []);\n\n  return bootstrap(modules);\n}\n\n\n/**\n * The main diagram-js entry point that bootstraps the diagram with the given\n * configuration.\n *\n * To register extensions with the diagram, pass them as Array<Module> to the constructor.\n *\n * @class\n * @constructor\n * @template [ServiceMap=null]\n *\n * @example Creating a plug-in that logs whenever a shape is added to the canvas.\n *\n * ```javascript\n * // plug-in implementation\n * function MyLoggingPlugin(eventBus) {\n *   eventBus.on('shape.added', function(event) {\n *     console.log('shape ', event.shape, ' was added to the diagram');\n *   });\n * }\n *\n * // export as module\n * export default {\n *   __init__: [ 'myLoggingPlugin' ],\n *     myLoggingPlugin: [ 'type', MyLoggingPlugin ]\n * };\n * ```\n *\n * Use the plug-in in a Diagram instance:\n *\n * ```javascript\n * import MyLoggingModule from 'path-to-my-logging-plugin';\n *\n * var diagram = new Diagram({\n *   modules: [\n *     MyLoggingModule\n *   ]\n * });\n *\n * diagram.invoke([ 'canvas', function(canvas) {\n *   // add shape to drawing canvas\n *   canvas.addShape({ x: 10, y: 10 });\n * });\n *\n * // 'shape ... was added to the diagram' logged to console\n * ```\n *\n * @param {DiagramOptions} [options]\n * @param {Injector<ServiceMap>} [injector] An (optional) injector to bootstrap the diagram with.\n */\nfunction Diagram(options, injector) {\n\n  /**\n   * @type {Injector<ServiceMap>}\n   */\n  this._injector = injector || createInjector(options);\n\n  // init\n\n  /**\n   * An event indicating that all plug-ins are loaded.\n   *\n   * Use this event to fire other events to interested plug-ins\n   *\n   * @memberOf Diagram\n   *\n   * @event diagram.init\n   *\n   * @example\n   *\n   * ```javascript\n   * eventBus.on('diagram.init', function() {\n   *   eventBus.fire('my-custom-event', { foo: 'BAR' });\n   * });\n   * ```\n   *\n   * @type {Object}\n   */\n  this.get('eventBus').fire('diagram.init');\n}\n\n/**\n * @overlord\n *\n * Resolves a diagram service.\n *\n * @template T\n *\n * @param {string} name The name of the service to get.\n *\n * @return {T}\n */\n/**\n * @overlord\n *\n * Resolves a diagram service.\n *\n * @template T\n *\n * @param {string} name The name of the service to get.\n * @param {true} strict If false, resolve missing services to null.\n *\n * @return {T}\n */\n/**\n * @overlord\n *\n * Resolves a diagram service.\n *\n * @template T\n *\n * @param {string} name The name of the service to get.\n * @param {boolean} strict If false, resolve missing services to null.\n *\n * @return {T|null}\n */\n/**\n * Resolves a diagram service.\n *\n * @template {keyof ServiceMap} Name\n *\n * @param {Name} name The name of the service to get.\n *\n * @return {ServiceMap[Name]}\n */\nDiagram.prototype.get = function(name, strict) {\n  return this._injector.get(name, strict);\n};\n\n/**\n * @overlord\n *\n * Invoke the given function, injecting dependencies. Return the result.\n *\n * @template T\n *\n * @param {FactoryFunction<T>} func\n * @param {InjectionContext} [context]\n * @param {LocalsMap} [locals]\n *\n * @return {T}\n */\n/**\n * Invoke the given function, injecting dependencies provided in\n * array notation. Return the result.\n *\n * @template T\n *\n * @param {ArrayFunc<T>} func function to be invoked\n * @param {InjectionContext} [context] context of the invocation\n * @param {LocalsMap} [locals] locals provided\n *\n * @return {T}\n */\nDiagram.prototype.invoke = function(func, context, locals) {\n  return this._injector.invoke(func, context, locals);\n};\n\n/**\n * Destroys the diagram\n */\nDiagram.prototype.destroy = function() {\n  this.get('eventBus').fire('diagram.destroy');\n};\n\n/**\n * Clear the diagram, removing all contents.\n */\nDiagram.prototype.clear = function() {\n  this.get('eventBus').fire('diagram.clear');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL0RpYWdyYW0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDOztBQUVBOztBQUVoQztBQUNBLGFBQWEsaUNBQWlDO0FBQzlDLGFBQWEsMEJBQTBCO0FBQ3ZDLGFBQWEsa0NBQWtDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLEtBQUssd0JBQXdCO0FBQzdCOztBQUVBO0FBQ0E7QUFDQSxhQUFhLG1DQUFtQztBQUNoRDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSw2QkFBNkI7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxQkFBcUI7QUFDaEM7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBLHFCQUFxQiwwQ0FBUTs7QUFFN0I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0NBQWdDLDZDQUFVOztBQUUxQztBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsY0FBYztBQUNyQyxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQixXQUFXLHNCQUFzQjtBQUNqQztBQUNlOztBQUVmO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsWUFBWTtBQUN0RCxNQUFNO0FBQ047QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE1BQU07QUFDakI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGtCQUFrQjtBQUNoQztBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsV0FBVztBQUN0QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLGtCQUFrQjtBQUM3QixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9EaWFncmFtLmpzPzU1MTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0b3IgfSBmcm9tICdkaWRpJztcblxuaW1wb3J0IENvcmVNb2R1bGUgZnJvbSAnLi9jb3JlJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWRpJykuSW5qZWN0aW9uQ29udGV4dH0gSW5qZWN0aW9uQ29udGV4dFxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlkaScpLkxvY2Fsc01hcH0gTG9jYWxzTWFwXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb259IE1vZHVsZURlY2xhcmF0aW9uXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIG1vZHVsZXM/OiBNb2R1bGVEZWNsYXJhdGlvbltdO1xuICogfSAmIFJlY29yZDxzdHJpbmcsIGFueT4gfSBEaWFncmFtT3B0aW9uc1xuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5GYWN0b3J5RnVuY3Rpb248VD59IEZhY3RvcnlGdW5jdGlvblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5BcnJheUZ1bmM8VD59IEFycmF5RnVuY1xuICovXG5cbi8qKlxuICogQm9vdHN0cmFwIGFuIGluamVjdG9yIGZyb20gYSBsaXN0IG9mIG1vZHVsZXMsIGluc3RhbnRpYXRpbmcgYSBudW1iZXIgb2YgZGVmYXVsdCBjb21wb25lbnRzXG4gKlxuICogQHBhcmFtIHtNb2R1bGVEZWNsYXJhdGlvbltdfSBtb2R1bGVzXG4gKlxuICogQHJldHVybiB7SW5qZWN0b3J9IGEgaW5qZWN0b3IgdG8gdXNlIHRvIGFjY2VzcyB0aGUgY29tcG9uZW50c1xuICovXG5mdW5jdGlvbiBib290c3RyYXAobW9kdWxlcykge1xuICB2YXIgaW5qZWN0b3IgPSBuZXcgSW5qZWN0b3IobW9kdWxlcyk7XG5cbiAgaW5qZWN0b3IuaW5pdCgpO1xuXG4gIHJldHVybiBpbmplY3Rvcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluamVjdG9yIGZyb20gcGFzc2VkIG9wdGlvbnMuXG4gKlxuICogQHRlbXBsYXRlIFNlcnZpY2VNYXBcbiAqIEBwYXJhbSB7RGlhZ3JhbU9wdGlvbnN9IFtvcHRpb25zXVxuICpcbiAqIEByZXR1cm4ge0luamVjdG9yPFNlcnZpY2VNYXA+fVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbmplY3RvcihvcHRpb25zKSB7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgLyoqXG4gICAqIEB0eXBlIHsgTW9kdWxlRGVjbGFyYXRpb24gfVxuICAgKi9cbiAgdmFyIGNvbmZpZ01vZHVsZSA9IHtcbiAgICAnY29uZmlnJzogWyAndmFsdWUnLCBvcHRpb25zIF1cbiAgfTtcblxuICB2YXIgbW9kdWxlcyA9IFsgY29uZmlnTW9kdWxlLCBDb3JlTW9kdWxlIF0uY29uY2F0KG9wdGlvbnMubW9kdWxlcyB8fCBbXSk7XG5cbiAgcmV0dXJuIGJvb3RzdHJhcChtb2R1bGVzKTtcbn1cblxuXG4vKipcbiAqIFRoZSBtYWluIGRpYWdyYW0tanMgZW50cnkgcG9pbnQgdGhhdCBib290c3RyYXBzIHRoZSBkaWFncmFtIHdpdGggdGhlIGdpdmVuXG4gKiBjb25maWd1cmF0aW9uLlxuICpcbiAqIFRvIHJlZ2lzdGVyIGV4dGVuc2lvbnMgd2l0aCB0aGUgZGlhZ3JhbSwgcGFzcyB0aGVtIGFzIEFycmF5PE1vZHVsZT4gdG8gdGhlIGNvbnN0cnVjdG9yLlxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKiBAdGVtcGxhdGUgW1NlcnZpY2VNYXA9bnVsbF1cbiAqXG4gKiBAZXhhbXBsZSBDcmVhdGluZyBhIHBsdWctaW4gdGhhdCBsb2dzIHdoZW5ldmVyIGEgc2hhcGUgaXMgYWRkZWQgdG8gdGhlIGNhbnZhcy5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBwbHVnLWluIGltcGxlbWVudGF0aW9uXG4gKiBmdW5jdGlvbiBNeUxvZ2dpbmdQbHVnaW4oZXZlbnRCdXMpIHtcbiAqICAgZXZlbnRCdXMub24oJ3NoYXBlLmFkZGVkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgICBjb25zb2xlLmxvZygnc2hhcGUgJywgZXZlbnQuc2hhcGUsICcgd2FzIGFkZGVkIHRvIHRoZSBkaWFncmFtJyk7XG4gKiAgIH0pO1xuICogfVxuICpcbiAqIC8vIGV4cG9ydCBhcyBtb2R1bGVcbiAqIGV4cG9ydCBkZWZhdWx0IHtcbiAqICAgX19pbml0X186IFsgJ215TG9nZ2luZ1BsdWdpbicgXSxcbiAqICAgICBteUxvZ2dpbmdQbHVnaW46IFsgJ3R5cGUnLCBNeUxvZ2dpbmdQbHVnaW4gXVxuICogfTtcbiAqIGBgYFxuICpcbiAqIFVzZSB0aGUgcGx1Zy1pbiBpbiBhIERpYWdyYW0gaW5zdGFuY2U6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogaW1wb3J0IE15TG9nZ2luZ01vZHVsZSBmcm9tICdwYXRoLXRvLW15LWxvZ2dpbmctcGx1Z2luJztcbiAqXG4gKiB2YXIgZGlhZ3JhbSA9IG5ldyBEaWFncmFtKHtcbiAqICAgbW9kdWxlczogW1xuICogICAgIE15TG9nZ2luZ01vZHVsZVxuICogICBdXG4gKiB9KTtcbiAqXG4gKiBkaWFncmFtLmludm9rZShbICdjYW52YXMnLCBmdW5jdGlvbihjYW52YXMpIHtcbiAqICAgLy8gYWRkIHNoYXBlIHRvIGRyYXdpbmcgY2FudmFzXG4gKiAgIGNhbnZhcy5hZGRTaGFwZSh7IHg6IDEwLCB5OiAxMCB9KTtcbiAqIH0pO1xuICpcbiAqIC8vICdzaGFwZSAuLi4gd2FzIGFkZGVkIHRvIHRoZSBkaWFncmFtJyBsb2dnZWQgdG8gY29uc29sZVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtEaWFncmFtT3B0aW9uc30gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0luamVjdG9yPFNlcnZpY2VNYXA+fSBbaW5qZWN0b3JdIEFuIChvcHRpb25hbCkgaW5qZWN0b3IgdG8gYm9vdHN0cmFwIHRoZSBkaWFncmFtIHdpdGguXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERpYWdyYW0ob3B0aW9ucywgaW5qZWN0b3IpIHtcblxuICAvKipcbiAgICogQHR5cGUge0luamVjdG9yPFNlcnZpY2VNYXA+fVxuICAgKi9cbiAgdGhpcy5faW5qZWN0b3IgPSBpbmplY3RvciB8fCBjcmVhdGVJbmplY3RvcihvcHRpb25zKTtcblxuICAvLyBpbml0XG5cbiAgLyoqXG4gICAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCBhbGwgcGx1Zy1pbnMgYXJlIGxvYWRlZC5cbiAgICpcbiAgICogVXNlIHRoaXMgZXZlbnQgdG8gZmlyZSBvdGhlciBldmVudHMgdG8gaW50ZXJlc3RlZCBwbHVnLWluc1xuICAgKlxuICAgKiBAbWVtYmVyT2YgRGlhZ3JhbVxuICAgKlxuICAgKiBAZXZlbnQgZGlhZ3JhbS5pbml0XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogZXZlbnRCdXMub24oJ2RpYWdyYW0uaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgKiAgIGV2ZW50QnVzLmZpcmUoJ215LWN1c3RvbS1ldmVudCcsIHsgZm9vOiAnQkFSJyB9KTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgdGhpcy5nZXQoJ2V2ZW50QnVzJykuZmlyZSgnZGlhZ3JhbS5pbml0Jyk7XG59XG5cbi8qKlxuICogQG92ZXJsb3JkXG4gKlxuICogUmVzb2x2ZXMgYSBkaWFncmFtIHNlcnZpY2UuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBnZXQuXG4gKlxuICogQHJldHVybiB7VH1cbiAqL1xuLyoqXG4gKiBAb3ZlcmxvcmRcbiAqXG4gKiBSZXNvbHZlcyBhIGRpYWdyYW0gc2VydmljZS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGdldC5cbiAqIEBwYXJhbSB7dHJ1ZX0gc3RyaWN0IElmIGZhbHNlLCByZXNvbHZlIG1pc3Npbmcgc2VydmljZXMgdG8gbnVsbC5cbiAqXG4gKiBAcmV0dXJuIHtUfVxuICovXG4vKipcbiAqIEBvdmVybG9yZFxuICpcbiAqIFJlc29sdmVzIGEgZGlhZ3JhbSBzZXJ2aWNlLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gZ2V0LlxuICogQHBhcmFtIHtib29sZWFufSBzdHJpY3QgSWYgZmFsc2UsIHJlc29sdmUgbWlzc2luZyBzZXJ2aWNlcyB0byBudWxsLlxuICpcbiAqIEByZXR1cm4ge1R8bnVsbH1cbiAqL1xuLyoqXG4gKiBSZXNvbHZlcyBhIGRpYWdyYW0gc2VydmljZS5cbiAqXG4gKiBAdGVtcGxhdGUge2tleW9mIFNlcnZpY2VNYXB9IE5hbWVcbiAqXG4gKiBAcGFyYW0ge05hbWV9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gZ2V0LlxuICpcbiAqIEByZXR1cm4ge1NlcnZpY2VNYXBbTmFtZV19XG4gKi9cbkRpYWdyYW0ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUsIHN0cmljdCkge1xuICByZXR1cm4gdGhpcy5faW5qZWN0b3IuZ2V0KG5hbWUsIHN0cmljdCk7XG59O1xuXG4vKipcbiAqIEBvdmVybG9yZFxuICpcbiAqIEludm9rZSB0aGUgZ2l2ZW4gZnVuY3Rpb24sIGluamVjdGluZyBkZXBlbmRlbmNpZXMuIFJldHVybiB0aGUgcmVzdWx0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtGYWN0b3J5RnVuY3Rpb248VD59IGZ1bmNcbiAqIEBwYXJhbSB7SW5qZWN0aW9uQ29udGV4dH0gW2NvbnRleHRdXG4gKiBAcGFyYW0ge0xvY2Fsc01hcH0gW2xvY2Fsc11cbiAqXG4gKiBAcmV0dXJuIHtUfVxuICovXG4vKipcbiAqIEludm9rZSB0aGUgZ2l2ZW4gZnVuY3Rpb24sIGluamVjdGluZyBkZXBlbmRlbmNpZXMgcHJvdmlkZWQgaW5cbiAqIGFycmF5IG5vdGF0aW9uLiBSZXR1cm4gdGhlIHJlc3VsdC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7QXJyYXlGdW5jPFQ+fSBmdW5jIGZ1bmN0aW9uIHRvIGJlIGludm9rZWRcbiAqIEBwYXJhbSB7SW5qZWN0aW9uQ29udGV4dH0gW2NvbnRleHRdIGNvbnRleHQgb2YgdGhlIGludm9jYXRpb25cbiAqIEBwYXJhbSB7TG9jYWxzTWFwfSBbbG9jYWxzXSBsb2NhbHMgcHJvdmlkZWRcbiAqXG4gKiBAcmV0dXJuIHtUfVxuICovXG5EaWFncmFtLnByb3RvdHlwZS5pbnZva2UgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0LCBsb2NhbHMpIHtcbiAgcmV0dXJuIHRoaXMuX2luamVjdG9yLmludm9rZShmdW5jLCBjb250ZXh0LCBsb2NhbHMpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgZGlhZ3JhbVxuICovXG5EaWFncmFtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZ2V0KCdldmVudEJ1cycpLmZpcmUoJ2RpYWdyYW0uZGVzdHJveScpO1xufTtcblxuLyoqXG4gKiBDbGVhciB0aGUgZGlhZ3JhbSwgcmVtb3ZpbmcgYWxsIGNvbnRlbnRzLlxuICovXG5EaWFncmFtLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmdldCgnZXZlbnRCdXMnKS5maXJlKCdkaWFncmFtLmNsZWFyJyk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/Diagram.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/command/CommandInterceptor.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/command/CommandInterceptor.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CommandInterceptor)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../core/Types').ElementLike} ElementLike\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandStack').CommandContext} CommandContext\n *\n * @typedef {string|string[]} Events\n * @typedef { (context: CommandContext) => ElementLike[] | void } HandlerFunction\n * @typedef { (context: CommandContext) => void } ComposeHandlerFunction\n */\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A utility that can be used to plug into the command execution for\n * extension and/or validation.\n *\n * @class\n * @constructor\n *\n * @example\n *\n * ```javascript\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * class CommandLogger extends CommandInterceptor {\n *   constructor(eventBus) {\n *     super(eventBus);\n *\n *   this.preExecute('shape.create', (event) => {\n *     console.log('commandStack.shape-create.preExecute', event);\n *   });\n * }\n * ```\n *\n * @param {EventBus} eventBus\n */\nfunction CommandInterceptor(eventBus) {\n\n  /**\n   * @type {EventBus}\n   */\n  this._eventBus = eventBus;\n}\n\nCommandInterceptor.$inject = [ 'eventBus' ];\n\nfunction unwrapEvent(fn, that) {\n  return function(event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n\n/**\n * Intercept a command during one of the phases.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {string} [hook] phase to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.on = function(events, hook, priority, handlerFn, unwrap, that) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(hook) || (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(events)) {\n    events = [ events ];\n  }\n\n  var eventBus = this._eventBus;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(events, function(event) {\n\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = [ 'commandStack', event, hook ].filter(function(e) { return e; }).join('.');\n\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n/**\n * Add a <canExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.canExecute = createHook('canExecute');\n\n/**\n * Add a <preExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecute = createHook('preExecute');\n\n/**\n * Add a <preExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecuted = createHook('preExecuted');\n\n/**\n * Add a <execute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.execute = createHook('execute');\n\n/**\n * Add a <executed> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.executed = createHook('executed');\n\n/**\n * Add a <postExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecute = createHook('postExecute');\n\n/**\n * Add a <postExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecuted = createHook('postExecuted');\n\n/**\n * Add a <revert> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.revert = createHook('revert');\n\n/**\n * Add a <reverted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.reverted = createHook('reverted');\n\n/*\n * Add prototype methods for each phase of command execution (e.g. execute,\n * revert).\n *\n * @param {string} hook\n *\n * @return { (\n *   events?: Events,\n *   priority?: number,\n *   handlerFn: ComposeHandlerFunction|HandlerFunction,\n *   unwrap?: boolean\n * ) => any }\n */\nfunction createHook(hook) {\n\n  /**\n   * @this {CommandInterceptor}\n   *\n   * @param {Events} [events]\n   * @param {number} [priority]\n   * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n   * @param {boolean} [unwrap]\n   * @param {any} [that]\n   */\n  const hookFn = function(events, priority, handlerFn, unwrap, that) {\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(events) || (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n\n  return hookFn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBTWtCOztBQUVsQjtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsb0NBQW9DO0FBQ2pELGFBQWEseUNBQXlDO0FBQ3REO0FBQ0EsYUFBYSxpQkFBaUI7QUFDOUIsY0FBYyxvREFBb0Q7QUFDbEUsY0FBYyxvQ0FBb0M7QUFDbEQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNlOztBQUVmO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLHdDQUF3QztBQUNuRCxXQUFXLFNBQVM7QUFDcEIsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7O0FBRUEsTUFBTSxvREFBVSxVQUFVLGtEQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLG9EQUFVO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxrREFBUTtBQUNkO0FBQ0E7QUFDQTs7QUFFQSxPQUFPLG9EQUFVO0FBQ2pCO0FBQ0E7O0FBRUEsT0FBTyxpREFBTztBQUNkO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRSxpREFBTzs7QUFFVDtBQUNBLHlFQUF5RSxXQUFXOztBQUVwRjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsS0FBSztBQUNsQjtBQUNBOztBQUVBLFFBQVEsb0RBQVUsWUFBWSxrREFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yLmpzP2MzZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZm9yRWFjaCxcbiAgaXNGdW5jdGlvbixcbiAgaXNBcnJheSxcbiAgaXNOdW1iZXIsXG4gIGlzT2JqZWN0XG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb3JlL1R5cGVzJykuRWxlbWVudExpa2V9IEVsZW1lbnRMaWtlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vQ29tbWFuZFN0YWNrJykuQ29tbWFuZENvbnRleHR9IENvbW1hbmRDb250ZXh0XG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xzdHJpbmdbXX0gRXZlbnRzXG4gKiBAdHlwZWRlZiB7IChjb250ZXh0OiBDb21tYW5kQ29udGV4dCkgPT4gRWxlbWVudExpa2VbXSB8IHZvaWQgfSBIYW5kbGVyRnVuY3Rpb25cbiAqIEB0eXBlZGVmIHsgKGNvbnRleHQ6IENvbW1hbmRDb250ZXh0KSA9PiB2b2lkIH0gQ29tcG9zZUhhbmRsZXJGdW5jdGlvblxuICovXG5cbnZhciBERUZBVUxUX1BSSU9SSVRZID0gMTAwMDtcblxuLyoqXG4gKiBBIHV0aWxpdHkgdGhhdCBjYW4gYmUgdXNlZCB0byBwbHVnIGludG8gdGhlIGNvbW1hbmQgZXhlY3V0aW9uIGZvclxuICogZXh0ZW5zaW9uIGFuZC9vciB2YWxpZGF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBpbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcbiAqXG4gKiBjbGFzcyBDb21tYW5kTG9nZ2VyIGV4dGVuZHMgQ29tbWFuZEludGVyY2VwdG9yIHtcbiAqICAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAqICAgICBzdXBlcihldmVudEJ1cyk7XG4gKlxuICogICB0aGlzLnByZUV4ZWN1dGUoJ3NoYXBlLmNyZWF0ZScsIChldmVudCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdjb21tYW5kU3RhY2suc2hhcGUtY3JlYXRlLnByZUV4ZWN1dGUnLCBldmVudCk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29tbWFuZEludGVyY2VwdG9yKGV2ZW50QnVzKSB7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtFdmVudEJ1c31cbiAgICovXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG59XG5cbkNvbW1hbmRJbnRlcmNlcHRvci4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnIF07XG5cbmZ1bmN0aW9uIHVud3JhcEV2ZW50KGZuLCB0aGF0KSB7XG4gIHJldHVybiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBmbi5jYWxsKHRoYXQgfHwgbnVsbCwgZXZlbnQuY29udGV4dCwgZXZlbnQuY29tbWFuZCwgZXZlbnQpO1xuICB9O1xufVxuXG5cbi8qKlxuICogSW50ZXJjZXB0IGEgY29tbWFuZCBkdXJpbmcgb25lIG9mIHRoZSBwaGFzZXMuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge3N0cmluZ30gW2hvb2tdIHBoYXNlIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudHMsIGhvb2ssIHByaW9yaXR5LCBoYW5kbGVyRm4sIHVud3JhcCwgdGhhdCkge1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhvb2spIHx8IGlzTnVtYmVyKGhvb2spKSB7XG4gICAgdGhhdCA9IHVud3JhcDtcbiAgICB1bndyYXAgPSBoYW5kbGVyRm47XG4gICAgaGFuZGxlckZuID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBob29rO1xuICAgIGhvb2sgPSBudWxsO1xuICB9XG5cbiAgaWYgKGlzRnVuY3Rpb24ocHJpb3JpdHkpKSB7XG4gICAgdGhhdCA9IHVud3JhcDtcbiAgICB1bndyYXAgPSBoYW5kbGVyRm47XG4gICAgaGFuZGxlckZuID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0KHVud3JhcCkpIHtcbiAgICB0aGF0ID0gdW53cmFwO1xuICAgIHVud3JhcCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGhhbmRsZXJGbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhbmRsZXJGbiBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGlmICghaXNBcnJheShldmVudHMpKSB7XG4gICAgZXZlbnRzID0gWyBldmVudHMgXTtcbiAgfVxuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIGZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgLy8gY29uY2F0IGNvbW1hbmRTdGFjayguZXZlbnQpPyguaG9vayk/XG4gICAgdmFyIGZ1bGxFdmVudCA9IFsgJ2NvbW1hbmRTdGFjaycsIGV2ZW50LCBob29rIF0uZmlsdGVyKGZ1bmN0aW9uKGUpIHsgcmV0dXJuIGU7IH0pLmpvaW4oJy4nKTtcblxuICAgIGV2ZW50QnVzLm9uKGZ1bGxFdmVudCwgcHJpb3JpdHksIHVud3JhcCA/IHVud3JhcEV2ZW50KGhhbmRsZXJGbiwgdGhhdCkgOiBoYW5kbGVyRm4sIHRoYXQpO1xuICB9KTtcbn07XG5cbi8qKlxuICogQWRkIGEgPGNhbkV4ZWN1dGU+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5jYW5FeGVjdXRlID0gY3JlYXRlSG9vaygnY2FuRXhlY3V0ZScpO1xuXG4vKipcbiAqIEFkZCBhIDxwcmVFeGVjdXRlPiBwaGFzZSBvZiBjb21tYW5kIGludGVyY2VwdG9yLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXSBjb21tYW5kKHMpIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUucHJlRXhlY3V0ZSA9IGNyZWF0ZUhvb2soJ3ByZUV4ZWN1dGUnKTtcblxuLyoqXG4gKiBBZGQgYSA8cHJlRXhlY3V0ZWQ+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5wcmVFeGVjdXRlZCA9IGNyZWF0ZUhvb2soJ3ByZUV4ZWN1dGVkJyk7XG5cbi8qKlxuICogQWRkIGEgPGV4ZWN1dGU+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5leGVjdXRlID0gY3JlYXRlSG9vaygnZXhlY3V0ZScpO1xuXG4vKipcbiAqIEFkZCBhIDxleGVjdXRlZD4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLmV4ZWN1dGVkID0gY3JlYXRlSG9vaygnZXhlY3V0ZWQnKTtcblxuLyoqXG4gKiBBZGQgYSA8cG9zdEV4ZWN1dGU+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGNyZWF0ZUhvb2soJ3Bvc3RFeGVjdXRlJyk7XG5cbi8qKlxuICogQWRkIGEgPHBvc3RFeGVjdXRlZD4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLnBvc3RFeGVjdXRlZCA9IGNyZWF0ZUhvb2soJ3Bvc3RFeGVjdXRlZCcpO1xuXG4vKipcbiAqIEFkZCBhIDxyZXZlcnQ+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5yZXZlcnQgPSBjcmVhdGVIb29rKCdyZXZlcnQnKTtcblxuLyoqXG4gKiBBZGQgYSA8cmV2ZXJ0ZWQ+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5yZXZlcnRlZCA9IGNyZWF0ZUhvb2soJ3JldmVydGVkJyk7XG5cbi8qXG4gKiBBZGQgcHJvdG90eXBlIG1ldGhvZHMgZm9yIGVhY2ggcGhhc2Ugb2YgY29tbWFuZCBleGVjdXRpb24gKGUuZy4gZXhlY3V0ZSxcbiAqIHJldmVydCkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhvb2tcbiAqXG4gKiBAcmV0dXJuIHsgKFxuICogICBldmVudHM/OiBFdmVudHMsXG4gKiAgIHByaW9yaXR5PzogbnVtYmVyLFxuICogICBoYW5kbGVyRm46IENvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9uLFxuICogICB1bndyYXA/OiBib29sZWFuXG4gKiApID0+IGFueSB9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUhvb2soaG9vaykge1xuXG4gIC8qKlxuICAgKiBAdGhpcyB7Q29tbWFuZEludGVyY2VwdG9yfVxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c11cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAgICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF1cbiAgICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICAgKi9cbiAgY29uc3QgaG9va0ZuID0gZnVuY3Rpb24oZXZlbnRzLCBwcmlvcml0eSwgaGFuZGxlckZuLCB1bndyYXAsIHRoYXQpIHtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGV2ZW50cykgfHwgaXNOdW1iZXIoZXZlbnRzKSkge1xuICAgICAgdGhhdCA9IHVud3JhcDtcbiAgICAgIHVud3JhcCA9IGhhbmRsZXJGbjtcbiAgICAgIGhhbmRsZXJGbiA9IHByaW9yaXR5O1xuICAgICAgcHJpb3JpdHkgPSBldmVudHM7XG4gICAgICBldmVudHMgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMub24oZXZlbnRzLCBob29rLCBwcmlvcml0eSwgaGFuZGxlckZuLCB1bndyYXAsIHRoYXQpO1xuICB9O1xuXG4gIHJldHVybiBob29rRm47XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/command/CommandInterceptor.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/core/Canvas.js":
/*!********************************************************!*\
  !*** ../../node_modules/diagram-js/lib/core/Canvas.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Canvas)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"(ssr)/../../node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_Collections__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Collections */ \"(ssr)/../../node_modules/diagram-js/lib/util/Collections.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Elements */ \"(ssr)/../../node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layout/LayoutUtil */ \"(ssr)/../../node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/../../node_modules/tiny-svg/dist/index.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('./Types').ConnectionLike} ConnectionLike\n * @typedef {import('./Types').RootLike} RootLike\n * @typedef {import('./Types').ParentLike } ParentLike\n * @typedef {import('./Types').ShapeLike} ShapeLike\n *\n * @typedef { {\n *   container?: HTMLElement;\n *   deferUpdate?: boolean;\n *   width?: number;\n *   height?: number;\n *   autoFocus?: boolean;\n * } } CanvasConfig\n * @typedef { {\n *   group: SVGElement;\n *   index: number;\n *   visible: boolean;\n * } } CanvasLayer\n * @typedef { {\n *   [key: string]: CanvasLayer;\n * } } CanvasLayers\n * @typedef { {\n *   rootElement: ShapeLike;\n *   layer: CanvasLayer;\n * } } CanvasPlane\n * @typedef { {\n *   scale: number;\n *   inner: Rect;\n *   outer: Dimensions;\n * } & Rect } CanvasViewbox\n *\n * @typedef {import('./ElementRegistry').default} ElementRegistry\n * @typedef {import('./EventBus').default} EventBus\n * @typedef {import('./GraphicsFactory').default} GraphicsFactory\n *\n * @typedef {import('../util/Types').Dimensions} Dimensions\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n * @typedef {import('../util/Types').RectTRBL} RectTRBL\n * @typedef {import('../util/Types').ScrollDelta} ScrollDelta\n */\n\nfunction round(number, resolution) {\n  return Math.round(number * resolution) / resolution;\n}\n\nfunction ensurePx(number) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(number) ? number + 'px' : number;\n}\n\nfunction findRoot(element) {\n  while (element.parent) {\n    element = element.parent;\n  }\n\n  return element;\n}\n\n/**\n * Creates a HTML container element for a SVG element with\n * the given configuration\n *\n * @param {CanvasConfig} options\n *\n * @return {HTMLElement} the container element\n */\nfunction createContainer(options) {\n\n  options = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, { width: '100%', height: '100%' }, options);\n\n  const container = options.container || document.body;\n\n  // create a <div> around the svg element with the respective size\n  // this way we can always get the correct container size\n  // (this is impossible for <svg> elements at the moment)\n  const parent = document.createElement('div');\n  parent.setAttribute('class', 'djs-container djs-parent');\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.assignStyle)(parent, {\n    position: 'relative',\n    overflow: 'hidden',\n    width: ensurePx(options.width),\n    height: ensurePx(options.height)\n  });\n\n  container.appendChild(parent);\n\n  return parent;\n}\n\nfunction createGroup(parent, cls, childIndex) {\n  const group = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('g');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(group).add(cls);\n\n  const index = childIndex !== undefined ? childIndex : parent.childNodes.length - 1;\n\n  // must ensure second argument is node or _null_\n  // cf. https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\n  parent.insertBefore(group, parent.childNodes[index] || null);\n\n  return group;\n}\n\nconst BASE_LAYER = 'base';\n\n// render plane contents behind utility layers\nconst PLANE_LAYER_INDEX = 0;\nconst UTILITY_LAYER_INDEX = 1;\n\n\nconst REQUIRED_MODEL_ATTRS = {\n  shape: [ 'x', 'y', 'width', 'height' ],\n  connection: [ 'waypoints' ]\n};\n\n/**\n * The main drawing canvas.\n *\n * @class\n * @constructor\n *\n * @emits Canvas#canvas.init\n *\n * @param {CanvasConfig|null} config\n * @param {EventBus} eventBus\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementRegistry} elementRegistry\n */\nfunction Canvas(config, eventBus, graphicsFactory, elementRegistry) {\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n  this._graphicsFactory = graphicsFactory;\n\n  /**\n   * @type {number}\n   */\n  this._rootsIdx = 0;\n\n  /**\n   * @type {CanvasLayers}\n   */\n  this._layers = {};\n\n  /**\n   * @type {CanvasPlane[]}\n   */\n  this._planes = [];\n\n  /**\n   * @type {RootLike|null}\n   */\n  this._rootElement = null;\n\n  /**\n   * @type {boolean}\n   */\n  this._focused = false;\n\n  this._init(config || {});\n}\n\nCanvas.$inject = [\n  'config.canvas',\n  'eventBus',\n  'graphicsFactory',\n  'elementRegistry'\n];\n\n/**\n * Creates a <svg> element that is wrapped into a <div>.\n * This way we are always able to correctly figure out the size of the svg element\n * by querying the parent node.\n\n * (It is not possible to get the size of a svg element cross browser @ 2014-04-01)\n\n * <div class=\"djs-container\" style=\"width: {desired-width}, height: {desired-height}\">\n *   <svg width=\"100%\" height=\"100%\">\n *    ...\n *   </svg>\n * </div>\n *\n * @param {CanvasConfig} config\n */\nCanvas.prototype._init = function(config) {\n  const eventBus = this._eventBus;\n\n  // html container\n  const container = this._container = createContainer(config);\n\n  const svg = this._svg = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('svg');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(svg, {\n    width: '100%',\n    height: '100%'\n  });\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(svg, 'tabindex', 0);\n\n  config.autoFocus && eventBus.on('element.hover', () => {\n    this.restoreFocus();\n  });\n\n  eventBus.on('element.mousedown', 500, (event) => {\n    this.focus();\n  });\n\n  svg.addEventListener('focusin', () => {\n    this._setFocused(true);\n  });\n\n  svg.addEventListener('focusout', () => {\n    this._setFocused(false);\n  });\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(container, svg);\n\n  const viewport = this._viewport = createGroup(svg, 'viewport');\n\n  // debounce canvas.viewbox.changed events when deferUpdate is set\n  // to help with potential performance issues\n  if (config.deferUpdate) {\n    this._viewboxChanged = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.debounce)((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.bind)(this._viewboxChanged, this), 300);\n  }\n\n  eventBus.on('diagram.init', () => {\n\n    /**\n     * An event indicating that the canvas is ready to be drawn on.\n     *\n     * @memberOf Canvas\n     *\n     * @event canvas.init\n     *\n     * @type {Object}\n     * @property {SVGElement} svg the created svg element\n     * @property {SVGElement} viewport the direct parent of diagram elements and shapes\n     */\n    eventBus.fire('canvas.init', {\n      svg: svg,\n      viewport: viewport\n    });\n\n  });\n\n  // reset viewbox on shape changes to\n  // recompute the viewbox\n  eventBus.on([\n    'shape.added',\n    'connection.added',\n    'shape.removed',\n    'connection.removed',\n    'elements.changed',\n    'root.set'\n  ], () => {\n    delete this._cachedViewbox;\n  });\n\n  eventBus.on('diagram.destroy', 500, this._destroy, this);\n  eventBus.on('diagram.clear', 500, this._clear, this);\n};\n\nCanvas.prototype._destroy = function() {\n  this._eventBus.fire('canvas.destroy', {\n    svg: this._svg,\n    viewport: this._viewport\n  });\n\n  const parent = this._container.parentNode;\n\n  if (parent) {\n    parent.removeChild(this._container);\n  }\n\n  delete this._svg;\n  delete this._container;\n  delete this._layers;\n  delete this._planes;\n  delete this._rootElement;\n  delete this._viewport;\n};\n\nCanvas.prototype._setFocused = function(focused) {\n\n  if (focused == this._focused) {\n    return;\n  }\n\n  this._focused = focused;\n\n  this._eventBus.fire('canvas.focus.changed', { focused });\n};\n\nCanvas.prototype._clear = function() {\n\n  const allElements = this._elementRegistry.getAll();\n\n  // remove all elements\n  allElements.forEach(element => {\n    const type = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getType)(element);\n\n    if (type === 'root') {\n      this.removeRootElement(element);\n    } else {\n      this._removeElement(element, type);\n    }\n  });\n\n  // remove all planes\n  this._planes = [];\n  this._rootElement = null;\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n};\n\n/**\n * Sets focus on the canvas SVG element.\n */\nCanvas.prototype.focus = function() {\n  this._svg.focus({ preventScroll: true });\n\n  this._setFocused(true);\n};\n\n/**\n* Sets focus on the canvas SVG element if `document.body` is currently focused.\n*/\nCanvas.prototype.restoreFocus = function() {\n  if (document.activeElement === document.body) {\n    this.focus();\n  }\n};\n\n/**\n* Returns true if the canvas is focused.\n*\n* @return {boolean}\n*/\nCanvas.prototype.isFocused = function() {\n  return this._focused;\n};\n\n/**\n * Returns the default layer on which\n * all elements are drawn.\n *\n * @return {SVGElement}  The SVG element of the layer.\n */\nCanvas.prototype.getDefaultLayer = function() {\n  return this.getLayer(BASE_LAYER, PLANE_LAYER_INDEX);\n};\n\n/**\n * Returns a layer that is used to draw elements\n * or annotations on it.\n *\n * Non-existing layers retrieved through this method\n * will be created. During creation, the optional index\n * may be used to create layers below or above existing layers.\n * A layer with a certain index is always created above all\n * existing layers with the same index.\n *\n * @param {string} name The name of the layer.\n * @param {number} [index] The index of the layer.\n *\n * @return {SVGElement} The SVG element of the layer.\n */\nCanvas.prototype.getLayer = function(name, index) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  let layer = this._layers[name];\n\n  if (!layer) {\n    layer = this._layers[name] = this._createLayer(name, index);\n  }\n\n  // throw an error if layer creation / retrival is\n  // requested on different index\n  if (typeof index !== 'undefined' && layer.index !== index) {\n    throw new Error('layer <' + name + '> already created at index <' + index + '>');\n  }\n\n  return layer.group;\n};\n\n/**\n * For a given index, return the number of layers that have a higher index and\n * are visible.\n *\n * This is used to determine the node a layer should be inserted at.\n *\n * @param {number} index\n *\n * @return {number}\n */\nCanvas.prototype._getChildIndex = function(index) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.reduce)(this._layers, function(childIndex, layer) {\n    if (layer.visible && index >= layer.index) {\n      childIndex++;\n    }\n\n    return childIndex;\n  }, 0);\n};\n\n/**\n * Creates a given layer and returns it.\n *\n * @param {string} name\n * @param {number} [index=0]\n *\n * @return {CanvasLayer}\n */\nCanvas.prototype._createLayer = function(name, index) {\n\n  if (typeof index === 'undefined') {\n    index = UTILITY_LAYER_INDEX;\n  }\n\n  const childIndex = this._getChildIndex(index);\n\n  return {\n    group: createGroup(this._viewport, 'layer-' + name, childIndex),\n    index: index,\n    visible: true\n  };\n};\n\n\n/**\n * Shows a given layer.\n *\n * @param {string} name The name of the layer.\n *\n * @return {SVGElement} The SVG element of the layer.\n */\nCanvas.prototype.showLayer = function(name) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  const layer = this._layers[name];\n\n  if (!layer) {\n    throw new Error('layer <' + name + '> does not exist');\n  }\n\n  const viewport = this._viewport;\n  const group = layer.group;\n  const index = layer.index;\n\n  if (layer.visible) {\n    return group;\n  }\n\n  const childIndex = this._getChildIndex(index);\n\n  viewport.insertBefore(group, viewport.childNodes[childIndex] || null);\n\n  layer.visible = true;\n\n  return group;\n};\n\n/**\n * Hides a given layer.\n *\n * @param {string} name The name of the layer.\n *\n * @return {SVGElement} The SVG element of the layer.\n */\nCanvas.prototype.hideLayer = function(name) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  const layer = this._layers[name];\n\n  if (!layer) {\n    throw new Error('layer <' + name + '> does not exist');\n  }\n\n  const group = layer.group;\n\n  if (!layer.visible) {\n    return group;\n  }\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.remove)(group);\n\n  layer.visible = false;\n\n  return group;\n};\n\n\nCanvas.prototype._removeLayer = function(name) {\n\n  const layer = this._layers[name];\n\n  if (layer) {\n    delete this._layers[name];\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.remove)(layer.group);\n  }\n};\n\n/**\n * Returns the currently active layer. Can be null.\n *\n * @return {CanvasLayer|null} The active layer of `null`.\n */\nCanvas.prototype.getActiveLayer = function() {\n  const plane = this._findPlaneForRoot(this.getRootElement());\n\n  if (!plane) {\n    return null;\n  }\n\n  return plane.layer;\n};\n\n\n/**\n * Returns the plane which contains the given element.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n *\n * @return {RootLike|undefined} The root of the element.\n */\nCanvas.prototype.findRoot = function(element) {\n  if (typeof element === 'string') {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!element) {\n    return;\n  }\n\n  const plane = this._findPlaneForRoot(\n    findRoot(element)\n  ) || {};\n\n  return plane.rootElement;\n};\n\n/**\n * Return a list of all root elements on the diagram.\n *\n * @return {(RootLike)[]} The list of root elements.\n */\nCanvas.prototype.getRootElements = function() {\n  return this._planes.map(function(plane) {\n    return plane.rootElement;\n  });\n};\n\nCanvas.prototype._findPlaneForRoot = function(rootElement) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(this._planes, function(plane) {\n    return plane.rootElement === rootElement;\n  });\n};\n\n\n/**\n * Returns the html element that encloses the\n * drawing canvas.\n *\n * @return {HTMLElement} The HTML element of the container.\n */\nCanvas.prototype.getContainer = function() {\n  return this._container;\n};\n\n\n// markers //////////////////////\n\nCanvas.prototype._updateMarker = function(element, marker, add) {\n  let container;\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  element.markers = element.markers || new Set();\n\n  // we need to access all\n  container = this._elementRegistry._elements[element.id];\n\n  if (!container) {\n    return;\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)([ container.gfx, container.secondaryGfx ], function(gfx) {\n    if (gfx) {\n\n      // invoke either addClass or removeClass based on mode\n      if (add) {\n        element.markers.add(marker);\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(gfx).add(marker);\n      } else {\n        element.markers.delete(marker);\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(gfx).remove(marker);\n      }\n    }\n  });\n\n  /**\n   * An event indicating that a marker has been updated for an element\n   *\n   * @event element.marker.update\n   * @type {Object}\n   * @property {Element} element the shape\n   * @property {SVGElement} gfx the graphical representation of the shape\n   * @property {string} marker\n   * @property {boolean} add true if the marker was added, false if it got removed\n   */\n  this._eventBus.fire('element.marker.update', { element: element, gfx: container.gfx, marker: marker, add: !!add });\n};\n\n\n/**\n * Adds a marker to an element (basically a css class).\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @example\n *\n * ```javascript\n * canvas.addMarker('foo', 'some-marker');\n *\n * const fooGfx = canvas.getGraphics('foo');\n *\n * fooGfx; // <g class=\"... some-marker\"> ... </g>\n * ```\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.addMarker = function(element, marker) {\n  this._updateMarker(element, marker, true);\n};\n\n\n/**\n * Remove a marker from an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.removeMarker = function(element, marker) {\n  this._updateMarker(element, marker, false);\n};\n\n/**\n * Check whether an element has a given marker.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.hasMarker = function(element, marker) {\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!element.markers) {\n    return false;\n  }\n\n  return element.markers.has(marker);\n};\n\n/**\n * Toggles a marker on an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.toggleMarker = function(element, marker) {\n  if (this.hasMarker(element, marker)) {\n    this.removeMarker(element, marker);\n  } else {\n    this.addMarker(element, marker);\n  }\n};\n\n/**\n * Returns the current root element.\n *\n * Supports two different modes for handling root elements:\n *\n * 1. if no root element has been added before, an implicit root will be added\n * and returned. This is used in applications that don't require explicit\n * root elements.\n *\n * 2. when root elements have been added before calling `getRootElement`,\n * root elements can be null. This is used for applications that want to manage\n * root elements themselves.\n *\n * @return {RootLike} The current root element.\n */\nCanvas.prototype.getRootElement = function() {\n  const rootElement = this._rootElement;\n\n  // can return null if root elements are present but none was set yet\n  if (rootElement || this._planes.length) {\n    return rootElement;\n  }\n\n  return this.setRootElement(this.addRootElement(null));\n};\n\n/**\n * Adds a given root element and returns it.\n *\n * @param {RootLike} [rootElement] The root element to be added.\n *\n * @return {RootLike} The added root element or an implicit root element.\n */\nCanvas.prototype.addRootElement = function(rootElement) {\n  const idx = this._rootsIdx++;\n\n  if (!rootElement) {\n    rootElement = {\n      id: '__implicitroot_' + idx,\n      children: [],\n      isImplicit: true\n    };\n  }\n\n  const layerName = rootElement.layer = 'root-' + idx;\n\n  this._ensureValid('root', rootElement);\n\n  const layer = this.getLayer(layerName, PLANE_LAYER_INDEX);\n\n  this.hideLayer(layerName);\n\n  this._addRoot(rootElement, layer);\n\n  this._planes.push({\n    rootElement: rootElement,\n    layer: layer\n  });\n\n  return rootElement;\n};\n\n/**\n * Removes a given root element and returns it.\n *\n * @param {RootLike|string} rootElement element or element ID\n *\n * @return {RootLike|undefined} removed element\n */\nCanvas.prototype.removeRootElement = function(rootElement) {\n\n  if (typeof rootElement === 'string') {\n    rootElement = this._elementRegistry.get(rootElement);\n  }\n\n  const plane = this._findPlaneForRoot(rootElement);\n\n  if (!plane) {\n    return;\n  }\n\n  // hook up life-cycle events\n  this._removeRoot(rootElement);\n\n  // clean up layer\n  this._removeLayer(rootElement.layer);\n\n  // clean up plane\n  this._planes = this._planes.filter(function(plane) {\n    return plane.rootElement !== rootElement;\n  });\n\n  // clean up active root\n  if (this._rootElement === rootElement) {\n    this._rootElement = null;\n  }\n\n  return rootElement;\n};\n\n\n/**\n * Sets a given element as the new root element for the canvas\n * and returns the new root element.\n *\n * @param {RootLike} rootElement The root element to be set.\n *\n * @return {RootLike} The set root element.\n */\nCanvas.prototype.setRootElement = function(rootElement) {\n\n  if (rootElement === this._rootElement) {\n    return rootElement;\n  }\n\n  let plane;\n\n  if (!rootElement) {\n    throw new Error('rootElement required');\n  }\n\n  plane = this._findPlaneForRoot(rootElement);\n\n  // give set add semantics for backwards compatibility\n  if (!plane) {\n    rootElement = this.addRootElement(rootElement);\n  }\n\n  this._setRoot(rootElement);\n\n  return rootElement;\n};\n\n\nCanvas.prototype._removeRoot = function(element) {\n  const elementRegistry = this._elementRegistry,\n        eventBus = this._eventBus;\n\n  // simulate element remove event sequence\n  eventBus.fire('root.remove', { element: element });\n  eventBus.fire('root.removed', { element: element });\n\n  elementRegistry.remove(element);\n};\n\n\nCanvas.prototype._addRoot = function(element, gfx) {\n  const elementRegistry = this._elementRegistry,\n        eventBus = this._eventBus;\n\n  // resemble element add event sequence\n  eventBus.fire('root.add', { element: element });\n\n  elementRegistry.add(element, gfx);\n\n  eventBus.fire('root.added', { element: element, gfx: gfx });\n};\n\n\nCanvas.prototype._setRoot = function(rootElement, layer) {\n\n  const currentRoot = this._rootElement;\n\n  if (currentRoot) {\n\n    // un-associate previous root element <svg>\n    this._elementRegistry.updateGraphics(currentRoot, null, true);\n\n    // hide previous layer\n    this.hideLayer(currentRoot.layer);\n  }\n\n  if (rootElement) {\n\n    if (!layer) {\n      layer = this._findPlaneForRoot(rootElement).layer;\n    }\n\n    // associate element with <svg>\n    this._elementRegistry.updateGraphics(rootElement, this._svg, true);\n\n    // show root layer\n    this.showLayer(rootElement.layer);\n  }\n\n  this._rootElement = rootElement;\n\n  this._eventBus.fire('root.set', { element: rootElement });\n};\n\nCanvas.prototype._ensureValid = function(type, element) {\n  if (!element.id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elementRegistry.get(element.id)) {\n    throw new Error('element <' + element.id + '> already exists');\n  }\n\n  const requiredAttrs = REQUIRED_MODEL_ATTRS[type];\n\n  const valid = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(requiredAttrs, function(attr) {\n    return typeof element[attr] !== 'undefined';\n  });\n\n  if (!valid) {\n    throw new Error(\n      'must supply { ' + requiredAttrs.join(', ') + ' } with ' + type);\n  }\n};\n\nCanvas.prototype._setParent = function(element, parent, parentIndex) {\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_4__.add)(parent.children, element, parentIndex);\n  element.parent = parent;\n};\n\n/**\n * Adds an element to the canvas.\n *\n * This wires the parent <-> child relationship between the element and\n * a explicitly specified parent or an implicit root element.\n *\n * During add it emits the events\n *\n *  * <{type}.add> (element, parent)\n *  * <{type}.added> (element, gfx)\n *\n * Extensions may hook into these events to perform their magic.\n *\n * @param {string} type\n * @param {ConnectionLike|ShapeLike} element\n * @param {ShapeLike} [parent]\n * @param {number} [parentIndex]\n *\n * @return {ConnectionLike|ShapeLike} The added element.\n */\nCanvas.prototype._addElement = function(type, element, parent, parentIndex) {\n\n  parent = parent || this.getRootElement();\n\n  const eventBus = this._eventBus,\n        graphicsFactory = this._graphicsFactory;\n\n  this._ensureValid(type, element);\n\n  eventBus.fire(type + '.add', { element: element, parent: parent });\n\n  this._setParent(element, parent, parentIndex);\n\n  // create graphics\n  const gfx = graphicsFactory.create(type, element, parentIndex);\n\n  this._elementRegistry.add(element, gfx);\n\n  // update its visual\n  graphicsFactory.update(type, element, gfx);\n\n  eventBus.fire(type + '.added', { element: element, gfx: gfx });\n\n  return element;\n};\n\n/**\n * Adds a shape to the canvas.\n *\n * @param {ShapeLike} shape The shape to be added\n * @param {ParentLike} [parent] The shape's parent.\n * @param {number} [parentIndex] The index at which to add the shape to the parent's children.\n *\n * @return {ShapeLike} The added shape.\n */\nCanvas.prototype.addShape = function(shape, parent, parentIndex) {\n  return this._addElement('shape', shape, parent, parentIndex);\n};\n\n/**\n * Adds a connection to the canvas.\n *\n * @param {ConnectionLike} connection The connection to be added.\n * @param {ParentLike} [parent] The connection's parent.\n * @param {number} [parentIndex] The index at which to add the connection to the parent's children.\n *\n * @return {ConnectionLike} The added connection.\n */\nCanvas.prototype.addConnection = function(connection, parent, parentIndex) {\n  return this._addElement('connection', connection, parent, parentIndex);\n};\n\n\n/**\n * Internal remove element\n */\nCanvas.prototype._removeElement = function(element, type) {\n\n  const elementRegistry = this._elementRegistry,\n        graphicsFactory = this._graphicsFactory,\n        eventBus = this._eventBus;\n\n  element = elementRegistry.get(element.id || element);\n\n  if (!element) {\n\n    // element was removed already\n    return;\n  }\n\n  eventBus.fire(type + '.remove', { element: element });\n\n  graphicsFactory.remove(element);\n\n  // unset parent <-> child relationship\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_4__.remove)(element.parent && element.parent.children, element);\n  element.parent = null;\n\n  eventBus.fire(type + '.removed', { element: element });\n\n  elementRegistry.remove(element);\n\n  return element;\n};\n\n\n/**\n * Removes a shape from the canvas.\n *\n * @fires ShapeRemoveEvent\n * @fires ShapeRemovedEvent\n *\n * @param {ShapeLike|string} shape The shape or its ID.\n *\n * @return {ShapeLike} The removed shape.\n */\nCanvas.prototype.removeShape = function(shape) {\n\n  /**\n   * An event indicating that a shape is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ShapeRemoveEvent\n   * @type {Object}\n   * @property {ShapeLike} element The shape.\n   * @property {SVGElement} gfx The graphical element.\n   */\n\n  /**\n   * An event indicating that a shape has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ShapeRemovedEvent\n   * @type {Object}\n   * @property {ShapeLike} element The shape.\n   * @property {SVGElement} gfx The graphical element.\n   */\n  return this._removeElement(shape, 'shape');\n};\n\n\n/**\n * Removes a connection from the canvas.\n *\n * @fires ConnectionRemoveEvent\n * @fires ConnectionRemovedEvent\n *\n * @param {ConnectionLike|string} connection The connection or its ID.\n *\n * @return {ConnectionLike} The removed connection.\n */\nCanvas.prototype.removeConnection = function(connection) {\n\n  /**\n   * An event indicating that a connection is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ConnectionRemoveEvent\n   * @type {Object}\n   * @property {ConnectionLike} element The connection.\n   * @property {SVGElement} gfx The graphical element.\n   */\n\n  /**\n   * An event indicating that a connection has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ConnectionRemovedEvent\n   * @type {Object}\n   * @property {ConnectionLike} element The connection.\n   * @property {SVGElement} gfx The graphical element.\n   */\n  return this._removeElement(connection, 'connection');\n};\n\n\n/**\n * Returns the graphical element of an element.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {boolean} [secondary=false] Whether to return the secondary graphical element.\n *\n * @return {SVGElement} The graphical element.\n */\nCanvas.prototype.getGraphics = function(element, secondary) {\n  return this._elementRegistry.getGraphics(element, secondary);\n};\n\n\n/**\n * Perform a viewbox update via a given change function.\n *\n * @param {Function} changeFn\n */\nCanvas.prototype._changeViewbox = function(changeFn) {\n\n  // notify others of the upcoming viewbox change\n  this._eventBus.fire('canvas.viewbox.changing');\n\n  // perform actual change\n  changeFn.apply(this);\n\n  // reset the cached viewbox so that\n  // a new get operation on viewbox or zoom\n  // triggers a viewbox re-computation\n  this._cachedViewbox = null;\n\n  // notify others of the change; this step\n  // may or may not be debounced\n  this._viewboxChanged();\n};\n\nCanvas.prototype._viewboxChanged = function() {\n  this._eventBus.fire('canvas.viewbox.changed', { viewbox: this.viewbox() });\n};\n\n\n/**\n * Gets or sets the view box of the canvas, i.e. the\n * area that is currently displayed.\n *\n * The getter may return a cached viewbox (if it is currently\n * changing). To force a recomputation, pass `false` as the first argument.\n *\n * @example\n *\n * ```javascript\n * canvas.viewbox({ x: 100, y: 100, width: 500, height: 500 })\n *\n * // sets the visible area of the diagram to (100|100) -> (600|100)\n * // and and scales it according to the diagram width\n *\n * const viewbox = canvas.viewbox(); // pass `false` to force recomputing the box.\n *\n * console.log(viewbox);\n * // {\n * //   inner: Dimensions,\n * //   outer: Dimensions,\n * //   scale,\n * //   x, y,\n * //   width, height\n * // }\n *\n * // if the current diagram is zoomed and scrolled, you may reset it to the\n * // default zoom via this method, too:\n *\n * const zoomedAndScrolledViewbox = canvas.viewbox();\n *\n * canvas.viewbox({\n *   x: 0,\n *   y: 0,\n *   width: zoomedAndScrolledViewbox.outer.width,\n *   height: zoomedAndScrolledViewbox.outer.height\n * });\n * ```\n *\n * @param {Rect} [box] The viewbox to be set.\n *\n * @return {CanvasViewbox} The set viewbox.\n */\nCanvas.prototype.viewbox = function(box) {\n\n  if (box === undefined && this._cachedViewbox) {\n    return structuredClone(this._cachedViewbox);\n  }\n\n  const viewport = this._viewport,\n        outerBox = this.getSize();\n  let innerBox,\n      matrix,\n      activeLayer,\n      transform,\n      scale,\n      x, y;\n\n  if (!box) {\n\n    // compute the inner box based on the\n    // diagrams active layer. This allows us to exclude\n    // external components, such as overlays\n\n    activeLayer = this._rootElement ? this.getActiveLayer() : null;\n    innerBox = activeLayer && activeLayer.getBBox() || {};\n\n    transform = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.transform)(viewport);\n    matrix = transform ? transform.matrix : (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.createMatrix)();\n    scale = round(matrix.a, 1000);\n\n    x = round(-matrix.e || 0, 1000);\n    y = round(-matrix.f || 0, 1000);\n\n    box = this._cachedViewbox = {\n      x: x ? x / scale : 0,\n      y: y ? y / scale : 0,\n      width: outerBox.width / scale,\n      height: outerBox.height / scale,\n      scale: scale,\n      inner: {\n        width: innerBox.width || 0,\n        height: innerBox.height || 0,\n        x: innerBox.x || 0,\n        y: innerBox.y || 0\n      },\n      outer: outerBox\n    };\n\n    return box;\n  } else {\n\n    this._changeViewbox(function() {\n      scale = Math.min(outerBox.width / box.width, outerBox.height / box.height);\n\n      const matrix = this._svg.createSVGMatrix()\n        .scale(scale)\n        .translate(-box.x, -box.y);\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.transform)(viewport, matrix);\n    });\n  }\n\n  return box;\n};\n\n\n/**\n * Gets or sets the scroll of the canvas.\n *\n * @param {ScrollDelta} [delta] The scroll to be set.\n *\n * @return {Point}\n */\nCanvas.prototype.scroll = function(delta) {\n\n  const node = this._viewport;\n  let matrix = node.getCTM();\n\n  if (delta) {\n    this._changeViewbox(function() {\n      delta = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({ dx: 0, dy: 0 }, delta || {});\n\n      matrix = this._svg.createSVGMatrix().translate(delta.dx, delta.dy).multiply(matrix);\n\n      setCTM(node, matrix);\n    });\n  }\n\n  return { x: matrix.e, y: matrix.f };\n};\n\n/**\n * Scrolls the viewbox to contain the given element.\n * Optionally specify a padding to be applied to the edges.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element to scroll to or its ID.\n * @param {RectTRBL|number} [padding=100] The padding to be applied. Can also specify top, bottom, left and right.\n */\nCanvas.prototype.scrollToElement = function(element, padding) {\n  let defaultPadding = 100;\n\n  if (typeof element === 'string') {\n    element = this._elementRegistry.get(element);\n  }\n\n  // set to correct rootElement\n  const rootElement = this.findRoot(element);\n\n  if (rootElement !== this.getRootElement()) {\n    this.setRootElement(rootElement);\n  }\n\n  // element is rootElement, do not change viewport\n  if (rootElement === element) {\n    return;\n  }\n\n  if (!padding) {\n    padding = {};\n  }\n  if (typeof padding === 'number') {\n    defaultPadding = padding;\n  }\n\n  padding = {\n    top: padding.top || defaultPadding,\n    right: padding.right || defaultPadding,\n    bottom: padding.bottom || defaultPadding,\n    left: padding.left || defaultPadding\n  };\n\n  const elementBounds = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getBBox)(element),\n        elementTrbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_5__.asTRBL)(elementBounds),\n        viewboxBounds = this.viewbox(),\n        zoom = this.zoom();\n  let dx, dy;\n\n  // shrink viewboxBounds with padding\n  viewboxBounds.y += padding.top / zoom;\n  viewboxBounds.x += padding.left / zoom;\n  viewboxBounds.width -= (padding.right + padding.left) / zoom;\n  viewboxBounds.height -= (padding.bottom + padding.top) / zoom;\n\n  const viewboxTrbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_5__.asTRBL)(viewboxBounds);\n\n  const canFit = elementBounds.width < viewboxBounds.width && elementBounds.height < viewboxBounds.height;\n\n  if (!canFit) {\n\n    // top-left when element can't fit\n    dx = elementBounds.x - viewboxBounds.x;\n    dy = elementBounds.y - viewboxBounds.y;\n\n  } else {\n\n    const dRight = Math.max(0, elementTrbl.right - viewboxTrbl.right),\n          dLeft = Math.min(0, elementTrbl.left - viewboxTrbl.left),\n          dBottom = Math.max(0, elementTrbl.bottom - viewboxTrbl.bottom),\n          dTop = Math.min(0, elementTrbl.top - viewboxTrbl.top);\n\n    dx = dRight || dLeft;\n    dy = dBottom || dTop;\n\n  }\n\n  this.scroll({ dx: -dx * zoom, dy: -dy * zoom });\n};\n\n/**\n * Gets or sets the current zoom of the canvas, optionally zooming to the\n * specified position.\n *\n * The getter may return a cached zoom level. Call it with `false` as the first\n * argument to force recomputation of the current level.\n *\n * @param {number|'fit-viewport'} [newScale] The new zoom level, either a number,\n * i.e. 0.9, or `fit-viewport` to adjust the size to fit the current viewport.\n * @param {Point} [center] The reference point { x: ..., y: ...} to zoom to.\n *\n * @return {number} The set zoom level.\n */\nCanvas.prototype.zoom = function(newScale, center) {\n\n  if (!newScale) {\n    return this.viewbox(newScale).scale;\n  }\n\n  if (newScale === 'fit-viewport') {\n    return this._fitViewport(center);\n  }\n\n  let outer,\n      matrix;\n\n  this._changeViewbox(function() {\n\n    if (typeof center !== 'object') {\n      outer = this.viewbox().outer;\n\n      center = {\n        x: outer.width / 2,\n        y: outer.height / 2\n      };\n    }\n\n    matrix = this._setZoom(newScale, center);\n  });\n\n  return round(matrix.a, 1000);\n};\n\nfunction setCTM(node, m) {\n  const mstr = 'matrix(' + m.a + ',' + m.b + ',' + m.c + ',' + m.d + ',' + m.e + ',' + m.f + ')';\n  node.setAttribute('transform', mstr);\n}\n\nCanvas.prototype._fitViewport = function(center) {\n\n  const vbox = this.viewbox(),\n        outer = vbox.outer,\n        inner = vbox.inner;\n  let newScale,\n      newViewbox;\n\n  // display the complete diagram without zooming in.\n  // instead of relying on internal zoom, we perform a\n  // hard reset on the canvas viewbox to realize this\n  //\n  // if diagram does not need to be zoomed in, we focus it around\n  // the diagram origin instead\n\n  if (inner.x >= 0 &&\n      inner.y >= 0 &&\n      inner.x + inner.width <= outer.width &&\n      inner.y + inner.height <= outer.height &&\n      !center) {\n\n    newViewbox = {\n      x: 0,\n      y: 0,\n      width: Math.max(inner.width + inner.x, outer.width),\n      height: Math.max(inner.height + inner.y, outer.height)\n    };\n  } else {\n\n    newScale = Math.min(1, outer.width / inner.width, outer.height / inner.height);\n    newViewbox = {\n      x: inner.x + (center ? inner.width / 2 - outer.width / newScale / 2 : 0),\n      y: inner.y + (center ? inner.height / 2 - outer.height / newScale / 2 : 0),\n      width: outer.width / newScale,\n      height: outer.height / newScale\n    };\n  }\n\n  this.viewbox(newViewbox);\n\n  return this.viewbox(false).scale;\n};\n\n\nCanvas.prototype._setZoom = function(scale, center) {\n\n  const svg = this._svg,\n        viewport = this._viewport;\n\n  const matrix = svg.createSVGMatrix();\n  const point = svg.createSVGPoint();\n\n  let centerPoint,\n      originalPoint,\n      currentMatrix,\n      scaleMatrix,\n      newMatrix;\n\n  currentMatrix = viewport.getCTM();\n\n  const currentScale = currentMatrix.a;\n\n  if (center) {\n    centerPoint = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(point, center);\n\n    // revert applied viewport transformations\n    originalPoint = centerPoint.matrixTransform(currentMatrix.inverse());\n\n    // create scale matrix\n    scaleMatrix = matrix\n      .translate(originalPoint.x, originalPoint.y)\n      .scale(1 / currentScale * scale)\n      .translate(-originalPoint.x, -originalPoint.y);\n\n    newMatrix = currentMatrix.multiply(scaleMatrix);\n  } else {\n    newMatrix = matrix.scale(scale);\n  }\n\n  setCTM(this._viewport, newMatrix);\n\n  return newMatrix;\n};\n\n\n/**\n * Returns the size of the canvas.\n *\n * @return {Dimensions} The size of the canvas.\n */\nCanvas.prototype.getSize = function() {\n  return {\n    width: this._container.clientWidth,\n    height: this._container.clientHeight\n  };\n};\n\n\n/**\n * Returns the absolute bounding box of an element.\n *\n * The absolute bounding box may be used to display overlays in the callers\n * (browser) coordinate system rather than the zoomed in/out canvas coordinates.\n *\n * @param {ShapeLike|ConnectionLike} element The element.\n *\n * @return {Rect} The element's absolute bounding box.\n */\nCanvas.prototype.getAbsoluteBBox = function(element) {\n  const vbox = this.viewbox();\n  let bbox;\n\n  // connection\n  // use svg bbox\n  if (element.waypoints) {\n    const gfx = this.getGraphics(element);\n\n    bbox = gfx.getBBox();\n  }\n\n  // shapes\n  // use data\n  else {\n    bbox = element;\n  }\n\n  const x = bbox.x * vbox.scale - vbox.x * vbox.scale;\n  const y = bbox.y * vbox.scale - vbox.y * vbox.scale;\n\n  const width = bbox.width * vbox.scale;\n  const height = bbox.height * vbox.scale;\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n};\n\n/**\n * Fires an event so other modules can react to the canvas resizing.\n */\nCanvas.prototype.resized = function() {\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n\n  this._eventBus.fire('canvas.resized');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvQ2FudmFzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFTa0I7O0FBS0Q7O0FBS1k7O0FBS0g7O0FBRW9COztBQVM1Qjs7QUFFc0M7OztBQUd4RDtBQUNBLGFBQWEsa0NBQWtDO0FBQy9DLGFBQWEsNEJBQTRCO0FBQ3pDLGFBQWEsK0JBQStCO0FBQzVDLGFBQWEsNkJBQTZCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTO0FBQ2Q7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLDhCQUE4QjtBQUMzQyxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEsb0NBQW9DO0FBQ2pELGFBQWEsK0JBQStCO0FBQzVDLGFBQWEsOEJBQThCO0FBQzNDLGFBQWEsa0NBQWtDO0FBQy9DLGFBQWEscUNBQXFDO0FBQ2xEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsa0RBQVE7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBOztBQUVBLFlBQVksZ0RBQU0sR0FBRyxJQUFJLCtCQUErQjs7QUFFeEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLG9EQUFXO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsZ0RBQVM7QUFDekIsRUFBRSxpREFBVTs7QUFFWjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLFVBQVU7QUFDckIsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxpQkFBaUI7QUFDNUI7QUFDZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUEseUJBQXlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw2Q0FBNkMsY0FBYyxXQUFXLGVBQWU7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwwQkFBMEIsZ0RBQVM7O0FBRW5DLEVBQUUsOENBQU87QUFDVDtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFLDZDQUFPOztBQUVUO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUUsZ0RBQVM7O0FBRVg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtEQUFRLENBQUMsOENBQUk7QUFDeEM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Qsa0JBQWtCLFlBQVk7QUFDOUIsa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdEQUFnRCxTQUFTO0FBQ3pEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsdURBQU87O0FBRXhCO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUI7O0FBRXpDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTLGdEQUFNO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGdEQUFTOztBQUVYOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSSxnREFBUztBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQkFBa0I7QUFDOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlDQUFpQztBQUM1QztBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFNBQVMsOENBQUk7QUFDYjtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEVBQUUsaURBQU87QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlEQUFVO0FBQ2xCLFFBQVE7QUFDUjtBQUNBLFFBQVEsaURBQVU7QUFDbEI7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFlBQVk7QUFDNUIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQSxpREFBaUQsa0VBQWtFO0FBQ25IOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVyxpQ0FBaUM7QUFDNUMsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlDQUFpQztBQUM1QyxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQ0FBaUM7QUFDNUMsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQ0FBaUM7QUFDNUMsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUNBQWlDLGtCQUFrQjtBQUNuRCxrQ0FBa0Msa0JBQWtCOztBQUVwRDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsa0JBQWtCOztBQUVoRDs7QUFFQSxnQ0FBZ0MsNEJBQTRCO0FBQzVEOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsb0NBQW9DLHNCQUFzQjtBQUMxRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsZ0JBQWdCLCtDQUFLO0FBQ3JCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EscUJBQXFCLG1DQUFtQztBQUN4RDtBQUNBOztBQUVBO0FBQ0EsRUFBRSxzREFBYTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsS0FBSztBQUNiLFFBQVEsS0FBSztBQUNiO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLDBCQUEwQjtBQUNyQyxXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSwwQkFBMEI7QUFDdEM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLGlDQUFpQyxrQ0FBa0M7O0FBRW5FOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxtQ0FBbUMsNEJBQTRCOztBQUUvRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFlBQVk7QUFDdkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxvQ0FBb0Msa0JBQWtCOztBQUV0RDs7QUFFQTtBQUNBLEVBQUUseURBQWdCO0FBQ2xCOztBQUVBLHFDQUFxQyxrQkFBa0I7O0FBRXZEOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLGdCQUFnQixXQUFXO0FBQzNCLGdCQUFnQixZQUFZO0FBQzVCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWixnQkFBZ0IsV0FBVztBQUMzQixnQkFBZ0IsWUFBWTtBQUM1QjtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osZ0JBQWdCLGdCQUFnQjtBQUNoQyxnQkFBZ0IsWUFBWTtBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osZ0JBQWdCLGdCQUFnQjtBQUNoQyxnQkFBZ0IsWUFBWTtBQUM1QjtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUNBQWlDO0FBQzVDLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrREFBa0QseUJBQXlCO0FBQzNFOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5Q0FBeUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0JBQWdCLG1EQUFZO0FBQzVCLDRDQUE0QyxzREFBWTtBQUN4RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxtREFBWTtBQUNsQixLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxnREFBTSxHQUFHLGNBQWMsYUFBYTs7QUFFbEQ7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQ0FBaUM7QUFDNUMsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3Qix1REFBYztBQUN0QyxzQkFBc0IsMERBQU07QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLDBEQUFNOztBQUU1Qjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQixnQ0FBZ0M7QUFDaEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQztBQUNBLFdBQVcsT0FBTywrQkFBK0IsZ0JBQWdCO0FBQ2pFO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLGtCQUFrQixnREFBTTs7QUFFeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBCQUEwQjtBQUNyQztBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb3JlL0NhbnZhcy5qcz8yYWM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGlzTnVtYmVyLFxuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIGV2ZXJ5LFxuICBkZWJvdW5jZSxcbiAgYmluZCxcbiAgcmVkdWNlLFxuICBmaW5kXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgYXNzaWduU3R5bGUsXG4gIGF0dHIgYXMgZG9tQXR0clxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgYWRkIGFzIGNvbGxlY3Rpb25BZGQsXG4gIHJlbW92ZSBhcyBjb2xsZWN0aW9uUmVtb3ZlXG59IGZyb20gJy4uL3V0aWwvQ29sbGVjdGlvbnMnO1xuXG5pbXBvcnQge1xuICBnZXRUeXBlLFxuICBnZXRCQm94IGFzIGdldEJvdW5kaW5nQm94XG59IGZyb20gJy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQgeyBhc1RSQkwgfSBmcm9tICcuLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICB0cmFuc2Zvcm0gYXMgc3ZnVHJhbnNmb3JtLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHsgY3JlYXRlTWF0cml4IGFzIGNyZWF0ZU1hdHJpeCB9IGZyb20gJ3Rpbnktc3ZnJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vVHlwZXMnKS5Db25uZWN0aW9uTGlrZX0gQ29ubmVjdGlvbkxpa2VcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vVHlwZXMnKS5Sb290TGlrZX0gUm9vdExpa2VcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vVHlwZXMnKS5QYXJlbnRMaWtlIH0gUGFyZW50TGlrZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLlNoYXBlTGlrZX0gU2hhcGVMaWtlXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIGNvbnRhaW5lcj86IEhUTUxFbGVtZW50O1xuICogICBkZWZlclVwZGF0ZT86IGJvb2xlYW47XG4gKiAgIHdpZHRoPzogbnVtYmVyO1xuICogICBoZWlnaHQ/OiBudW1iZXI7XG4gKiAgIGF1dG9Gb2N1cz86IGJvb2xlYW47XG4gKiB9IH0gQ2FudmFzQ29uZmlnXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgZ3JvdXA6IFNWR0VsZW1lbnQ7XG4gKiAgIGluZGV4OiBudW1iZXI7XG4gKiAgIHZpc2libGU6IGJvb2xlYW47XG4gKiB9IH0gQ2FudmFzTGF5ZXJcbiAqIEB0eXBlZGVmIHsge1xuICogICBba2V5OiBzdHJpbmddOiBDYW52YXNMYXllcjtcbiAqIH0gfSBDYW52YXNMYXllcnNcbiAqIEB0eXBlZGVmIHsge1xuICogICByb290RWxlbWVudDogU2hhcGVMaWtlO1xuICogICBsYXllcjogQ2FudmFzTGF5ZXI7XG4gKiB9IH0gQ2FudmFzUGxhbmVcbiAqIEB0eXBlZGVmIHsge1xuICogICBzY2FsZTogbnVtYmVyO1xuICogICBpbm5lcjogUmVjdDtcbiAqICAgb3V0ZXI6IERpbWVuc2lvbnM7XG4gKiB9ICYgUmVjdCB9IENhbnZhc1ZpZXdib3hcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL0VsZW1lbnRSZWdpc3RyeScpLmRlZmF1bHR9IEVsZW1lbnRSZWdpc3RyeVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL0dyYXBoaWNzRmFjdG9yeScpLmRlZmF1bHR9IEdyYXBoaWNzRmFjdG9yeVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5EaW1lbnNpb25zfSBEaW1lbnNpb25zXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUmVjdH0gUmVjdFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlJlY3RUUkJMfSBSZWN0VFJCTFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlNjcm9sbERlbHRhfSBTY3JvbGxEZWx0YVxuICovXG5cbmZ1bmN0aW9uIHJvdW5kKG51bWJlciwgcmVzb2x1dGlvbikge1xuICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVB4KG51bWJlcikge1xuICByZXR1cm4gaXNOdW1iZXIobnVtYmVyKSA/IG51bWJlciArICdweCcgOiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIGZpbmRSb290KGVsZW1lbnQpIHtcbiAgd2hpbGUgKGVsZW1lbnQucGFyZW50KSB7XG4gICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50O1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIEhUTUwgY29udGFpbmVyIGVsZW1lbnQgZm9yIGEgU1ZHIGVsZW1lbnQgd2l0aFxuICogdGhlIGdpdmVuIGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc0NvbmZpZ30gb3B0aW9uc1xuICpcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSB0aGUgY29udGFpbmVyIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyKG9wdGlvbnMpIHtcblxuICBvcHRpb25zID0gYXNzaWduKHt9LCB7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnIH0sIG9wdGlvbnMpO1xuXG4gIGNvbnN0IGNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyIHx8IGRvY3VtZW50LmJvZHk7XG5cbiAgLy8gY3JlYXRlIGEgPGRpdj4gYXJvdW5kIHRoZSBzdmcgZWxlbWVudCB3aXRoIHRoZSByZXNwZWN0aXZlIHNpemVcbiAgLy8gdGhpcyB3YXkgd2UgY2FuIGFsd2F5cyBnZXQgdGhlIGNvcnJlY3QgY29udGFpbmVyIHNpemVcbiAgLy8gKHRoaXMgaXMgaW1wb3NzaWJsZSBmb3IgPHN2Zz4gZWxlbWVudHMgYXQgdGhlIG1vbWVudClcbiAgY29uc3QgcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHBhcmVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2Rqcy1jb250YWluZXIgZGpzLXBhcmVudCcpO1xuXG4gIGFzc2lnblN0eWxlKHBhcmVudCwge1xuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICB3aWR0aDogZW5zdXJlUHgob3B0aW9ucy53aWR0aCksXG4gICAgaGVpZ2h0OiBlbnN1cmVQeChvcHRpb25zLmhlaWdodClcbiAgfSk7XG5cbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBhcmVudCk7XG5cbiAgcmV0dXJuIHBhcmVudDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlR3JvdXAocGFyZW50LCBjbHMsIGNoaWxkSW5kZXgpIHtcbiAgY29uc3QgZ3JvdXAgPSBzdmdDcmVhdGUoJ2cnKTtcbiAgc3ZnQ2xhc3Nlcyhncm91cCkuYWRkKGNscyk7XG5cbiAgY29uc3QgaW5kZXggPSBjaGlsZEluZGV4ICE9PSB1bmRlZmluZWQgPyBjaGlsZEluZGV4IDogcGFyZW50LmNoaWxkTm9kZXMubGVuZ3RoIC0gMTtcblxuICAvLyBtdXN0IGVuc3VyZSBzZWNvbmQgYXJndW1lbnQgaXMgbm9kZSBvciBfbnVsbF9cbiAgLy8gY2YuIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ob2RlL2luc2VydEJlZm9yZVxuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGdyb3VwLCBwYXJlbnQuY2hpbGROb2Rlc1tpbmRleF0gfHwgbnVsbCk7XG5cbiAgcmV0dXJuIGdyb3VwO1xufVxuXG5jb25zdCBCQVNFX0xBWUVSID0gJ2Jhc2UnO1xuXG4vLyByZW5kZXIgcGxhbmUgY29udGVudHMgYmVoaW5kIHV0aWxpdHkgbGF5ZXJzXG5jb25zdCBQTEFORV9MQVlFUl9JTkRFWCA9IDA7XG5jb25zdCBVVElMSVRZX0xBWUVSX0lOREVYID0gMTtcblxuXG5jb25zdCBSRVFVSVJFRF9NT0RFTF9BVFRSUyA9IHtcbiAgc2hhcGU6IFsgJ3gnLCAneScsICd3aWR0aCcsICdoZWlnaHQnIF0sXG4gIGNvbm5lY3Rpb246IFsgJ3dheXBvaW50cycgXVxufTtcblxuLyoqXG4gKiBUaGUgbWFpbiBkcmF3aW5nIGNhbnZhcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBlbWl0cyBDYW52YXMjY2FudmFzLmluaXRcbiAqXG4gKiBAcGFyYW0ge0NhbnZhc0NvbmZpZ3xudWxsfSBjb25maWdcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0dyYXBoaWNzRmFjdG9yeX0gZ3JhcGhpY3NGYWN0b3J5XG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhbnZhcyhjb25maWcsIGV2ZW50QnVzLCBncmFwaGljc0ZhY3RvcnksIGVsZW1lbnRSZWdpc3RyeSkge1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XG4gIHRoaXMuX2dyYXBoaWNzRmFjdG9yeSA9IGdyYXBoaWNzRmFjdG9yeTtcblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuX3Jvb3RzSWR4ID0gMDtcblxuICAvKipcbiAgICogQHR5cGUge0NhbnZhc0xheWVyc31cbiAgICovXG4gIHRoaXMuX2xheWVycyA9IHt9O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Q2FudmFzUGxhbmVbXX1cbiAgICovXG4gIHRoaXMuX3BsYW5lcyA9IFtdO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Um9vdExpa2V8bnVsbH1cbiAgICovXG4gIHRoaXMuX3Jvb3RFbGVtZW50ID0gbnVsbDtcblxuICAvKipcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICB0aGlzLl9mb2N1c2VkID0gZmFsc2U7XG5cbiAgdGhpcy5faW5pdChjb25maWcgfHwge30pO1xufVxuXG5DYW52YXMuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5jYW52YXMnLFxuICAnZXZlbnRCdXMnLFxuICAnZ3JhcGhpY3NGYWN0b3J5JyxcbiAgJ2VsZW1lbnRSZWdpc3RyeSdcbl07XG5cbi8qKlxuICogQ3JlYXRlcyBhIDxzdmc+IGVsZW1lbnQgdGhhdCBpcyB3cmFwcGVkIGludG8gYSA8ZGl2Pi5cbiAqIFRoaXMgd2F5IHdlIGFyZSBhbHdheXMgYWJsZSB0byBjb3JyZWN0bHkgZmlndXJlIG91dCB0aGUgc2l6ZSBvZiB0aGUgc3ZnIGVsZW1lbnRcbiAqIGJ5IHF1ZXJ5aW5nIHRoZSBwYXJlbnQgbm9kZS5cblxuICogKEl0IGlzIG5vdCBwb3NzaWJsZSB0byBnZXQgdGhlIHNpemUgb2YgYSBzdmcgZWxlbWVudCBjcm9zcyBicm93c2VyIEAgMjAxNC0wNC0wMSlcblxuICogPGRpdiBjbGFzcz1cImRqcy1jb250YWluZXJcIiBzdHlsZT1cIndpZHRoOiB7ZGVzaXJlZC13aWR0aH0sIGhlaWdodDoge2Rlc2lyZWQtaGVpZ2h0fVwiPlxuICogICA8c3ZnIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIj5cbiAqICAgIC4uLlxuICogICA8L3N2Zz5cbiAqIDwvZGl2PlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzQ29uZmlnfSBjb25maWdcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICBjb25zdCBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIC8vIGh0bWwgY29udGFpbmVyXG4gIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcihjb25maWcpO1xuXG4gIGNvbnN0IHN2ZyA9IHRoaXMuX3N2ZyA9IHN2Z0NyZWF0ZSgnc3ZnJyk7XG5cbiAgc3ZnQXR0cihzdmcsIHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGhlaWdodDogJzEwMCUnXG4gIH0pO1xuXG4gIGRvbUF0dHIoc3ZnLCAndGFiaW5kZXgnLCAwKTtcblxuICBjb25maWcuYXV0b0ZvY3VzICYmIGV2ZW50QnVzLm9uKCdlbGVtZW50LmhvdmVyJywgKCkgPT4ge1xuICAgIHRoaXMucmVzdG9yZUZvY3VzKCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm1vdXNlZG93bicsIDUwMCwgKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5mb2N1cygpO1xuICB9KTtcblxuICBzdmcuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsICgpID0+IHtcbiAgICB0aGlzLl9zZXRGb2N1c2VkKHRydWUpO1xuICB9KTtcblxuICBzdmcuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCAoKSA9PiB7XG4gICAgdGhpcy5fc2V0Rm9jdXNlZChmYWxzZSk7XG4gIH0pO1xuXG4gIHN2Z0FwcGVuZChjb250YWluZXIsIHN2Zyk7XG5cbiAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLl92aWV3cG9ydCA9IGNyZWF0ZUdyb3VwKHN2ZywgJ3ZpZXdwb3J0Jyk7XG5cbiAgLy8gZGVib3VuY2UgY2FudmFzLnZpZXdib3guY2hhbmdlZCBldmVudHMgd2hlbiBkZWZlclVwZGF0ZSBpcyBzZXRcbiAgLy8gdG8gaGVscCB3aXRoIHBvdGVudGlhbCBwZXJmb3JtYW5jZSBpc3N1ZXNcbiAgaWYgKGNvbmZpZy5kZWZlclVwZGF0ZSkge1xuICAgIHRoaXMuX3ZpZXdib3hDaGFuZ2VkID0gZGVib3VuY2UoYmluZCh0aGlzLl92aWV3Ym94Q2hhbmdlZCwgdGhpcyksIDMwMCk7XG4gIH1cblxuICBldmVudEJ1cy5vbignZGlhZ3JhbS5pbml0JywgKCkgPT4ge1xuXG4gICAgLyoqXG4gICAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBjYW52YXMgaXMgcmVhZHkgdG8gYmUgZHJhd24gb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgQ2FudmFzXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY2FudmFzLmluaXRcbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBzdmcgdGhlIGNyZWF0ZWQgc3ZnIGVsZW1lbnRcbiAgICAgKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IHZpZXdwb3J0IHRoZSBkaXJlY3QgcGFyZW50IG9mIGRpYWdyYW0gZWxlbWVudHMgYW5kIHNoYXBlc1xuICAgICAqL1xuICAgIGV2ZW50QnVzLmZpcmUoJ2NhbnZhcy5pbml0Jywge1xuICAgICAgc3ZnOiBzdmcsXG4gICAgICB2aWV3cG9ydDogdmlld3BvcnRcbiAgICB9KTtcblxuICB9KTtcblxuICAvLyByZXNldCB2aWV3Ym94IG9uIHNoYXBlIGNoYW5nZXMgdG9cbiAgLy8gcmVjb21wdXRlIHRoZSB2aWV3Ym94XG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnc2hhcGUuYWRkZWQnLFxuICAgICdjb25uZWN0aW9uLmFkZGVkJyxcbiAgICAnc2hhcGUucmVtb3ZlZCcsXG4gICAgJ2Nvbm5lY3Rpb24ucmVtb3ZlZCcsXG4gICAgJ2VsZW1lbnRzLmNoYW5nZWQnLFxuICAgICdyb290LnNldCdcbiAgXSwgKCkgPT4ge1xuICAgIGRlbGV0ZSB0aGlzLl9jYWNoZWRWaWV3Ym94O1xuICB9KTtcblxuICBldmVudEJ1cy5vbignZGlhZ3JhbS5kZXN0cm95JywgNTAwLCB0aGlzLl9kZXN0cm95LCB0aGlzKTtcbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uY2xlYXInLCA1MDAsIHRoaXMuX2NsZWFyLCB0aGlzKTtcbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY2FudmFzLmRlc3Ryb3knLCB7XG4gICAgc3ZnOiB0aGlzLl9zdmcsXG4gICAgdmlld3BvcnQ6IHRoaXMuX3ZpZXdwb3J0XG4gIH0pO1xuXG4gIGNvbnN0IHBhcmVudCA9IHRoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlO1xuXG4gIGlmIChwYXJlbnQpIHtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKTtcbiAgfVxuXG4gIGRlbGV0ZSB0aGlzLl9zdmc7XG4gIGRlbGV0ZSB0aGlzLl9jb250YWluZXI7XG4gIGRlbGV0ZSB0aGlzLl9sYXllcnM7XG4gIGRlbGV0ZSB0aGlzLl9wbGFuZXM7XG4gIGRlbGV0ZSB0aGlzLl9yb290RWxlbWVudDtcbiAgZGVsZXRlIHRoaXMuX3ZpZXdwb3J0O1xufTtcblxuQ2FudmFzLnByb3RvdHlwZS5fc2V0Rm9jdXNlZCA9IGZ1bmN0aW9uKGZvY3VzZWQpIHtcblxuICBpZiAoZm9jdXNlZCA9PSB0aGlzLl9mb2N1c2VkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fZm9jdXNlZCA9IGZvY3VzZWQ7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY2FudmFzLmZvY3VzLmNoYW5nZWQnLCB7IGZvY3VzZWQgfSk7XG59O1xuXG5DYW52YXMucHJvdG90eXBlLl9jbGVhciA9IGZ1bmN0aW9uKCkge1xuXG4gIGNvbnN0IGFsbEVsZW1lbnRzID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldEFsbCgpO1xuXG4gIC8vIHJlbW92ZSBhbGwgZWxlbWVudHNcbiAgYWxsRWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICBjb25zdCB0eXBlID0gZ2V0VHlwZShlbGVtZW50KTtcblxuICAgIGlmICh0eXBlID09PSAncm9vdCcpIHtcbiAgICAgIHRoaXMucmVtb3ZlUm9vdEVsZW1lbnQoZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JlbW92ZUVsZW1lbnQoZWxlbWVudCwgdHlwZSk7XG4gICAgfVxuICB9KTtcblxuICAvLyByZW1vdmUgYWxsIHBsYW5lc1xuICB0aGlzLl9wbGFuZXMgPSBbXTtcbiAgdGhpcy5fcm9vdEVsZW1lbnQgPSBudWxsO1xuXG4gIC8vIGZvcmNlIHJlY29tcHV0YXRpb24gb2YgdmlldyBib3hcbiAgZGVsZXRlIHRoaXMuX2NhY2hlZFZpZXdib3g7XG59O1xuXG4vKipcbiAqIFNldHMgZm9jdXMgb24gdGhlIGNhbnZhcyBTVkcgZWxlbWVudC5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9zdmcuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuXG4gIHRoaXMuX3NldEZvY3VzZWQodHJ1ZSk7XG59O1xuXG4vKipcbiogU2V0cyBmb2N1cyBvbiB0aGUgY2FudmFzIFNWRyBlbGVtZW50IGlmIGBkb2N1bWVudC5ib2R5YCBpcyBjdXJyZW50bHkgZm9jdXNlZC5cbiovXG5DYW52YXMucHJvdG90eXBlLnJlc3RvcmVGb2N1cyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgIHRoaXMuZm9jdXMoKTtcbiAgfVxufTtcblxuLyoqXG4qIFJldHVybnMgdHJ1ZSBpZiB0aGUgY2FudmFzIGlzIGZvY3VzZWQuXG4qXG4qIEByZXR1cm4ge2Jvb2xlYW59XG4qL1xuQ2FudmFzLnByb3RvdHlwZS5pc0ZvY3VzZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2ZvY3VzZWQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgbGF5ZXIgb24gd2hpY2hcbiAqIGFsbCBlbGVtZW50cyBhcmUgZHJhd24uXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gIFRoZSBTVkcgZWxlbWVudCBvZiB0aGUgbGF5ZXIuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuZ2V0RGVmYXVsdExheWVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldExheWVyKEJBU0VfTEFZRVIsIFBMQU5FX0xBWUVSX0lOREVYKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGxheWVyIHRoYXQgaXMgdXNlZCB0byBkcmF3IGVsZW1lbnRzXG4gKiBvciBhbm5vdGF0aW9ucyBvbiBpdC5cbiAqXG4gKiBOb24tZXhpc3RpbmcgbGF5ZXJzIHJldHJpZXZlZCB0aHJvdWdoIHRoaXMgbWV0aG9kXG4gKiB3aWxsIGJlIGNyZWF0ZWQuIER1cmluZyBjcmVhdGlvbiwgdGhlIG9wdGlvbmFsIGluZGV4XG4gKiBtYXkgYmUgdXNlZCB0byBjcmVhdGUgbGF5ZXJzIGJlbG93IG9yIGFib3ZlIGV4aXN0aW5nIGxheWVycy5cbiAqIEEgbGF5ZXIgd2l0aCBhIGNlcnRhaW4gaW5kZXggaXMgYWx3YXlzIGNyZWF0ZWQgYWJvdmUgYWxsXG4gKiBleGlzdGluZyBsYXllcnMgd2l0aCB0aGUgc2FtZSBpbmRleC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGF5ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gW2luZGV4XSBUaGUgaW5kZXggb2YgdGhlIGxheWVyLlxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IFRoZSBTVkcgZWxlbWVudCBvZiB0aGUgbGF5ZXIuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuZ2V0TGF5ZXIgPSBmdW5jdGlvbihuYW1lLCBpbmRleCkge1xuXG4gIGlmICghbmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignbXVzdCBzcGVjaWZ5IGEgbmFtZScpO1xuICB9XG5cbiAgbGV0IGxheWVyID0gdGhpcy5fbGF5ZXJzW25hbWVdO1xuXG4gIGlmICghbGF5ZXIpIHtcbiAgICBsYXllciA9IHRoaXMuX2xheWVyc1tuYW1lXSA9IHRoaXMuX2NyZWF0ZUxheWVyKG5hbWUsIGluZGV4KTtcbiAgfVxuXG4gIC8vIHRocm93IGFuIGVycm9yIGlmIGxheWVyIGNyZWF0aW9uIC8gcmV0cml2YWwgaXNcbiAgLy8gcmVxdWVzdGVkIG9uIGRpZmZlcmVudCBpbmRleFxuICBpZiAodHlwZW9mIGluZGV4ICE9PSAndW5kZWZpbmVkJyAmJiBsYXllci5pbmRleCAhPT0gaW5kZXgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2xheWVyIDwnICsgbmFtZSArICc+IGFscmVhZHkgY3JlYXRlZCBhdCBpbmRleCA8JyArIGluZGV4ICsgJz4nKTtcbiAgfVxuXG4gIHJldHVybiBsYXllci5ncm91cDtcbn07XG5cbi8qKlxuICogRm9yIGEgZ2l2ZW4gaW5kZXgsIHJldHVybiB0aGUgbnVtYmVyIG9mIGxheWVycyB0aGF0IGhhdmUgYSBoaWdoZXIgaW5kZXggYW5kXG4gKiBhcmUgdmlzaWJsZS5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBub2RlIGEgbGF5ZXIgc2hvdWxkIGJlIGluc2VydGVkIGF0LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICpcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5fZ2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHJldHVybiByZWR1Y2UodGhpcy5fbGF5ZXJzLCBmdW5jdGlvbihjaGlsZEluZGV4LCBsYXllcikge1xuICAgIGlmIChsYXllci52aXNpYmxlICYmIGluZGV4ID49IGxheWVyLmluZGV4KSB7XG4gICAgICBjaGlsZEluZGV4Kys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkSW5kZXg7XG4gIH0sIDApO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZ2l2ZW4gbGF5ZXIgYW5kIHJldHVybnMgaXQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF1cbiAqXG4gKiBAcmV0dXJuIHtDYW52YXNMYXllcn1cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5fY3JlYXRlTGF5ZXIgPSBmdW5jdGlvbihuYW1lLCBpbmRleCkge1xuXG4gIGlmICh0eXBlb2YgaW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgaW5kZXggPSBVVElMSVRZX0xBWUVSX0lOREVYO1xuICB9XG5cbiAgY29uc3QgY2hpbGRJbmRleCA9IHRoaXMuX2dldENoaWxkSW5kZXgoaW5kZXgpO1xuXG4gIHJldHVybiB7XG4gICAgZ3JvdXA6IGNyZWF0ZUdyb3VwKHRoaXMuX3ZpZXdwb3J0LCAnbGF5ZXItJyArIG5hbWUsIGNoaWxkSW5kZXgpLFxuICAgIGluZGV4OiBpbmRleCxcbiAgICB2aXNpYmxlOiB0cnVlXG4gIH07XG59O1xuXG5cbi8qKlxuICogU2hvd3MgYSBnaXZlbiBsYXllci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGF5ZXIuXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gVGhlIFNWRyBlbGVtZW50IG9mIHRoZSBsYXllci5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5zaG93TGF5ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG5cbiAgaWYgKCFuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHNwZWNpZnkgYSBuYW1lJyk7XG4gIH1cblxuICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tuYW1lXTtcblxuICBpZiAoIWxheWVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdsYXllciA8JyArIG5hbWUgKyAnPiBkb2VzIG5vdCBleGlzdCcpO1xuICB9XG5cbiAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLl92aWV3cG9ydDtcbiAgY29uc3QgZ3JvdXAgPSBsYXllci5ncm91cDtcbiAgY29uc3QgaW5kZXggPSBsYXllci5pbmRleDtcblxuICBpZiAobGF5ZXIudmlzaWJsZSkge1xuICAgIHJldHVybiBncm91cDtcbiAgfVxuXG4gIGNvbnN0IGNoaWxkSW5kZXggPSB0aGlzLl9nZXRDaGlsZEluZGV4KGluZGV4KTtcblxuICB2aWV3cG9ydC5pbnNlcnRCZWZvcmUoZ3JvdXAsIHZpZXdwb3J0LmNoaWxkTm9kZXNbY2hpbGRJbmRleF0gfHwgbnVsbCk7XG5cbiAgbGF5ZXIudmlzaWJsZSA9IHRydWU7XG5cbiAgcmV0dXJuIGdyb3VwO1xufTtcblxuLyoqXG4gKiBIaWRlcyBhIGdpdmVuIGxheWVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBsYXllci5cbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSBUaGUgU1ZHIGVsZW1lbnQgb2YgdGhlIGxheWVyLlxuICovXG5DYW52YXMucHJvdG90eXBlLmhpZGVMYXllciA9IGZ1bmN0aW9uKG5hbWUpIHtcblxuICBpZiAoIW5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3BlY2lmeSBhIG5hbWUnKTtcbiAgfVxuXG4gIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW25hbWVdO1xuXG4gIGlmICghbGF5ZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2xheWVyIDwnICsgbmFtZSArICc+IGRvZXMgbm90IGV4aXN0Jyk7XG4gIH1cblxuICBjb25zdCBncm91cCA9IGxheWVyLmdyb3VwO1xuXG4gIGlmICghbGF5ZXIudmlzaWJsZSkge1xuICAgIHJldHVybiBncm91cDtcbiAgfVxuXG4gIHN2Z1JlbW92ZShncm91cCk7XG5cbiAgbGF5ZXIudmlzaWJsZSA9IGZhbHNlO1xuXG4gIHJldHVybiBncm91cDtcbn07XG5cblxuQ2FudmFzLnByb3RvdHlwZS5fcmVtb3ZlTGF5ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG5cbiAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbmFtZV07XG5cbiAgaWYgKGxheWVyKSB7XG4gICAgZGVsZXRlIHRoaXMuX2xheWVyc1tuYW1lXTtcblxuICAgIHN2Z1JlbW92ZShsYXllci5ncm91cCk7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudGx5IGFjdGl2ZSBsYXllci4gQ2FuIGJlIG51bGwuXG4gKlxuICogQHJldHVybiB7Q2FudmFzTGF5ZXJ8bnVsbH0gVGhlIGFjdGl2ZSBsYXllciBvZiBgbnVsbGAuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuZ2V0QWN0aXZlTGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgcGxhbmUgPSB0aGlzLl9maW5kUGxhbmVGb3JSb290KHRoaXMuZ2V0Um9vdEVsZW1lbnQoKSk7XG5cbiAgaWYgKCFwbGFuZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHBsYW5lLmxheWVyO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIHBsYW5lIHdoaWNoIGNvbnRhaW5zIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7U2hhcGVMaWtlfENvbm5lY3Rpb25MaWtlfHN0cmluZ30gZWxlbWVudCBUaGUgZWxlbWVudCBvciBpdHMgSUQuXG4gKlxuICogQHJldHVybiB7Um9vdExpa2V8dW5kZWZpbmVkfSBUaGUgcm9vdCBvZiB0aGUgZWxlbWVudC5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5maW5kUm9vdCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQpO1xuICB9XG5cbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcGxhbmUgPSB0aGlzLl9maW5kUGxhbmVGb3JSb290KFxuICAgIGZpbmRSb290KGVsZW1lbnQpXG4gICkgfHwge307XG5cbiAgcmV0dXJuIHBsYW5lLnJvb3RFbGVtZW50O1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYSBsaXN0IG9mIGFsbCByb290IGVsZW1lbnRzIG9uIHRoZSBkaWFncmFtLlxuICpcbiAqIEByZXR1cm4geyhSb290TGlrZSlbXX0gVGhlIGxpc3Qgb2Ygcm9vdCBlbGVtZW50cy5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRSb290RWxlbWVudHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3BsYW5lcy5tYXAoZnVuY3Rpb24ocGxhbmUpIHtcbiAgICByZXR1cm4gcGxhbmUucm9vdEVsZW1lbnQ7XG4gIH0pO1xufTtcblxuQ2FudmFzLnByb3RvdHlwZS5fZmluZFBsYW5lRm9yUm9vdCA9IGZ1bmN0aW9uKHJvb3RFbGVtZW50KSB7XG4gIHJldHVybiBmaW5kKHRoaXMuX3BsYW5lcywgZnVuY3Rpb24ocGxhbmUpIHtcbiAgICByZXR1cm4gcGxhbmUucm9vdEVsZW1lbnQgPT09IHJvb3RFbGVtZW50O1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBodG1sIGVsZW1lbnQgdGhhdCBlbmNsb3NlcyB0aGVcbiAqIGRyYXdpbmcgY2FudmFzLlxuICpcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgSFRNTCBlbGVtZW50IG9mIHRoZSBjb250YWluZXIuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9jb250YWluZXI7XG59O1xuXG5cbi8vIG1hcmtlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5DYW52YXMucHJvdG90eXBlLl91cGRhdGVNYXJrZXIgPSBmdW5jdGlvbihlbGVtZW50LCBtYXJrZXIsIGFkZCkge1xuICBsZXQgY29udGFpbmVyO1xuXG4gIGlmICghZWxlbWVudC5pZCkge1xuICAgIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQpO1xuICB9XG5cbiAgZWxlbWVudC5tYXJrZXJzID0gZWxlbWVudC5tYXJrZXJzIHx8IG5ldyBTZXQoKTtcblxuICAvLyB3ZSBuZWVkIHRvIGFjY2VzcyBhbGxcbiAgY29udGFpbmVyID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5Ll9lbGVtZW50c1tlbGVtZW50LmlkXTtcblxuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvckVhY2goWyBjb250YWluZXIuZ2Z4LCBjb250YWluZXIuc2Vjb25kYXJ5R2Z4IF0sIGZ1bmN0aW9uKGdmeCkge1xuICAgIGlmIChnZngpIHtcblxuICAgICAgLy8gaW52b2tlIGVpdGhlciBhZGRDbGFzcyBvciByZW1vdmVDbGFzcyBiYXNlZCBvbiBtb2RlXG4gICAgICBpZiAoYWRkKSB7XG4gICAgICAgIGVsZW1lbnQubWFya2Vycy5hZGQobWFya2VyKTtcbiAgICAgICAgc3ZnQ2xhc3NlcyhnZngpLmFkZChtYXJrZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5tYXJrZXJzLmRlbGV0ZShtYXJrZXIpO1xuICAgICAgICBzdmdDbGFzc2VzKGdmeCkucmVtb3ZlKG1hcmtlcik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IGEgbWFya2VyIGhhcyBiZWVuIHVwZGF0ZWQgZm9yIGFuIGVsZW1lbnRcbiAgICpcbiAgICogQGV2ZW50IGVsZW1lbnQubWFya2VyLnVwZGF0ZVxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJvcGVydHkge0VsZW1lbnR9IGVsZW1lbnQgdGhlIHNoYXBlXG4gICAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4IHRoZSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNoYXBlXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtYXJrZXJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBhZGQgdHJ1ZSBpZiB0aGUgbWFya2VyIHdhcyBhZGRlZCwgZmFsc2UgaWYgaXQgZ290IHJlbW92ZWRcbiAgICovXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2VsZW1lbnQubWFya2VyLnVwZGF0ZScsIHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBjb250YWluZXIuZ2Z4LCBtYXJrZXI6IG1hcmtlciwgYWRkOiAhIWFkZCB9KTtcbn07XG5cblxuLyoqXG4gKiBBZGRzIGEgbWFya2VyIHRvIGFuIGVsZW1lbnQgKGJhc2ljYWxseSBhIGNzcyBjbGFzcykuXG4gKlxuICogRmlyZXMgdGhlIGVsZW1lbnQubWFya2VyLnVwZGF0ZSBldmVudCwgbWFraW5nIGl0IHBvc3NpYmxlIHRvXG4gKiBpbnRlZ3JhdGUgZXh0ZW5zaW9uIGludG8gdGhlIG1hcmtlciBsaWZlLWN5Y2xlLCB0b28uXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjYW52YXMuYWRkTWFya2VyKCdmb28nLCAnc29tZS1tYXJrZXInKTtcbiAqXG4gKiBjb25zdCBmb29HZnggPSBjYW52YXMuZ2V0R3JhcGhpY3MoJ2ZvbycpO1xuICpcbiAqIGZvb0dmeDsgLy8gPGcgY2xhc3M9XCIuLi4gc29tZS1tYXJrZXJcIj4gLi4uIDwvZz5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U2hhcGVMaWtlfENvbm5lY3Rpb25MaWtlfHN0cmluZ30gZWxlbWVudCBUaGUgZWxlbWVudCBvciBpdHMgSUQuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFya2VyIFRoZSBtYXJrZXIuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuYWRkTWFya2VyID0gZnVuY3Rpb24oZWxlbWVudCwgbWFya2VyKSB7XG4gIHRoaXMuX3VwZGF0ZU1hcmtlcihlbGVtZW50LCBtYXJrZXIsIHRydWUpO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZSBhIG1hcmtlciBmcm9tIGFuIGVsZW1lbnQuXG4gKlxuICogRmlyZXMgdGhlIGVsZW1lbnQubWFya2VyLnVwZGF0ZSBldmVudCwgbWFraW5nIGl0IHBvc3NpYmxlIHRvXG4gKiBpbnRlZ3JhdGUgZXh0ZW5zaW9uIGludG8gdGhlIG1hcmtlciBsaWZlLWN5Y2xlLCB0b28uXG4gKlxuICogQHBhcmFtIHtTaGFwZUxpa2V8Q29ubmVjdGlvbkxpa2V8c3RyaW5nfSBlbGVtZW50IFRoZSBlbGVtZW50IG9yIGl0cyBJRC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrZXIgVGhlIG1hcmtlci5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5yZW1vdmVNYXJrZXIgPSBmdW5jdGlvbihlbGVtZW50LCBtYXJrZXIpIHtcbiAgdGhpcy5fdXBkYXRlTWFya2VyKGVsZW1lbnQsIG1hcmtlciwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGFuIGVsZW1lbnQgaGFzIGEgZ2l2ZW4gbWFya2VyLlxuICpcbiAqIEBwYXJhbSB7U2hhcGVMaWtlfENvbm5lY3Rpb25MaWtlfHN0cmluZ30gZWxlbWVudCBUaGUgZWxlbWVudCBvciBpdHMgSUQuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFya2VyIFRoZSBtYXJrZXIuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuaGFzTWFya2VyID0gZnVuY3Rpb24oZWxlbWVudCwgbWFya2VyKSB7XG4gIGlmICghZWxlbWVudC5pZCkge1xuICAgIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQpO1xuICB9XG5cbiAgaWYgKCFlbGVtZW50Lm1hcmtlcnMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudC5tYXJrZXJzLmhhcyhtYXJrZXIpO1xufTtcblxuLyoqXG4gKiBUb2dnbGVzIGEgbWFya2VyIG9uIGFuIGVsZW1lbnQuXG4gKlxuICogRmlyZXMgdGhlIGVsZW1lbnQubWFya2VyLnVwZGF0ZSBldmVudCwgbWFraW5nIGl0IHBvc3NpYmxlIHRvXG4gKiBpbnRlZ3JhdGUgZXh0ZW5zaW9uIGludG8gdGhlIG1hcmtlciBsaWZlLWN5Y2xlLCB0b28uXG4gKlxuICogQHBhcmFtIHtTaGFwZUxpa2V8Q29ubmVjdGlvbkxpa2V8c3RyaW5nfSBlbGVtZW50IFRoZSBlbGVtZW50IG9yIGl0cyBJRC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrZXIgVGhlIG1hcmtlci5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS50b2dnbGVNYXJrZXIgPSBmdW5jdGlvbihlbGVtZW50LCBtYXJrZXIpIHtcbiAgaWYgKHRoaXMuaGFzTWFya2VyKGVsZW1lbnQsIG1hcmtlcikpIHtcbiAgICB0aGlzLnJlbW92ZU1hcmtlcihlbGVtZW50LCBtYXJrZXIpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYWRkTWFya2VyKGVsZW1lbnQsIG1hcmtlcik7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCByb290IGVsZW1lbnQuXG4gKlxuICogU3VwcG9ydHMgdHdvIGRpZmZlcmVudCBtb2RlcyBmb3IgaGFuZGxpbmcgcm9vdCBlbGVtZW50czpcbiAqXG4gKiAxLiBpZiBubyByb290IGVsZW1lbnQgaGFzIGJlZW4gYWRkZWQgYmVmb3JlLCBhbiBpbXBsaWNpdCByb290IHdpbGwgYmUgYWRkZWRcbiAqIGFuZCByZXR1cm5lZC4gVGhpcyBpcyB1c2VkIGluIGFwcGxpY2F0aW9ucyB0aGF0IGRvbid0IHJlcXVpcmUgZXhwbGljaXRcbiAqIHJvb3QgZWxlbWVudHMuXG4gKlxuICogMi4gd2hlbiByb290IGVsZW1lbnRzIGhhdmUgYmVlbiBhZGRlZCBiZWZvcmUgY2FsbGluZyBgZ2V0Um9vdEVsZW1lbnRgLFxuICogcm9vdCBlbGVtZW50cyBjYW4gYmUgbnVsbC4gVGhpcyBpcyB1c2VkIGZvciBhcHBsaWNhdGlvbnMgdGhhdCB3YW50IHRvIG1hbmFnZVxuICogcm9vdCBlbGVtZW50cyB0aGVtc2VsdmVzLlxuICpcbiAqIEByZXR1cm4ge1Jvb3RMaWtlfSBUaGUgY3VycmVudCByb290IGVsZW1lbnQuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuZ2V0Um9vdEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgY29uc3Qgcm9vdEVsZW1lbnQgPSB0aGlzLl9yb290RWxlbWVudDtcblxuICAvLyBjYW4gcmV0dXJuIG51bGwgaWYgcm9vdCBlbGVtZW50cyBhcmUgcHJlc2VudCBidXQgbm9uZSB3YXMgc2V0IHlldFxuICBpZiAocm9vdEVsZW1lbnQgfHwgdGhpcy5fcGxhbmVzLmxlbmd0aCkge1xuICAgIHJldHVybiByb290RWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLnNldFJvb3RFbGVtZW50KHRoaXMuYWRkUm9vdEVsZW1lbnQobnVsbCkpO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgZ2l2ZW4gcm9vdCBlbGVtZW50IGFuZCByZXR1cm5zIGl0LlxuICpcbiAqIEBwYXJhbSB7Um9vdExpa2V9IFtyb290RWxlbWVudF0gVGhlIHJvb3QgZWxlbWVudCB0byBiZSBhZGRlZC5cbiAqXG4gKiBAcmV0dXJuIHtSb290TGlrZX0gVGhlIGFkZGVkIHJvb3QgZWxlbWVudCBvciBhbiBpbXBsaWNpdCByb290IGVsZW1lbnQuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuYWRkUm9vdEVsZW1lbnQgPSBmdW5jdGlvbihyb290RWxlbWVudCkge1xuICBjb25zdCBpZHggPSB0aGlzLl9yb290c0lkeCsrO1xuXG4gIGlmICghcm9vdEVsZW1lbnQpIHtcbiAgICByb290RWxlbWVudCA9IHtcbiAgICAgIGlkOiAnX19pbXBsaWNpdHJvb3RfJyArIGlkeCxcbiAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgIGlzSW1wbGljaXQ6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgbGF5ZXJOYW1lID0gcm9vdEVsZW1lbnQubGF5ZXIgPSAncm9vdC0nICsgaWR4O1xuXG4gIHRoaXMuX2Vuc3VyZVZhbGlkKCdyb290Jywgcm9vdEVsZW1lbnQpO1xuXG4gIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllck5hbWUsIFBMQU5FX0xBWUVSX0lOREVYKTtcblxuICB0aGlzLmhpZGVMYXllcihsYXllck5hbWUpO1xuXG4gIHRoaXMuX2FkZFJvb3Qocm9vdEVsZW1lbnQsIGxheWVyKTtcblxuICB0aGlzLl9wbGFuZXMucHVzaCh7XG4gICAgcm9vdEVsZW1lbnQ6IHJvb3RFbGVtZW50LFxuICAgIGxheWVyOiBsYXllclxuICB9KTtcblxuICByZXR1cm4gcm9vdEVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYSBnaXZlbiByb290IGVsZW1lbnQgYW5kIHJldHVybnMgaXQuXG4gKlxuICogQHBhcmFtIHtSb290TGlrZXxzdHJpbmd9IHJvb3RFbGVtZW50IGVsZW1lbnQgb3IgZWxlbWVudCBJRFxuICpcbiAqIEByZXR1cm4ge1Jvb3RMaWtlfHVuZGVmaW5lZH0gcmVtb3ZlZCBlbGVtZW50XG4gKi9cbkNhbnZhcy5wcm90b3R5cGUucmVtb3ZlUm9vdEVsZW1lbnQgPSBmdW5jdGlvbihyb290RWxlbWVudCkge1xuXG4gIGlmICh0eXBlb2Ygcm9vdEVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgcm9vdEVsZW1lbnQgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KHJvb3RFbGVtZW50KTtcbiAgfVxuXG4gIGNvbnN0IHBsYW5lID0gdGhpcy5fZmluZFBsYW5lRm9yUm9vdChyb290RWxlbWVudCk7XG5cbiAgaWYgKCFwbGFuZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGhvb2sgdXAgbGlmZS1jeWNsZSBldmVudHNcbiAgdGhpcy5fcmVtb3ZlUm9vdChyb290RWxlbWVudCk7XG5cbiAgLy8gY2xlYW4gdXAgbGF5ZXJcbiAgdGhpcy5fcmVtb3ZlTGF5ZXIocm9vdEVsZW1lbnQubGF5ZXIpO1xuXG4gIC8vIGNsZWFuIHVwIHBsYW5lXG4gIHRoaXMuX3BsYW5lcyA9IHRoaXMuX3BsYW5lcy5maWx0ZXIoZnVuY3Rpb24ocGxhbmUpIHtcbiAgICByZXR1cm4gcGxhbmUucm9vdEVsZW1lbnQgIT09IHJvb3RFbGVtZW50O1xuICB9KTtcblxuICAvLyBjbGVhbiB1cCBhY3RpdmUgcm9vdFxuICBpZiAodGhpcy5fcm9vdEVsZW1lbnQgPT09IHJvb3RFbGVtZW50KSB7XG4gICAgdGhpcy5fcm9vdEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHJvb3RFbGVtZW50O1xufTtcblxuXG4vKipcbiAqIFNldHMgYSBnaXZlbiBlbGVtZW50IGFzIHRoZSBuZXcgcm9vdCBlbGVtZW50IGZvciB0aGUgY2FudmFzXG4gKiBhbmQgcmV0dXJucyB0aGUgbmV3IHJvb3QgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge1Jvb3RMaWtlfSByb290RWxlbWVudCBUaGUgcm9vdCBlbGVtZW50IHRvIGJlIHNldC5cbiAqXG4gKiBAcmV0dXJuIHtSb290TGlrZX0gVGhlIHNldCByb290IGVsZW1lbnQuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuc2V0Um9vdEVsZW1lbnQgPSBmdW5jdGlvbihyb290RWxlbWVudCkge1xuXG4gIGlmIChyb290RWxlbWVudCA9PT0gdGhpcy5fcm9vdEVsZW1lbnQpIHtcbiAgICByZXR1cm4gcm9vdEVsZW1lbnQ7XG4gIH1cblxuICBsZXQgcGxhbmU7XG5cbiAgaWYgKCFyb290RWxlbWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncm9vdEVsZW1lbnQgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIHBsYW5lID0gdGhpcy5fZmluZFBsYW5lRm9yUm9vdChyb290RWxlbWVudCk7XG5cbiAgLy8gZ2l2ZSBzZXQgYWRkIHNlbWFudGljcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgaWYgKCFwbGFuZSkge1xuICAgIHJvb3RFbGVtZW50ID0gdGhpcy5hZGRSb290RWxlbWVudChyb290RWxlbWVudCk7XG4gIH1cblxuICB0aGlzLl9zZXRSb290KHJvb3RFbGVtZW50KTtcblxuICByZXR1cm4gcm9vdEVsZW1lbnQ7XG59O1xuXG5cbkNhbnZhcy5wcm90b3R5cGUuX3JlbW92ZVJvb3QgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGNvbnN0IGVsZW1lbnRSZWdpc3RyeSA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeSxcbiAgICAgICAgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICAvLyBzaW11bGF0ZSBlbGVtZW50IHJlbW92ZSBldmVudCBzZXF1ZW5jZVxuICBldmVudEJ1cy5maXJlKCdyb290LnJlbW92ZScsIHsgZWxlbWVudDogZWxlbWVudCB9KTtcbiAgZXZlbnRCdXMuZmlyZSgncm9vdC5yZW1vdmVkJywgeyBlbGVtZW50OiBlbGVtZW50IH0pO1xuXG4gIGVsZW1lbnRSZWdpc3RyeS5yZW1vdmUoZWxlbWVudCk7XG59O1xuXG5cbkNhbnZhcy5wcm90b3R5cGUuX2FkZFJvb3QgPSBmdW5jdGlvbihlbGVtZW50LCBnZngpIHtcbiAgY29uc3QgZWxlbWVudFJlZ2lzdHJ5ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LFxuICAgICAgICBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIC8vIHJlc2VtYmxlIGVsZW1lbnQgYWRkIGV2ZW50IHNlcXVlbmNlXG4gIGV2ZW50QnVzLmZpcmUoJ3Jvb3QuYWRkJywgeyBlbGVtZW50OiBlbGVtZW50IH0pO1xuXG4gIGVsZW1lbnRSZWdpc3RyeS5hZGQoZWxlbWVudCwgZ2Z4KTtcblxuICBldmVudEJ1cy5maXJlKCdyb290LmFkZGVkJywgeyBlbGVtZW50OiBlbGVtZW50LCBnZng6IGdmeCB9KTtcbn07XG5cblxuQ2FudmFzLnByb3RvdHlwZS5fc2V0Um9vdCA9IGZ1bmN0aW9uKHJvb3RFbGVtZW50LCBsYXllcikge1xuXG4gIGNvbnN0IGN1cnJlbnRSb290ID0gdGhpcy5fcm9vdEVsZW1lbnQ7XG5cbiAgaWYgKGN1cnJlbnRSb290KSB7XG5cbiAgICAvLyB1bi1hc3NvY2lhdGUgcHJldmlvdXMgcm9vdCBlbGVtZW50IDxzdmc+XG4gICAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LnVwZGF0ZUdyYXBoaWNzKGN1cnJlbnRSb290LCBudWxsLCB0cnVlKTtcblxuICAgIC8vIGhpZGUgcHJldmlvdXMgbGF5ZXJcbiAgICB0aGlzLmhpZGVMYXllcihjdXJyZW50Um9vdC5sYXllcik7XG4gIH1cblxuICBpZiAocm9vdEVsZW1lbnQpIHtcblxuICAgIGlmICghbGF5ZXIpIHtcbiAgICAgIGxheWVyID0gdGhpcy5fZmluZFBsYW5lRm9yUm9vdChyb290RWxlbWVudCkubGF5ZXI7XG4gICAgfVxuXG4gICAgLy8gYXNzb2NpYXRlIGVsZW1lbnQgd2l0aCA8c3ZnPlxuICAgIHRoaXMuX2VsZW1lbnRSZWdpc3RyeS51cGRhdGVHcmFwaGljcyhyb290RWxlbWVudCwgdGhpcy5fc3ZnLCB0cnVlKTtcblxuICAgIC8vIHNob3cgcm9vdCBsYXllclxuICAgIHRoaXMuc2hvd0xheWVyKHJvb3RFbGVtZW50LmxheWVyKTtcbiAgfVxuXG4gIHRoaXMuX3Jvb3RFbGVtZW50ID0gcm9vdEVsZW1lbnQ7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgncm9vdC5zZXQnLCB7IGVsZW1lbnQ6IHJvb3RFbGVtZW50IH0pO1xufTtcblxuQ2FudmFzLnByb3RvdHlwZS5fZW5zdXJlVmFsaWQgPSBmdW5jdGlvbih0eXBlLCBlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudC5pZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZWxlbWVudCBtdXN0IGhhdmUgYW4gaWQnKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQuaWQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbGVtZW50IDwnICsgZWxlbWVudC5pZCArICc+IGFscmVhZHkgZXhpc3RzJyk7XG4gIH1cblxuICBjb25zdCByZXF1aXJlZEF0dHJzID0gUkVRVUlSRURfTU9ERUxfQVRUUlNbdHlwZV07XG5cbiAgY29uc3QgdmFsaWQgPSBldmVyeShyZXF1aXJlZEF0dHJzLCBmdW5jdGlvbihhdHRyKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlbGVtZW50W2F0dHJdICE9PSAndW5kZWZpbmVkJztcbiAgfSk7XG5cbiAgaWYgKCF2YWxpZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdtdXN0IHN1cHBseSB7ICcgKyByZXF1aXJlZEF0dHJzLmpvaW4oJywgJykgKyAnIH0gd2l0aCAnICsgdHlwZSk7XG4gIH1cbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuX3NldFBhcmVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgcGFyZW50SW5kZXgpIHtcbiAgY29sbGVjdGlvbkFkZChwYXJlbnQuY2hpbGRyZW4sIGVsZW1lbnQsIHBhcmVudEluZGV4KTtcbiAgZWxlbWVudC5wYXJlbnQgPSBwYXJlbnQ7XG59O1xuXG4vKipcbiAqIEFkZHMgYW4gZWxlbWVudCB0byB0aGUgY2FudmFzLlxuICpcbiAqIFRoaXMgd2lyZXMgdGhlIHBhcmVudCA8LT4gY2hpbGQgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIGVsZW1lbnQgYW5kXG4gKiBhIGV4cGxpY2l0bHkgc3BlY2lmaWVkIHBhcmVudCBvciBhbiBpbXBsaWNpdCByb290IGVsZW1lbnQuXG4gKlxuICogRHVyaW5nIGFkZCBpdCBlbWl0cyB0aGUgZXZlbnRzXG4gKlxuICogICogPHt0eXBlfS5hZGQ+IChlbGVtZW50LCBwYXJlbnQpXG4gKiAgKiA8e3R5cGV9LmFkZGVkPiAoZWxlbWVudCwgZ2Z4KVxuICpcbiAqIEV4dGVuc2lvbnMgbWF5IGhvb2sgaW50byB0aGVzZSBldmVudHMgdG8gcGVyZm9ybSB0aGVpciBtYWdpYy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtDb25uZWN0aW9uTGlrZXxTaGFwZUxpa2V9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U2hhcGVMaWtlfSBbcGFyZW50XVxuICogQHBhcmFtIHtudW1iZXJ9IFtwYXJlbnRJbmRleF1cbiAqXG4gKiBAcmV0dXJuIHtDb25uZWN0aW9uTGlrZXxTaGFwZUxpa2V9IFRoZSBhZGRlZCBlbGVtZW50LlxuICovXG5DYW52YXMucHJvdG90eXBlLl9hZGRFbGVtZW50ID0gZnVuY3Rpb24odHlwZSwgZWxlbWVudCwgcGFyZW50LCBwYXJlbnRJbmRleCkge1xuXG4gIHBhcmVudCA9IHBhcmVudCB8fCB0aGlzLmdldFJvb3RFbGVtZW50KCk7XG5cbiAgY29uc3QgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cyxcbiAgICAgICAgZ3JhcGhpY3NGYWN0b3J5ID0gdGhpcy5fZ3JhcGhpY3NGYWN0b3J5O1xuXG4gIHRoaXMuX2Vuc3VyZVZhbGlkKHR5cGUsIGVsZW1lbnQpO1xuXG4gIGV2ZW50QnVzLmZpcmUodHlwZSArICcuYWRkJywgeyBlbGVtZW50OiBlbGVtZW50LCBwYXJlbnQ6IHBhcmVudCB9KTtcblxuICB0aGlzLl9zZXRQYXJlbnQoZWxlbWVudCwgcGFyZW50LCBwYXJlbnRJbmRleCk7XG5cbiAgLy8gY3JlYXRlIGdyYXBoaWNzXG4gIGNvbnN0IGdmeCA9IGdyYXBoaWNzRmFjdG9yeS5jcmVhdGUodHlwZSwgZWxlbWVudCwgcGFyZW50SW5kZXgpO1xuXG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5hZGQoZWxlbWVudCwgZ2Z4KTtcblxuICAvLyB1cGRhdGUgaXRzIHZpc3VhbFxuICBncmFwaGljc0ZhY3RvcnkudXBkYXRlKHR5cGUsIGVsZW1lbnQsIGdmeCk7XG5cbiAgZXZlbnRCdXMuZmlyZSh0eXBlICsgJy5hZGRlZCcsIHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBnZnggfSk7XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBzaGFwZSB0byB0aGUgY2FudmFzLlxuICpcbiAqIEBwYXJhbSB7U2hhcGVMaWtlfSBzaGFwZSBUaGUgc2hhcGUgdG8gYmUgYWRkZWRcbiAqIEBwYXJhbSB7UGFyZW50TGlrZX0gW3BhcmVudF0gVGhlIHNoYXBlJ3MgcGFyZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFtwYXJlbnRJbmRleF0gVGhlIGluZGV4IGF0IHdoaWNoIHRvIGFkZCB0aGUgc2hhcGUgdG8gdGhlIHBhcmVudCdzIGNoaWxkcmVuLlxuICpcbiAqIEByZXR1cm4ge1NoYXBlTGlrZX0gVGhlIGFkZGVkIHNoYXBlLlxuICovXG5DYW52YXMucHJvdG90eXBlLmFkZFNoYXBlID0gZnVuY3Rpb24oc2hhcGUsIHBhcmVudCwgcGFyZW50SW5kZXgpIHtcbiAgcmV0dXJuIHRoaXMuX2FkZEVsZW1lbnQoJ3NoYXBlJywgc2hhcGUsIHBhcmVudCwgcGFyZW50SW5kZXgpO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgY29ubmVjdGlvbiB0byB0aGUgY2FudmFzLlxuICpcbiAqIEBwYXJhbSB7Q29ubmVjdGlvbkxpa2V9IGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdG8gYmUgYWRkZWQuXG4gKiBAcGFyYW0ge1BhcmVudExpa2V9IFtwYXJlbnRdIFRoZSBjb25uZWN0aW9uJ3MgcGFyZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFtwYXJlbnRJbmRleF0gVGhlIGluZGV4IGF0IHdoaWNoIHRvIGFkZCB0aGUgY29ubmVjdGlvbiB0byB0aGUgcGFyZW50J3MgY2hpbGRyZW4uXG4gKlxuICogQHJldHVybiB7Q29ubmVjdGlvbkxpa2V9IFRoZSBhZGRlZCBjb25uZWN0aW9uLlxuICovXG5DYW52YXMucHJvdG90eXBlLmFkZENvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25uZWN0aW9uLCBwYXJlbnQsIHBhcmVudEluZGV4KSB7XG4gIHJldHVybiB0aGlzLl9hZGRFbGVtZW50KCdjb25uZWN0aW9uJywgY29ubmVjdGlvbiwgcGFyZW50LCBwYXJlbnRJbmRleCk7XG59O1xuXG5cbi8qKlxuICogSW50ZXJuYWwgcmVtb3ZlIGVsZW1lbnRcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5fcmVtb3ZlRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUpIHtcblxuICBjb25zdCBlbGVtZW50UmVnaXN0cnkgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnksXG4gICAgICAgIGdyYXBoaWNzRmFjdG9yeSA9IHRoaXMuX2dyYXBoaWNzRmFjdG9yeSxcbiAgICAgICAgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICBlbGVtZW50ID0gZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50LmlkIHx8IGVsZW1lbnQpO1xuXG4gIGlmICghZWxlbWVudCkge1xuXG4gICAgLy8gZWxlbWVudCB3YXMgcmVtb3ZlZCBhbHJlYWR5XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZXZlbnRCdXMuZmlyZSh0eXBlICsgJy5yZW1vdmUnLCB7IGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG5cbiAgZ3JhcGhpY3NGYWN0b3J5LnJlbW92ZShlbGVtZW50KTtcblxuICAvLyB1bnNldCBwYXJlbnQgPC0+IGNoaWxkIHJlbGF0aW9uc2hpcFxuICBjb2xsZWN0aW9uUmVtb3ZlKGVsZW1lbnQucGFyZW50ICYmIGVsZW1lbnQucGFyZW50LmNoaWxkcmVuLCBlbGVtZW50KTtcbiAgZWxlbWVudC5wYXJlbnQgPSBudWxsO1xuXG4gIGV2ZW50QnVzLmZpcmUodHlwZSArICcucmVtb3ZlZCcsIHsgZWxlbWVudDogZWxlbWVudCB9KTtcblxuICBlbGVtZW50UmVnaXN0cnkucmVtb3ZlKGVsZW1lbnQpO1xuXG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuXG4vKipcbiAqIFJlbW92ZXMgYSBzaGFwZSBmcm9tIHRoZSBjYW52YXMuXG4gKlxuICogQGZpcmVzIFNoYXBlUmVtb3ZlRXZlbnRcbiAqIEBmaXJlcyBTaGFwZVJlbW92ZWRFdmVudFxuICpcbiAqIEBwYXJhbSB7U2hhcGVMaWtlfHN0cmluZ30gc2hhcGUgVGhlIHNoYXBlIG9yIGl0cyBJRC5cbiAqXG4gKiBAcmV0dXJuIHtTaGFwZUxpa2V9IFRoZSByZW1vdmVkIHNoYXBlLlxuICovXG5DYW52YXMucHJvdG90eXBlLnJlbW92ZVNoYXBlID0gZnVuY3Rpb24oc2hhcGUpIHtcblxuICAvKipcbiAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IGEgc2hhcGUgaXMgYWJvdXQgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBDYW52YXNcbiAgICpcbiAgICogQGV2ZW50IFNoYXBlUmVtb3ZlRXZlbnRcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByb3BlcnR5IHtTaGFwZUxpa2V9IGVsZW1lbnQgVGhlIHNoYXBlLlxuICAgKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeCBUaGUgZ3JhcGhpY2FsIGVsZW1lbnQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgYSBzaGFwZSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQG1lbWJlck9mIENhbnZhc1xuICAgKlxuICAgKiBAZXZlbnQgU2hhcGVSZW1vdmVkRXZlbnRcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByb3BlcnR5IHtTaGFwZUxpa2V9IGVsZW1lbnQgVGhlIHNoYXBlLlxuICAgKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeCBUaGUgZ3JhcGhpY2FsIGVsZW1lbnQuXG4gICAqL1xuICByZXR1cm4gdGhpcy5fcmVtb3ZlRWxlbWVudChzaGFwZSwgJ3NoYXBlJyk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlcyBhIGNvbm5lY3Rpb24gZnJvbSB0aGUgY2FudmFzLlxuICpcbiAqIEBmaXJlcyBDb25uZWN0aW9uUmVtb3ZlRXZlbnRcbiAqIEBmaXJlcyBDb25uZWN0aW9uUmVtb3ZlZEV2ZW50XG4gKlxuICogQHBhcmFtIHtDb25uZWN0aW9uTGlrZXxzdHJpbmd9IGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gb3IgaXRzIElELlxuICpcbiAqIEByZXR1cm4ge0Nvbm5lY3Rpb25MaWtlfSBUaGUgcmVtb3ZlZCBjb25uZWN0aW9uLlxuICovXG5DYW52YXMucHJvdG90eXBlLnJlbW92ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG5cbiAgLyoqXG4gICAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCBhIGNvbm5lY3Rpb24gaXMgYWJvdXQgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBDYW52YXNcbiAgICpcbiAgICogQGV2ZW50IENvbm5lY3Rpb25SZW1vdmVFdmVudFxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJvcGVydHkge0Nvbm5lY3Rpb25MaWtlfSBlbGVtZW50IFRoZSBjb25uZWN0aW9uLlxuICAgKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeCBUaGUgZ3JhcGhpY2FsIGVsZW1lbnQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgYSBjb25uZWN0aW9uIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgY2FudmFzLlxuICAgKlxuICAgKiBAbWVtYmVyT2YgQ2FudmFzXG4gICAqXG4gICAqIEBldmVudCBDb25uZWN0aW9uUmVtb3ZlZEV2ZW50XG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7Q29ubmVjdGlvbkxpa2V9IGVsZW1lbnQgVGhlIGNvbm5lY3Rpb24uXG4gICAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4IFRoZSBncmFwaGljYWwgZWxlbWVudC5cbiAgICovXG4gIHJldHVybiB0aGlzLl9yZW1vdmVFbGVtZW50KGNvbm5lY3Rpb24sICdjb25uZWN0aW9uJyk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ3JhcGhpY2FsIGVsZW1lbnQgb2YgYW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlTGlrZXxDb25uZWN0aW9uTGlrZXxzdHJpbmd9IGVsZW1lbnQgVGhlIGVsZW1lbnQgb3IgaXRzIElELlxuICogQHBhcmFtIHtib29sZWFufSBbc2Vjb25kYXJ5PWZhbHNlXSBXaGV0aGVyIHRvIHJldHVybiB0aGUgc2Vjb25kYXJ5IGdyYXBoaWNhbCBlbGVtZW50LlxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IFRoZSBncmFwaGljYWwgZWxlbWVudC5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRHcmFwaGljcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNlY29uZGFyeSkge1xuICByZXR1cm4gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGVsZW1lbnQsIHNlY29uZGFyeSk7XG59O1xuXG5cbi8qKlxuICogUGVyZm9ybSBhIHZpZXdib3ggdXBkYXRlIHZpYSBhIGdpdmVuIGNoYW5nZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaGFuZ2VGblxuICovXG5DYW52YXMucHJvdG90eXBlLl9jaGFuZ2VWaWV3Ym94ID0gZnVuY3Rpb24oY2hhbmdlRm4pIHtcblxuICAvLyBub3RpZnkgb3RoZXJzIG9mIHRoZSB1cGNvbWluZyB2aWV3Ym94IGNoYW5nZVxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjYW52YXMudmlld2JveC5jaGFuZ2luZycpO1xuXG4gIC8vIHBlcmZvcm0gYWN0dWFsIGNoYW5nZVxuICBjaGFuZ2VGbi5hcHBseSh0aGlzKTtcblxuICAvLyByZXNldCB0aGUgY2FjaGVkIHZpZXdib3ggc28gdGhhdFxuICAvLyBhIG5ldyBnZXQgb3BlcmF0aW9uIG9uIHZpZXdib3ggb3Igem9vbVxuICAvLyB0cmlnZ2VycyBhIHZpZXdib3ggcmUtY29tcHV0YXRpb25cbiAgdGhpcy5fY2FjaGVkVmlld2JveCA9IG51bGw7XG5cbiAgLy8gbm90aWZ5IG90aGVycyBvZiB0aGUgY2hhbmdlOyB0aGlzIHN0ZXBcbiAgLy8gbWF5IG9yIG1heSBub3QgYmUgZGVib3VuY2VkXG4gIHRoaXMuX3ZpZXdib3hDaGFuZ2VkKCk7XG59O1xuXG5DYW52YXMucHJvdG90eXBlLl92aWV3Ym94Q2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjYW52YXMudmlld2JveC5jaGFuZ2VkJywgeyB2aWV3Ym94OiB0aGlzLnZpZXdib3goKSB9KTtcbn07XG5cblxuLyoqXG4gKiBHZXRzIG9yIHNldHMgdGhlIHZpZXcgYm94IG9mIHRoZSBjYW52YXMsIGkuZS4gdGhlXG4gKiBhcmVhIHRoYXQgaXMgY3VycmVudGx5IGRpc3BsYXllZC5cbiAqXG4gKiBUaGUgZ2V0dGVyIG1heSByZXR1cm4gYSBjYWNoZWQgdmlld2JveCAoaWYgaXQgaXMgY3VycmVudGx5XG4gKiBjaGFuZ2luZykuIFRvIGZvcmNlIGEgcmVjb21wdXRhdGlvbiwgcGFzcyBgZmFsc2VgIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNhbnZhcy52aWV3Ym94KHsgeDogMTAwLCB5OiAxMDAsIHdpZHRoOiA1MDAsIGhlaWdodDogNTAwIH0pXG4gKlxuICogLy8gc2V0cyB0aGUgdmlzaWJsZSBhcmVhIG9mIHRoZSBkaWFncmFtIHRvICgxMDB8MTAwKSAtPiAoNjAwfDEwMClcbiAqIC8vIGFuZCBhbmQgc2NhbGVzIGl0IGFjY29yZGluZyB0byB0aGUgZGlhZ3JhbSB3aWR0aFxuICpcbiAqIGNvbnN0IHZpZXdib3ggPSBjYW52YXMudmlld2JveCgpOyAvLyBwYXNzIGBmYWxzZWAgdG8gZm9yY2UgcmVjb21wdXRpbmcgdGhlIGJveC5cbiAqXG4gKiBjb25zb2xlLmxvZyh2aWV3Ym94KTtcbiAqIC8vIHtcbiAqIC8vICAgaW5uZXI6IERpbWVuc2lvbnMsXG4gKiAvLyAgIG91dGVyOiBEaW1lbnNpb25zLFxuICogLy8gICBzY2FsZSxcbiAqIC8vICAgeCwgeSxcbiAqIC8vICAgd2lkdGgsIGhlaWdodFxuICogLy8gfVxuICpcbiAqIC8vIGlmIHRoZSBjdXJyZW50IGRpYWdyYW0gaXMgem9vbWVkIGFuZCBzY3JvbGxlZCwgeW91IG1heSByZXNldCBpdCB0byB0aGVcbiAqIC8vIGRlZmF1bHQgem9vbSB2aWEgdGhpcyBtZXRob2QsIHRvbzpcbiAqXG4gKiBjb25zdCB6b29tZWRBbmRTY3JvbGxlZFZpZXdib3ggPSBjYW52YXMudmlld2JveCgpO1xuICpcbiAqIGNhbnZhcy52aWV3Ym94KHtcbiAqICAgeDogMCxcbiAqICAgeTogMCxcbiAqICAgd2lkdGg6IHpvb21lZEFuZFNjcm9sbGVkVmlld2JveC5vdXRlci53aWR0aCxcbiAqICAgaGVpZ2h0OiB6b29tZWRBbmRTY3JvbGxlZFZpZXdib3gub3V0ZXIuaGVpZ2h0XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7UmVjdH0gW2JveF0gVGhlIHZpZXdib3ggdG8gYmUgc2V0LlxuICpcbiAqIEByZXR1cm4ge0NhbnZhc1ZpZXdib3h9IFRoZSBzZXQgdmlld2JveC5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS52aWV3Ym94ID0gZnVuY3Rpb24oYm94KSB7XG5cbiAgaWYgKGJveCA9PT0gdW5kZWZpbmVkICYmIHRoaXMuX2NhY2hlZFZpZXdib3gpIHtcbiAgICByZXR1cm4gc3RydWN0dXJlZENsb25lKHRoaXMuX2NhY2hlZFZpZXdib3gpO1xuICB9XG5cbiAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLl92aWV3cG9ydCxcbiAgICAgICAgb3V0ZXJCb3ggPSB0aGlzLmdldFNpemUoKTtcbiAgbGV0IGlubmVyQm94LFxuICAgICAgbWF0cml4LFxuICAgICAgYWN0aXZlTGF5ZXIsXG4gICAgICB0cmFuc2Zvcm0sXG4gICAgICBzY2FsZSxcbiAgICAgIHgsIHk7XG5cbiAgaWYgKCFib3gpIHtcblxuICAgIC8vIGNvbXB1dGUgdGhlIGlubmVyIGJveCBiYXNlZCBvbiB0aGVcbiAgICAvLyBkaWFncmFtcyBhY3RpdmUgbGF5ZXIuIFRoaXMgYWxsb3dzIHVzIHRvIGV4Y2x1ZGVcbiAgICAvLyBleHRlcm5hbCBjb21wb25lbnRzLCBzdWNoIGFzIG92ZXJsYXlzXG5cbiAgICBhY3RpdmVMYXllciA9IHRoaXMuX3Jvb3RFbGVtZW50ID8gdGhpcy5nZXRBY3RpdmVMYXllcigpIDogbnVsbDtcbiAgICBpbm5lckJveCA9IGFjdGl2ZUxheWVyICYmIGFjdGl2ZUxheWVyLmdldEJCb3goKSB8fCB7fTtcblxuICAgIHRyYW5zZm9ybSA9IHN2Z1RyYW5zZm9ybSh2aWV3cG9ydCk7XG4gICAgbWF0cml4ID0gdHJhbnNmb3JtID8gdHJhbnNmb3JtLm1hdHJpeCA6IGNyZWF0ZU1hdHJpeCgpO1xuICAgIHNjYWxlID0gcm91bmQobWF0cml4LmEsIDEwMDApO1xuXG4gICAgeCA9IHJvdW5kKC1tYXRyaXguZSB8fCAwLCAxMDAwKTtcbiAgICB5ID0gcm91bmQoLW1hdHJpeC5mIHx8IDAsIDEwMDApO1xuXG4gICAgYm94ID0gdGhpcy5fY2FjaGVkVmlld2JveCA9IHtcbiAgICAgIHg6IHggPyB4IC8gc2NhbGUgOiAwLFxuICAgICAgeTogeSA/IHkgLyBzY2FsZSA6IDAsXG4gICAgICB3aWR0aDogb3V0ZXJCb3gud2lkdGggLyBzY2FsZSxcbiAgICAgIGhlaWdodDogb3V0ZXJCb3guaGVpZ2h0IC8gc2NhbGUsXG4gICAgICBzY2FsZTogc2NhbGUsXG4gICAgICBpbm5lcjoge1xuICAgICAgICB3aWR0aDogaW5uZXJCb3gud2lkdGggfHwgMCxcbiAgICAgICAgaGVpZ2h0OiBpbm5lckJveC5oZWlnaHQgfHwgMCxcbiAgICAgICAgeDogaW5uZXJCb3gueCB8fCAwLFxuICAgICAgICB5OiBpbm5lckJveC55IHx8IDBcbiAgICAgIH0sXG4gICAgICBvdXRlcjogb3V0ZXJCb3hcbiAgICB9O1xuXG4gICAgcmV0dXJuIGJveDtcbiAgfSBlbHNlIHtcblxuICAgIHRoaXMuX2NoYW5nZVZpZXdib3goZnVuY3Rpb24oKSB7XG4gICAgICBzY2FsZSA9IE1hdGgubWluKG91dGVyQm94LndpZHRoIC8gYm94LndpZHRoLCBvdXRlckJveC5oZWlnaHQgLyBib3guaGVpZ2h0KTtcblxuICAgICAgY29uc3QgbWF0cml4ID0gdGhpcy5fc3ZnLmNyZWF0ZVNWR01hdHJpeCgpXG4gICAgICAgIC5zY2FsZShzY2FsZSlcbiAgICAgICAgLnRyYW5zbGF0ZSgtYm94LngsIC1ib3gueSk7XG5cbiAgICAgIHN2Z1RyYW5zZm9ybSh2aWV3cG9ydCwgbWF0cml4KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBib3g7XG59O1xuXG5cbi8qKlxuICogR2V0cyBvciBzZXRzIHRoZSBzY3JvbGwgb2YgdGhlIGNhbnZhcy5cbiAqXG4gKiBAcGFyYW0ge1Njcm9sbERlbHRhfSBbZGVsdGFdIFRoZSBzY3JvbGwgdG8gYmUgc2V0LlxuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5DYW52YXMucHJvdG90eXBlLnNjcm9sbCA9IGZ1bmN0aW9uKGRlbHRhKSB7XG5cbiAgY29uc3Qgbm9kZSA9IHRoaXMuX3ZpZXdwb3J0O1xuICBsZXQgbWF0cml4ID0gbm9kZS5nZXRDVE0oKTtcblxuICBpZiAoZGVsdGEpIHtcbiAgICB0aGlzLl9jaGFuZ2VWaWV3Ym94KGZ1bmN0aW9uKCkge1xuICAgICAgZGVsdGEgPSBhc3NpZ24oeyBkeDogMCwgZHk6IDAgfSwgZGVsdGEgfHwge30pO1xuXG4gICAgICBtYXRyaXggPSB0aGlzLl9zdmcuY3JlYXRlU1ZHTWF0cml4KCkudHJhbnNsYXRlKGRlbHRhLmR4LCBkZWx0YS5keSkubXVsdGlwbHkobWF0cml4KTtcblxuICAgICAgc2V0Q1RNKG5vZGUsIG1hdHJpeCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4geyB4OiBtYXRyaXguZSwgeTogbWF0cml4LmYgfTtcbn07XG5cbi8qKlxuICogU2Nyb2xscyB0aGUgdmlld2JveCB0byBjb250YWluIHRoZSBnaXZlbiBlbGVtZW50LlxuICogT3B0aW9uYWxseSBzcGVjaWZ5IGEgcGFkZGluZyB0byBiZSBhcHBsaWVkIHRvIHRoZSBlZGdlcy5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlTGlrZXxDb25uZWN0aW9uTGlrZXxzdHJpbmd9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2Nyb2xsIHRvIG9yIGl0cyBJRC5cbiAqIEBwYXJhbSB7UmVjdFRSQkx8bnVtYmVyfSBbcGFkZGluZz0xMDBdIFRoZSBwYWRkaW5nIHRvIGJlIGFwcGxpZWQuIENhbiBhbHNvIHNwZWNpZnkgdG9wLCBib3R0b20sIGxlZnQgYW5kIHJpZ2h0LlxuICovXG5DYW52YXMucHJvdG90eXBlLnNjcm9sbFRvRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHBhZGRpbmcpIHtcbiAgbGV0IGRlZmF1bHRQYWRkaW5nID0gMTAwO1xuXG4gIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbGVtZW50ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50KTtcbiAgfVxuXG4gIC8vIHNldCB0byBjb3JyZWN0IHJvb3RFbGVtZW50XG4gIGNvbnN0IHJvb3RFbGVtZW50ID0gdGhpcy5maW5kUm9vdChlbGVtZW50KTtcblxuICBpZiAocm9vdEVsZW1lbnQgIT09IHRoaXMuZ2V0Um9vdEVsZW1lbnQoKSkge1xuICAgIHRoaXMuc2V0Um9vdEVsZW1lbnQocm9vdEVsZW1lbnQpO1xuICB9XG5cbiAgLy8gZWxlbWVudCBpcyByb290RWxlbWVudCwgZG8gbm90IGNoYW5nZSB2aWV3cG9ydFxuICBpZiAocm9vdEVsZW1lbnQgPT09IGVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXBhZGRpbmcpIHtcbiAgICBwYWRkaW5nID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBwYWRkaW5nID09PSAnbnVtYmVyJykge1xuICAgIGRlZmF1bHRQYWRkaW5nID0gcGFkZGluZztcbiAgfVxuXG4gIHBhZGRpbmcgPSB7XG4gICAgdG9wOiBwYWRkaW5nLnRvcCB8fCBkZWZhdWx0UGFkZGluZyxcbiAgICByaWdodDogcGFkZGluZy5yaWdodCB8fCBkZWZhdWx0UGFkZGluZyxcbiAgICBib3R0b206IHBhZGRpbmcuYm90dG9tIHx8IGRlZmF1bHRQYWRkaW5nLFxuICAgIGxlZnQ6IHBhZGRpbmcubGVmdCB8fCBkZWZhdWx0UGFkZGluZ1xuICB9O1xuXG4gIGNvbnN0IGVsZW1lbnRCb3VuZHMgPSBnZXRCb3VuZGluZ0JveChlbGVtZW50KSxcbiAgICAgICAgZWxlbWVudFRyYmwgPSBhc1RSQkwoZWxlbWVudEJvdW5kcyksXG4gICAgICAgIHZpZXdib3hCb3VuZHMgPSB0aGlzLnZpZXdib3goKSxcbiAgICAgICAgem9vbSA9IHRoaXMuem9vbSgpO1xuICBsZXQgZHgsIGR5O1xuXG4gIC8vIHNocmluayB2aWV3Ym94Qm91bmRzIHdpdGggcGFkZGluZ1xuICB2aWV3Ym94Qm91bmRzLnkgKz0gcGFkZGluZy50b3AgLyB6b29tO1xuICB2aWV3Ym94Qm91bmRzLnggKz0gcGFkZGluZy5sZWZ0IC8gem9vbTtcbiAgdmlld2JveEJvdW5kcy53aWR0aCAtPSAocGFkZGluZy5yaWdodCArIHBhZGRpbmcubGVmdCkgLyB6b29tO1xuICB2aWV3Ym94Qm91bmRzLmhlaWdodCAtPSAocGFkZGluZy5ib3R0b20gKyBwYWRkaW5nLnRvcCkgLyB6b29tO1xuXG4gIGNvbnN0IHZpZXdib3hUcmJsID0gYXNUUkJMKHZpZXdib3hCb3VuZHMpO1xuXG4gIGNvbnN0IGNhbkZpdCA9IGVsZW1lbnRCb3VuZHMud2lkdGggPCB2aWV3Ym94Qm91bmRzLndpZHRoICYmIGVsZW1lbnRCb3VuZHMuaGVpZ2h0IDwgdmlld2JveEJvdW5kcy5oZWlnaHQ7XG5cbiAgaWYgKCFjYW5GaXQpIHtcblxuICAgIC8vIHRvcC1sZWZ0IHdoZW4gZWxlbWVudCBjYW4ndCBmaXRcbiAgICBkeCA9IGVsZW1lbnRCb3VuZHMueCAtIHZpZXdib3hCb3VuZHMueDtcbiAgICBkeSA9IGVsZW1lbnRCb3VuZHMueSAtIHZpZXdib3hCb3VuZHMueTtcblxuICB9IGVsc2Uge1xuXG4gICAgY29uc3QgZFJpZ2h0ID0gTWF0aC5tYXgoMCwgZWxlbWVudFRyYmwucmlnaHQgLSB2aWV3Ym94VHJibC5yaWdodCksXG4gICAgICAgICAgZExlZnQgPSBNYXRoLm1pbigwLCBlbGVtZW50VHJibC5sZWZ0IC0gdmlld2JveFRyYmwubGVmdCksXG4gICAgICAgICAgZEJvdHRvbSA9IE1hdGgubWF4KDAsIGVsZW1lbnRUcmJsLmJvdHRvbSAtIHZpZXdib3hUcmJsLmJvdHRvbSksXG4gICAgICAgICAgZFRvcCA9IE1hdGgubWluKDAsIGVsZW1lbnRUcmJsLnRvcCAtIHZpZXdib3hUcmJsLnRvcCk7XG5cbiAgICBkeCA9IGRSaWdodCB8fCBkTGVmdDtcbiAgICBkeSA9IGRCb3R0b20gfHwgZFRvcDtcblxuICB9XG5cbiAgdGhpcy5zY3JvbGwoeyBkeDogLWR4ICogem9vbSwgZHk6IC1keSAqIHpvb20gfSk7XG59O1xuXG4vKipcbiAqIEdldHMgb3Igc2V0cyB0aGUgY3VycmVudCB6b29tIG9mIHRoZSBjYW52YXMsIG9wdGlvbmFsbHkgem9vbWluZyB0byB0aGVcbiAqIHNwZWNpZmllZCBwb3NpdGlvbi5cbiAqXG4gKiBUaGUgZ2V0dGVyIG1heSByZXR1cm4gYSBjYWNoZWQgem9vbSBsZXZlbC4gQ2FsbCBpdCB3aXRoIGBmYWxzZWAgYXMgdGhlIGZpcnN0XG4gKiBhcmd1bWVudCB0byBmb3JjZSByZWNvbXB1dGF0aW9uIG9mIHRoZSBjdXJyZW50IGxldmVsLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfCdmaXQtdmlld3BvcnQnfSBbbmV3U2NhbGVdIFRoZSBuZXcgem9vbSBsZXZlbCwgZWl0aGVyIGEgbnVtYmVyLFxuICogaS5lLiAwLjksIG9yIGBmaXQtdmlld3BvcnRgIHRvIGFkanVzdCB0aGUgc2l6ZSB0byBmaXQgdGhlIGN1cnJlbnQgdmlld3BvcnQuXG4gKiBAcGFyYW0ge1BvaW50fSBbY2VudGVyXSBUaGUgcmVmZXJlbmNlIHBvaW50IHsgeDogLi4uLCB5OiAuLi59IHRvIHpvb20gdG8uXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgc2V0IHpvb20gbGV2ZWwuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuem9vbSA9IGZ1bmN0aW9uKG5ld1NjYWxlLCBjZW50ZXIpIHtcblxuICBpZiAoIW5ld1NjYWxlKSB7XG4gICAgcmV0dXJuIHRoaXMudmlld2JveChuZXdTY2FsZSkuc2NhbGU7XG4gIH1cblxuICBpZiAobmV3U2NhbGUgPT09ICdmaXQtdmlld3BvcnQnKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpdFZpZXdwb3J0KGNlbnRlcik7XG4gIH1cblxuICBsZXQgb3V0ZXIsXG4gICAgICBtYXRyaXg7XG5cbiAgdGhpcy5fY2hhbmdlVmlld2JveChmdW5jdGlvbigpIHtcblxuICAgIGlmICh0eXBlb2YgY2VudGVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgb3V0ZXIgPSB0aGlzLnZpZXdib3goKS5vdXRlcjtcblxuICAgICAgY2VudGVyID0ge1xuICAgICAgICB4OiBvdXRlci53aWR0aCAvIDIsXG4gICAgICAgIHk6IG91dGVyLmhlaWdodCAvIDJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbWF0cml4ID0gdGhpcy5fc2V0Wm9vbShuZXdTY2FsZSwgY2VudGVyKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJvdW5kKG1hdHJpeC5hLCAxMDAwKTtcbn07XG5cbmZ1bmN0aW9uIHNldENUTShub2RlLCBtKSB7XG4gIGNvbnN0IG1zdHIgPSAnbWF0cml4KCcgKyBtLmEgKyAnLCcgKyBtLmIgKyAnLCcgKyBtLmMgKyAnLCcgKyBtLmQgKyAnLCcgKyBtLmUgKyAnLCcgKyBtLmYgKyAnKSc7XG4gIG5vZGUuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBtc3RyKTtcbn1cblxuQ2FudmFzLnByb3RvdHlwZS5fZml0Vmlld3BvcnQgPSBmdW5jdGlvbihjZW50ZXIpIHtcblxuICBjb25zdCB2Ym94ID0gdGhpcy52aWV3Ym94KCksXG4gICAgICAgIG91dGVyID0gdmJveC5vdXRlcixcbiAgICAgICAgaW5uZXIgPSB2Ym94LmlubmVyO1xuICBsZXQgbmV3U2NhbGUsXG4gICAgICBuZXdWaWV3Ym94O1xuXG4gIC8vIGRpc3BsYXkgdGhlIGNvbXBsZXRlIGRpYWdyYW0gd2l0aG91dCB6b29taW5nIGluLlxuICAvLyBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gaW50ZXJuYWwgem9vbSwgd2UgcGVyZm9ybSBhXG4gIC8vIGhhcmQgcmVzZXQgb24gdGhlIGNhbnZhcyB2aWV3Ym94IHRvIHJlYWxpemUgdGhpc1xuICAvL1xuICAvLyBpZiBkaWFncmFtIGRvZXMgbm90IG5lZWQgdG8gYmUgem9vbWVkIGluLCB3ZSBmb2N1cyBpdCBhcm91bmRcbiAgLy8gdGhlIGRpYWdyYW0gb3JpZ2luIGluc3RlYWRcblxuICBpZiAoaW5uZXIueCA+PSAwICYmXG4gICAgICBpbm5lci55ID49IDAgJiZcbiAgICAgIGlubmVyLnggKyBpbm5lci53aWR0aCA8PSBvdXRlci53aWR0aCAmJlxuICAgICAgaW5uZXIueSArIGlubmVyLmhlaWdodCA8PSBvdXRlci5oZWlnaHQgJiZcbiAgICAgICFjZW50ZXIpIHtcblxuICAgIG5ld1ZpZXdib3ggPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHdpZHRoOiBNYXRoLm1heChpbm5lci53aWR0aCArIGlubmVyLngsIG91dGVyLndpZHRoKSxcbiAgICAgIGhlaWdodDogTWF0aC5tYXgoaW5uZXIuaGVpZ2h0ICsgaW5uZXIueSwgb3V0ZXIuaGVpZ2h0KVxuICAgIH07XG4gIH0gZWxzZSB7XG5cbiAgICBuZXdTY2FsZSA9IE1hdGgubWluKDEsIG91dGVyLndpZHRoIC8gaW5uZXIud2lkdGgsIG91dGVyLmhlaWdodCAvIGlubmVyLmhlaWdodCk7XG4gICAgbmV3Vmlld2JveCA9IHtcbiAgICAgIHg6IGlubmVyLnggKyAoY2VudGVyID8gaW5uZXIud2lkdGggLyAyIC0gb3V0ZXIud2lkdGggLyBuZXdTY2FsZSAvIDIgOiAwKSxcbiAgICAgIHk6IGlubmVyLnkgKyAoY2VudGVyID8gaW5uZXIuaGVpZ2h0IC8gMiAtIG91dGVyLmhlaWdodCAvIG5ld1NjYWxlIC8gMiA6IDApLFxuICAgICAgd2lkdGg6IG91dGVyLndpZHRoIC8gbmV3U2NhbGUsXG4gICAgICBoZWlnaHQ6IG91dGVyLmhlaWdodCAvIG5ld1NjYWxlXG4gICAgfTtcbiAgfVxuXG4gIHRoaXMudmlld2JveChuZXdWaWV3Ym94KTtcblxuICByZXR1cm4gdGhpcy52aWV3Ym94KGZhbHNlKS5zY2FsZTtcbn07XG5cblxuQ2FudmFzLnByb3RvdHlwZS5fc2V0Wm9vbSA9IGZ1bmN0aW9uKHNjYWxlLCBjZW50ZXIpIHtcblxuICBjb25zdCBzdmcgPSB0aGlzLl9zdmcsXG4gICAgICAgIHZpZXdwb3J0ID0gdGhpcy5fdmlld3BvcnQ7XG5cbiAgY29uc3QgbWF0cml4ID0gc3ZnLmNyZWF0ZVNWR01hdHJpeCgpO1xuICBjb25zdCBwb2ludCA9IHN2Zy5jcmVhdGVTVkdQb2ludCgpO1xuXG4gIGxldCBjZW50ZXJQb2ludCxcbiAgICAgIG9yaWdpbmFsUG9pbnQsXG4gICAgICBjdXJyZW50TWF0cml4LFxuICAgICAgc2NhbGVNYXRyaXgsXG4gICAgICBuZXdNYXRyaXg7XG5cbiAgY3VycmVudE1hdHJpeCA9IHZpZXdwb3J0LmdldENUTSgpO1xuXG4gIGNvbnN0IGN1cnJlbnRTY2FsZSA9IGN1cnJlbnRNYXRyaXguYTtcblxuICBpZiAoY2VudGVyKSB7XG4gICAgY2VudGVyUG9pbnQgPSBhc3NpZ24ocG9pbnQsIGNlbnRlcik7XG5cbiAgICAvLyByZXZlcnQgYXBwbGllZCB2aWV3cG9ydCB0cmFuc2Zvcm1hdGlvbnNcbiAgICBvcmlnaW5hbFBvaW50ID0gY2VudGVyUG9pbnQubWF0cml4VHJhbnNmb3JtKGN1cnJlbnRNYXRyaXguaW52ZXJzZSgpKTtcblxuICAgIC8vIGNyZWF0ZSBzY2FsZSBtYXRyaXhcbiAgICBzY2FsZU1hdHJpeCA9IG1hdHJpeFxuICAgICAgLnRyYW5zbGF0ZShvcmlnaW5hbFBvaW50LngsIG9yaWdpbmFsUG9pbnQueSlcbiAgICAgIC5zY2FsZSgxIC8gY3VycmVudFNjYWxlICogc2NhbGUpXG4gICAgICAudHJhbnNsYXRlKC1vcmlnaW5hbFBvaW50LngsIC1vcmlnaW5hbFBvaW50LnkpO1xuXG4gICAgbmV3TWF0cml4ID0gY3VycmVudE1hdHJpeC5tdWx0aXBseShzY2FsZU1hdHJpeCk7XG4gIH0gZWxzZSB7XG4gICAgbmV3TWF0cml4ID0gbWF0cml4LnNjYWxlKHNjYWxlKTtcbiAgfVxuXG4gIHNldENUTSh0aGlzLl92aWV3cG9ydCwgbmV3TWF0cml4KTtcblxuICByZXR1cm4gbmV3TWF0cml4O1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNpemUgb2YgdGhlIGNhbnZhcy5cbiAqXG4gKiBAcmV0dXJuIHtEaW1lbnNpb25zfSBUaGUgc2l6ZSBvZiB0aGUgY2FudmFzLlxuICovXG5DYW52YXMucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogdGhpcy5fY29udGFpbmVyLmNsaWVudFdpZHRoLFxuICAgIGhlaWdodDogdGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodFxuICB9O1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIGFic29sdXRlIGJvdW5kaW5nIGJveCBvZiBhbiBlbGVtZW50LlxuICpcbiAqIFRoZSBhYnNvbHV0ZSBib3VuZGluZyBib3ggbWF5IGJlIHVzZWQgdG8gZGlzcGxheSBvdmVybGF5cyBpbiB0aGUgY2FsbGVyc1xuICogKGJyb3dzZXIpIGNvb3JkaW5hdGUgc3lzdGVtIHJhdGhlciB0aGFuIHRoZSB6b29tZWQgaW4vb3V0IGNhbnZhcyBjb29yZGluYXRlcy5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlTGlrZXxDb25uZWN0aW9uTGlrZX0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqXG4gKiBAcmV0dXJuIHtSZWN0fSBUaGUgZWxlbWVudCdzIGFic29sdXRlIGJvdW5kaW5nIGJveC5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRBYnNvbHV0ZUJCb3ggPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGNvbnN0IHZib3ggPSB0aGlzLnZpZXdib3goKTtcbiAgbGV0IGJib3g7XG5cbiAgLy8gY29ubmVjdGlvblxuICAvLyB1c2Ugc3ZnIGJib3hcbiAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgY29uc3QgZ2Z4ID0gdGhpcy5nZXRHcmFwaGljcyhlbGVtZW50KTtcblxuICAgIGJib3ggPSBnZnguZ2V0QkJveCgpO1xuICB9XG5cbiAgLy8gc2hhcGVzXG4gIC8vIHVzZSBkYXRhXG4gIGVsc2Uge1xuICAgIGJib3ggPSBlbGVtZW50O1xuICB9XG5cbiAgY29uc3QgeCA9IGJib3gueCAqIHZib3guc2NhbGUgLSB2Ym94LnggKiB2Ym94LnNjYWxlO1xuICBjb25zdCB5ID0gYmJveC55ICogdmJveC5zY2FsZSAtIHZib3gueSAqIHZib3guc2NhbGU7XG5cbiAgY29uc3Qgd2lkdGggPSBiYm94LndpZHRoICogdmJveC5zY2FsZTtcbiAgY29uc3QgaGVpZ2h0ID0gYmJveC5oZWlnaHQgKiB2Ym94LnNjYWxlO1xuXG4gIHJldHVybiB7XG4gICAgeDogeCxcbiAgICB5OiB5LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xufTtcblxuLyoqXG4gKiBGaXJlcyBhbiBldmVudCBzbyBvdGhlciBtb2R1bGVzIGNhbiByZWFjdCB0byB0aGUgY2FudmFzIHJlc2l6aW5nLlxuICovXG5DYW52YXMucHJvdG90eXBlLnJlc2l6ZWQgPSBmdW5jdGlvbigpIHtcblxuICAvLyBmb3JjZSByZWNvbXB1dGF0aW9uIG9mIHZpZXcgYm94XG4gIGRlbGV0ZSB0aGlzLl9jYWNoZWRWaWV3Ym94O1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NhbnZhcy5yZXNpemVkJyk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/core/Canvas.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/core/ElementFactory.js":
/*!****************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/core/ElementFactory.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ElementFactory)\n/* harmony export */ });\n/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model */ \"(ssr)/../../node_modules/diagram-js/lib/model/index.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n\n\n\n\n/**\n * @typedef {import('../model/Types').Element} Element\n * @typedef {import('../model/Types').Connection} Connection\n * @typedef {import('../model/Types').Label} Label\n * @typedef {import('../model/Types').Root} Root\n * @typedef {import('../model/Types').Shape} Shape\n */\n\n/**\n * A factory for model elements.\n *\n * @template {Connection} [T=Connection]\n * @template {Label} [U=Label]\n * @template {Root} [V=Root]\n * @template {Shape} [W=Shape]\n */\nfunction ElementFactory() {\n  this._uid = 12;\n}\n\n/**\n * Create a root element.\n *\n * @param {Partial<Root>} [attrs]\n *\n * @return {V} The created root element.\n */\nElementFactory.prototype.createRoot = function(attrs) {\n  return this.create('root', attrs);\n};\n\n/**\n * Create a label.\n *\n * @param {Partial<Label>} [attrs]\n *\n * @return {U} The created label.\n */\nElementFactory.prototype.createLabel = function(attrs) {\n  return this.create('label', attrs);\n};\n\n/**\n * Create a shape.\n *\n * @param {Partial<Shape>} [attrs]\n *\n * @return {W} The created shape.\n */\nElementFactory.prototype.createShape = function(attrs) {\n  return this.create('shape', attrs);\n};\n\n/**\n * Create a connection.\n *\n * @param {Partial<Connection>} [attrs]\n *\n * @return {T} The created connection.\n */\nElementFactory.prototype.createConnection = function(attrs) {\n  return this.create('connection', attrs);\n};\n\n/**\n * Create a root element.\n *\n * @overlord\n * @param {'root'} type\n * @param {Partial<Root>} [attrs]\n * @return {V}\n */\n/**\n * Create a shape.\n *\n * @overlord\n * @param {'shape'} type\n * @param {Partial<Shape>} [attrs]\n * @return {W}\n */\n/**\n * Create a connection.\n *\n * @overlord\n * @param {'connection'} type\n * @param {Partial<Connection>} [attrs]\n * @return {T}\n */\n/**\n * Create a label.\n *\n * @param {'label'} type\n * @param {Partial<Label>} [attrs]\n * @return {U}\n */\nElementFactory.prototype.create = function(type, attrs) {\n\n  attrs = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, attrs || {});\n\n  if (!attrs.id) {\n    attrs.id = type + '_' + (this._uid++);\n  }\n\n  return (0,_model__WEBPACK_IMPORTED_MODULE_1__.create)(type, attrs);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvRWxlbWVudEZhY3RvcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRWtCOztBQUVnQjs7QUFFbEM7QUFDQSxhQUFhLGtDQUFrQztBQUMvQyxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLGdDQUFnQztBQUM3QyxhQUFhLCtCQUErQjtBQUM1QyxhQUFhLGdDQUFnQztBQUM3Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFlBQVk7QUFDMUIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsTUFBTTtBQUNwQixjQUFjLE9BQU87QUFDckI7QUFDZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCO0FBQ0EsWUFBWSxHQUFHO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxZQUFZLEdBQUc7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFlBQVksR0FBRztBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscUJBQXFCO0FBQ2hDO0FBQ0EsWUFBWSxHQUFHO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxlQUFlO0FBQzFCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsZ0JBQWdCO0FBQzNCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcscUJBQXFCO0FBQ2hDLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLGdCQUFnQjtBQUMzQixZQUFZO0FBQ1o7QUFDQTs7QUFFQSxVQUFVLGdEQUFNLEdBQUcsYUFBYTs7QUFFaEM7QUFDQTtBQUNBOztBQUVBLFNBQVMsOENBQU07QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb3JlL0VsZW1lbnRGYWN0b3J5LmpzPzg5YjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3JlYXRlXG59IGZyb20gJy4uL21vZGVsJztcblxuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWwvVHlwZXMnKS5Db25uZWN0aW9ufSBDb25uZWN0aW9uXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLkxhYmVsfSBMYWJlbFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWwvVHlwZXMnKS5Sb290fSBSb290XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLlNoYXBlfSBTaGFwZVxuICovXG5cbi8qKlxuICogQSBmYWN0b3J5IGZvciBtb2RlbCBlbGVtZW50cy5cbiAqXG4gKiBAdGVtcGxhdGUge0Nvbm5lY3Rpb259IFtUPUNvbm5lY3Rpb25dXG4gKiBAdGVtcGxhdGUge0xhYmVsfSBbVT1MYWJlbF1cbiAqIEB0ZW1wbGF0ZSB7Um9vdH0gW1Y9Um9vdF1cbiAqIEB0ZW1wbGF0ZSB7U2hhcGV9IFtXPVNoYXBlXVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFbGVtZW50RmFjdG9yeSgpIHtcbiAgdGhpcy5fdWlkID0gMTI7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgcm9vdCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7UGFydGlhbDxSb290Pn0gW2F0dHJzXVxuICpcbiAqIEByZXR1cm4ge1Z9IFRoZSBjcmVhdGVkIHJvb3QgZWxlbWVudC5cbiAqL1xuRWxlbWVudEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZVJvb3QgPSBmdW5jdGlvbihhdHRycykge1xuICByZXR1cm4gdGhpcy5jcmVhdGUoJ3Jvb3QnLCBhdHRycyk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIGxhYmVsLlxuICpcbiAqIEBwYXJhbSB7UGFydGlhbDxMYWJlbD59IFthdHRyc11cbiAqXG4gKiBAcmV0dXJuIHtVfSBUaGUgY3JlYXRlZCBsYWJlbC5cbiAqL1xuRWxlbWVudEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZUxhYmVsID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgcmV0dXJuIHRoaXMuY3JlYXRlKCdsYWJlbCcsIGF0dHJzKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgc2hhcGUuXG4gKlxuICogQHBhcmFtIHtQYXJ0aWFsPFNoYXBlPn0gW2F0dHJzXVxuICpcbiAqIEByZXR1cm4ge1d9IFRoZSBjcmVhdGVkIHNoYXBlLlxuICovXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlU2hhcGUgPSBmdW5jdGlvbihhdHRycykge1xuICByZXR1cm4gdGhpcy5jcmVhdGUoJ3NoYXBlJywgYXR0cnMpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UGFydGlhbDxDb25uZWN0aW9uPn0gW2F0dHJzXVxuICpcbiAqIEByZXR1cm4ge1R9IFRoZSBjcmVhdGVkIGNvbm5lY3Rpb24uXG4gKi9cbkVsZW1lbnRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVDb25uZWN0aW9uID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgcmV0dXJuIHRoaXMuY3JlYXRlKCdjb25uZWN0aW9uJywgYXR0cnMpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSByb290IGVsZW1lbnQuXG4gKlxuICogQG92ZXJsb3JkXG4gKiBAcGFyYW0geydyb290J30gdHlwZVxuICogQHBhcmFtIHtQYXJ0aWFsPFJvb3Q+fSBbYXR0cnNdXG4gKiBAcmV0dXJuIHtWfVxuICovXG4vKipcbiAqIENyZWF0ZSBhIHNoYXBlLlxuICpcbiAqIEBvdmVybG9yZFxuICogQHBhcmFtIHsnc2hhcGUnfSB0eXBlXG4gKiBAcGFyYW0ge1BhcnRpYWw8U2hhcGU+fSBbYXR0cnNdXG4gKiBAcmV0dXJuIHtXfVxuICovXG4vKipcbiAqIENyZWF0ZSBhIGNvbm5lY3Rpb24uXG4gKlxuICogQG92ZXJsb3JkXG4gKiBAcGFyYW0geydjb25uZWN0aW9uJ30gdHlwZVxuICogQHBhcmFtIHtQYXJ0aWFsPENvbm5lY3Rpb24+fSBbYXR0cnNdXG4gKiBAcmV0dXJuIHtUfVxuICovXG4vKipcbiAqIENyZWF0ZSBhIGxhYmVsLlxuICpcbiAqIEBwYXJhbSB7J2xhYmVsJ30gdHlwZVxuICogQHBhcmFtIHtQYXJ0aWFsPExhYmVsPn0gW2F0dHJzXVxuICogQHJldHVybiB7VX1cbiAqL1xuRWxlbWVudEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHR5cGUsIGF0dHJzKSB7XG5cbiAgYXR0cnMgPSBhc3NpZ24oe30sIGF0dHJzIHx8IHt9KTtcblxuICBpZiAoIWF0dHJzLmlkKSB7XG4gICAgYXR0cnMuaWQgPSB0eXBlICsgJ18nICsgKHRoaXMuX3VpZCsrKTtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGUodHlwZSwgYXR0cnMpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/core/ElementFactory.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/core/ElementRegistry.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/core/ElementRegistry.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ElementRegistry)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/../../node_modules/tiny-svg/dist/index.esm.js\");\nvar ELEMENT_ID = 'data-element-id';\n\n\n\n/**\n * @typedef {import('./Types').ElementLike} ElementLike\n *\n * @typedef {import('./EventBus').default} EventBus\n *\n * @typedef { (element: ElementLike, gfx: SVGElement) => boolean|any } ElementRegistryFilterCallback\n * @typedef { (element: ElementLike, gfx: SVGElement) => any } ElementRegistryForEachCallback\n */\n\n/**\n * A registry that keeps track of all shapes in the diagram.\n *\n * @class\n * @constructor\n *\n * @param {EventBus} eventBus\n */\nfunction ElementRegistry(eventBus) {\n\n  /**\n   * @type { {\n   *   [id: string]: {\n   *     element: ElementLike;\n   *     gfx?: SVGElement;\n   *     secondaryGfx?: SVGElement;\n   *   }\n   * } }\n   */\n  this._elements = {};\n\n  this._eventBus = eventBus;\n}\n\nElementRegistry.$inject = [ 'eventBus' ];\n\n/**\n * Add an element and its graphical representation(s) to the registry.\n *\n * @param {ElementLike} element The element to be added.\n * @param {SVGElement} gfx The primary graphical representation.\n * @param {SVGElement} [secondaryGfx] The secondary graphical representation.\n */\nElementRegistry.prototype.add = function(element, gfx, secondaryGfx) {\n\n  var id = element.id;\n\n  this._validateId(id);\n\n  // associate dom node with element\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(gfx, ELEMENT_ID, id);\n\n  if (secondaryGfx) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(secondaryGfx, ELEMENT_ID, id);\n  }\n\n  this._elements[id] = { element: element, gfx: gfx, secondaryGfx: secondaryGfx };\n};\n\n/**\n * Remove an element from the registry.\n *\n * @param {ElementLike|string} element\n */\nElementRegistry.prototype.remove = function(element) {\n  var elements = this._elements,\n      id = element.id || element,\n      container = id && elements[id];\n\n  if (container) {\n\n    // unset element id on gfx\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(container.gfx, ELEMENT_ID, '');\n\n    if (container.secondaryGfx) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(container.secondaryGfx, ELEMENT_ID, '');\n    }\n\n    delete elements[id];\n  }\n};\n\n/**\n * Update an elements ID.\n *\n * @param {ElementLike|string} element The element or its ID.\n * @param {string} newId The new ID.\n */\nElementRegistry.prototype.updateId = function(element, newId) {\n\n  this._validateId(newId);\n\n  if (typeof element === 'string') {\n    element = this.get(element);\n  }\n\n  this._eventBus.fire('element.updateId', {\n    element: element,\n    newId: newId\n  });\n\n  var gfx = this.getGraphics(element),\n      secondaryGfx = this.getGraphics(element, true);\n\n  this.remove(element);\n\n  element.id = newId;\n\n  this.add(element, gfx, secondaryGfx);\n};\n\n/**\n * Update the graphical representation of an element.\n *\n * @param {ElementLike|string} filter The element or its ID.\n * @param {SVGElement} gfx The new graphical representation.\n * @param {boolean} [secondary=false] Whether to update the secondary graphical representation.\n */\nElementRegistry.prototype.updateGraphics = function(filter, gfx, secondary) {\n  var id = filter.id || filter;\n\n  var container = this._elements[id];\n\n  if (secondary) {\n    container.secondaryGfx = gfx;\n  } else {\n    container.gfx = gfx;\n  }\n\n  if (gfx) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(gfx, ELEMENT_ID, id);\n  }\n\n  return gfx;\n};\n\n/**\n * Get the element with the given ID or graphical representation.\n *\n * @example\n *\n * ```javascript\n * elementRegistry.get('SomeElementId_1');\n *\n * elementRegistry.get(gfx);\n * ```\n *\n * @param {string|SVGElement} filter The elements ID or graphical representation.\n *\n * @return {ElementLike|undefined} The element.\n */\nElementRegistry.prototype.get = function(filter) {\n  var id;\n\n  if (typeof filter === 'string') {\n    id = filter;\n  } else {\n    id = filter && (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(filter, ELEMENT_ID);\n  }\n\n  var container = this._elements[id];\n  return container && container.element;\n};\n\n/**\n * Return all elements that match a given filter function.\n *\n * @param {ElementRegistryFilterCallback} fn The filter function.\n *\n * @return {ElementLike[]} The matching elements.\n */\nElementRegistry.prototype.filter = function(fn) {\n\n  var filtered = [];\n\n  this.forEach(function(element, gfx) {\n    if (fn(element, gfx)) {\n      filtered.push(element);\n    }\n  });\n\n  return filtered;\n};\n\n/**\n * Return the first element that matches the given filter function.\n *\n * @param {ElementRegistryFilterCallback} fn The filter function.\n *\n * @return {ElementLike|undefined} The matching element.\n */\nElementRegistry.prototype.find = function(fn) {\n  var map = this._elements,\n      keys = Object.keys(map);\n\n  for (var i = 0; i < keys.length; i++) {\n    var id = keys[i],\n        container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    if (fn(element, gfx)) {\n      return element;\n    }\n  }\n};\n\n/**\n * Get all elements.\n *\n * @return {ElementLike[]} All elements.\n */\nElementRegistry.prototype.getAll = function() {\n  return this.filter(function(e) { return e; });\n};\n\n/**\n * Execute a given function for each element.\n *\n * @param {ElementRegistryForEachCallback} fn The function to execute.\n */\nElementRegistry.prototype.forEach = function(fn) {\n\n  var map = this._elements;\n\n  Object.keys(map).forEach(function(id) {\n    var container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    return fn(element, gfx);\n  });\n};\n\n/**\n * Return the graphical representation of an element.\n *\n * @example\n *\n * ```javascript\n * elementRegistry.getGraphics('SomeElementId_1');\n *\n * elementRegistry.getGraphics(rootElement); // <g ...>\n *\n * elementRegistry.getGraphics(rootElement, true); // <svg ...>\n * ```\n *\n * @param {ElementLike|string} filter The element or its ID.\n * @param {boolean} [secondary=false] Whether to return the secondary graphical representation.\n *\n * @return {SVGElement} The graphical representation.\n */\nElementRegistry.prototype.getGraphics = function(filter, secondary) {\n  var id = filter.id || filter;\n\n  var container = this._elements[id];\n  return container && (secondary ? container.secondaryGfx : container.gfx);\n};\n\n/**\n * Validate an ID and throw an error if invalid.\n *\n * @param {string} id\n *\n * @throws {Error} Error indicating that the ID is invalid or already assigned.\n */\nElementRegistry.prototype._validateId = function(id) {\n  if (!id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elements[id]) {\n    throw new Error('element with id ' + id + ' already added');\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvRWxlbWVudFJlZ2lzdHJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7O0FBRTJDOztBQUUzQztBQUNBLGFBQWEsK0JBQStCO0FBQzVDO0FBQ0EsYUFBYSw4QkFBOEI7QUFDM0M7QUFDQSxjQUFjLHlEQUF5RDtBQUN2RSxjQUFjLGlEQUFpRDtBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDZTs7QUFFZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixXQUFXLFlBQVk7QUFDdkIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxFQUFFLDhDQUFPOztBQUVUO0FBQ0EsSUFBSSw4Q0FBTztBQUNYOztBQUVBLHlCQUF5QjtBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsSUFBSSw4Q0FBTzs7QUFFWDtBQUNBLE1BQU0sOENBQU87QUFDYjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsWUFBWTtBQUN2QixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBLElBQUksOENBQU87QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QjtBQUNBLFlBQVksdUJBQXVCO0FBQ25DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLG1CQUFtQiw4Q0FBTztBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVywrQkFBK0I7QUFDMUM7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLCtCQUErQjtBQUMxQztBQUNBLFlBQVksdUJBQXVCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBLG1DQUFtQyxXQUFXO0FBQzlDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0NBQWdDO0FBQzNDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWFkZHJhLXdlYi8uLi8uLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9FbGVtZW50UmVnaXN0cnkuanM/NzA5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRUxFTUVOVF9JRCA9ICdkYXRhLWVsZW1lbnQtaWQnO1xuXG5pbXBvcnQgeyBhdHRyIGFzIHN2Z0F0dHIgfSBmcm9tICd0aW55LXN2Zyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50TGlrZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICpcbiAqIEB0eXBlZGVmIHsgKGVsZW1lbnQ6IEVsZW1lbnRMaWtlLCBnZng6IFNWR0VsZW1lbnQpID0+IGJvb2xlYW58YW55IH0gRWxlbWVudFJlZ2lzdHJ5RmlsdGVyQ2FsbGJhY2tcbiAqIEB0eXBlZGVmIHsgKGVsZW1lbnQ6IEVsZW1lbnRMaWtlLCBnZng6IFNWR0VsZW1lbnQpID0+IGFueSB9IEVsZW1lbnRSZWdpc3RyeUZvckVhY2hDYWxsYmFja1xuICovXG5cbi8qKlxuICogQSByZWdpc3RyeSB0aGF0IGtlZXBzIHRyYWNrIG9mIGFsbCBzaGFwZXMgaW4gdGhlIGRpYWdyYW0uXG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFbGVtZW50UmVnaXN0cnkoZXZlbnRCdXMpIHtcblxuICAvKipcbiAgICogQHR5cGUgeyB7XG4gICAqICAgW2lkOiBzdHJpbmddOiB7XG4gICAqICAgICBlbGVtZW50OiBFbGVtZW50TGlrZTtcbiAgICogICAgIGdmeD86IFNWR0VsZW1lbnQ7XG4gICAqICAgICBzZWNvbmRhcnlHZng/OiBTVkdFbGVtZW50O1xuICAgKiAgIH1cbiAgICogfSB9XG4gICAqL1xuICB0aGlzLl9lbGVtZW50cyA9IHt9O1xuXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG59XG5cbkVsZW1lbnRSZWdpc3RyeS4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnIF07XG5cbi8qKlxuICogQWRkIGFuIGVsZW1lbnQgYW5kIGl0cyBncmFwaGljYWwgcmVwcmVzZW50YXRpb24ocykgdG8gdGhlIHJlZ2lzdHJ5LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudExpa2V9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gYmUgYWRkZWQuXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeCBUaGUgcHJpbWFyeSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24uXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IFtzZWNvbmRhcnlHZnhdIFRoZSBzZWNvbmRhcnkgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uLlxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGdmeCwgc2Vjb25kYXJ5R2Z4KSB7XG5cbiAgdmFyIGlkID0gZWxlbWVudC5pZDtcblxuICB0aGlzLl92YWxpZGF0ZUlkKGlkKTtcblxuICAvLyBhc3NvY2lhdGUgZG9tIG5vZGUgd2l0aCBlbGVtZW50XG4gIHN2Z0F0dHIoZ2Z4LCBFTEVNRU5UX0lELCBpZCk7XG5cbiAgaWYgKHNlY29uZGFyeUdmeCkge1xuICAgIHN2Z0F0dHIoc2Vjb25kYXJ5R2Z4LCBFTEVNRU5UX0lELCBpZCk7XG4gIH1cblxuICB0aGlzLl9lbGVtZW50c1tpZF0gPSB7IGVsZW1lbnQ6IGVsZW1lbnQsIGdmeDogZ2Z4LCBzZWNvbmRhcnlHZng6IHNlY29uZGFyeUdmeCB9O1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gZWxlbWVudCBmcm9tIHRoZSByZWdpc3RyeS5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRMaWtlfHN0cmluZ30gZWxlbWVudFxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGVsZW1lbnRzID0gdGhpcy5fZWxlbWVudHMsXG4gICAgICBpZCA9IGVsZW1lbnQuaWQgfHwgZWxlbWVudCxcbiAgICAgIGNvbnRhaW5lciA9IGlkICYmIGVsZW1lbnRzW2lkXTtcblxuICBpZiAoY29udGFpbmVyKSB7XG5cbiAgICAvLyB1bnNldCBlbGVtZW50IGlkIG9uIGdmeFxuICAgIHN2Z0F0dHIoY29udGFpbmVyLmdmeCwgRUxFTUVOVF9JRCwgJycpO1xuXG4gICAgaWYgKGNvbnRhaW5lci5zZWNvbmRhcnlHZngpIHtcbiAgICAgIHN2Z0F0dHIoY29udGFpbmVyLnNlY29uZGFyeUdmeCwgRUxFTUVOVF9JRCwgJycpO1xuICAgIH1cblxuICAgIGRlbGV0ZSBlbGVtZW50c1tpZF07XG4gIH1cbn07XG5cbi8qKlxuICogVXBkYXRlIGFuIGVsZW1lbnRzIElELlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudExpa2V8c3RyaW5nfSBlbGVtZW50IFRoZSBlbGVtZW50IG9yIGl0cyBJRC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuZXdJZCBUaGUgbmV3IElELlxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLnVwZGF0ZUlkID0gZnVuY3Rpb24oZWxlbWVudCwgbmV3SWQpIHtcblxuICB0aGlzLl92YWxpZGF0ZUlkKG5ld0lkKTtcblxuICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgZWxlbWVudCA9IHRoaXMuZ2V0KGVsZW1lbnQpO1xuICB9XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnZWxlbWVudC51cGRhdGVJZCcsIHtcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIG5ld0lkOiBuZXdJZFxuICB9KTtcblxuICB2YXIgZ2Z4ID0gdGhpcy5nZXRHcmFwaGljcyhlbGVtZW50KSxcbiAgICAgIHNlY29uZGFyeUdmeCA9IHRoaXMuZ2V0R3JhcGhpY3MoZWxlbWVudCwgdHJ1ZSk7XG5cbiAgdGhpcy5yZW1vdmUoZWxlbWVudCk7XG5cbiAgZWxlbWVudC5pZCA9IG5ld0lkO1xuXG4gIHRoaXMuYWRkKGVsZW1lbnQsIGdmeCwgc2Vjb25kYXJ5R2Z4KTtcbn07XG5cbi8qKlxuICogVXBkYXRlIHRoZSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgYW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRMaWtlfHN0cmluZ30gZmlsdGVyIFRoZSBlbGVtZW50IG9yIGl0cyBJRC5cbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4IFRoZSBuZXcgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uLlxuICogQHBhcmFtIHtib29sZWFufSBbc2Vjb25kYXJ5PWZhbHNlXSBXaGV0aGVyIHRvIHVwZGF0ZSB0aGUgc2Vjb25kYXJ5IGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbi5cbiAqL1xuRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS51cGRhdGVHcmFwaGljcyA9IGZ1bmN0aW9uKGZpbHRlciwgZ2Z4LCBzZWNvbmRhcnkpIHtcbiAgdmFyIGlkID0gZmlsdGVyLmlkIHx8IGZpbHRlcjtcblxuICB2YXIgY29udGFpbmVyID0gdGhpcy5fZWxlbWVudHNbaWRdO1xuXG4gIGlmIChzZWNvbmRhcnkpIHtcbiAgICBjb250YWluZXIuc2Vjb25kYXJ5R2Z4ID0gZ2Z4O1xuICB9IGVsc2Uge1xuICAgIGNvbnRhaW5lci5nZnggPSBnZng7XG4gIH1cblxuICBpZiAoZ2Z4KSB7XG4gICAgc3ZnQXR0cihnZngsIEVMRU1FTlRfSUQsIGlkKTtcbiAgfVxuXG4gIHJldHVybiBnZng7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgZWxlbWVudCB3aXRoIHRoZSBnaXZlbiBJRCBvciBncmFwaGljYWwgcmVwcmVzZW50YXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBlbGVtZW50UmVnaXN0cnkuZ2V0KCdTb21lRWxlbWVudElkXzEnKTtcbiAqXG4gKiBlbGVtZW50UmVnaXN0cnkuZ2V0KGdmeCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xTVkdFbGVtZW50fSBmaWx0ZXIgVGhlIGVsZW1lbnRzIElEIG9yIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50TGlrZXx1bmRlZmluZWR9IFRoZSBlbGVtZW50LlxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGZpbHRlcikge1xuICB2YXIgaWQ7XG5cbiAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgaWQgPSBmaWx0ZXI7XG4gIH0gZWxzZSB7XG4gICAgaWQgPSBmaWx0ZXIgJiYgc3ZnQXR0cihmaWx0ZXIsIEVMRU1FTlRfSUQpO1xuICB9XG5cbiAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2VsZW1lbnRzW2lkXTtcbiAgcmV0dXJuIGNvbnRhaW5lciAmJiBjb250YWluZXIuZWxlbWVudDtcbn07XG5cbi8qKlxuICogUmV0dXJuIGFsbCBlbGVtZW50cyB0aGF0IG1hdGNoIGEgZ2l2ZW4gZmlsdGVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5RmlsdGVyQ2FsbGJhY2t9IGZuIFRoZSBmaWx0ZXIgZnVuY3Rpb24uXG4gKlxuICogQHJldHVybiB7RWxlbWVudExpa2VbXX0gVGhlIG1hdGNoaW5nIGVsZW1lbnRzLlxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uKGZuKSB7XG5cbiAgdmFyIGZpbHRlcmVkID0gW107XG5cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQsIGdmeCkge1xuICAgIGlmIChmbihlbGVtZW50LCBnZngpKSB7XG4gICAgICBmaWx0ZXJlZC5wdXNoKGVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGZpbHRlcmVkO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBmaWx0ZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnlGaWx0ZXJDYWxsYmFja30gZm4gVGhlIGZpbHRlciBmdW5jdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50TGlrZXx1bmRlZmluZWR9IFRoZSBtYXRjaGluZyBlbGVtZW50LlxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihmbikge1xuICB2YXIgbWFwID0gdGhpcy5fZWxlbWVudHMsXG4gICAgICBrZXlzID0gT2JqZWN0LmtleXMobWFwKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaWQgPSBrZXlzW2ldLFxuICAgICAgICBjb250YWluZXIgPSBtYXBbaWRdLFxuICAgICAgICBlbGVtZW50ID0gY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGNvbnRhaW5lci5nZng7XG5cbiAgICBpZiAoZm4oZWxlbWVudCwgZ2Z4KSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEdldCBhbGwgZWxlbWVudHMuXG4gKlxuICogQHJldHVybiB7RWxlbWVudExpa2VbXX0gQWxsIGVsZW1lbnRzLlxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oZSkgeyByZXR1cm4gZTsgfSk7XG59O1xuXG4vKipcbiAqIEV4ZWN1dGUgYSBnaXZlbiBmdW5jdGlvbiBmb3IgZWFjaCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5Rm9yRWFjaENhbGxiYWNrfSBmbiBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAqL1xuRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZm4pIHtcblxuICB2YXIgbWFwID0gdGhpcy5fZWxlbWVudHM7XG5cbiAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IG1hcFtpZF0sXG4gICAgICAgIGVsZW1lbnQgPSBjb250YWluZXIuZWxlbWVudCxcbiAgICAgICAgZ2Z4ID0gY29udGFpbmVyLmdmeDtcblxuICAgIHJldHVybiBmbihlbGVtZW50LCBnZngpO1xuICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgYW4gZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGVsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcygnU29tZUVsZW1lbnRJZF8xJyk7XG4gKlxuICogZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKHJvb3RFbGVtZW50KTsgLy8gPGcgLi4uPlxuICpcbiAqIGVsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhyb290RWxlbWVudCwgdHJ1ZSk7IC8vIDxzdmcgLi4uPlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtFbGVtZW50TGlrZXxzdHJpbmd9IGZpbHRlciBUaGUgZWxlbWVudCBvciBpdHMgSUQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzZWNvbmRhcnk9ZmFsc2VdIFdoZXRoZXIgdG8gcmV0dXJuIHRoZSBzZWNvbmRhcnkgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IFRoZSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24uXG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuZ2V0R3JhcGhpY3MgPSBmdW5jdGlvbihmaWx0ZXIsIHNlY29uZGFyeSkge1xuICB2YXIgaWQgPSBmaWx0ZXIuaWQgfHwgZmlsdGVyO1xuXG4gIHZhciBjb250YWluZXIgPSB0aGlzLl9lbGVtZW50c1tpZF07XG4gIHJldHVybiBjb250YWluZXIgJiYgKHNlY29uZGFyeSA/IGNvbnRhaW5lci5zZWNvbmRhcnlHZnggOiBjb250YWluZXIuZ2Z4KTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGUgYW4gSUQgYW5kIHRocm93IGFuIGVycm9yIGlmIGludmFsaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKlxuICogQHRocm93cyB7RXJyb3J9IEVycm9yIGluZGljYXRpbmcgdGhhdCB0aGUgSUQgaXMgaW52YWxpZCBvciBhbHJlYWR5IGFzc2lnbmVkLlxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLl92YWxpZGF0ZUlkID0gZnVuY3Rpb24oaWQpIHtcbiAgaWYgKCFpZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZWxlbWVudCBtdXN0IGhhdmUgYW4gaWQnKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9lbGVtZW50c1tpZF0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VsZW1lbnQgd2l0aCBpZCAnICsgaWQgKyAnIGFscmVhZHkgYWRkZWQnKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/core/ElementRegistry.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/core/EventBus.js":
/*!**********************************************************!*\
  !*** ../../node_modules/diagram-js/lib/core/EventBus.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EventBus)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * @typedef { {\n *   stopPropagation(): void;\n *   preventDefault(): void;\n *   cancelBubble: boolean;\n *   defaultPrevented: boolean;\n *   returnValue: any;\n * } } Event\n */\n\n/**\n * @template E\n *\n * @typedef { (event: E & Event, ...any) => any } EventBusEventCallback\n */\n\n/**\n * @typedef { {\n *  priority: number;\n *  next: EventBusListener | null;\n *  callback: EventBusEventCallback<any>;\n * } } EventBusListener\n */\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n *\n * @template [EventMap=null]\n */\nfunction EventBus() {\n\n  /**\n   * @type { Record<string, EventBusListener> }\n   */\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n/**\n * @overlord\n *\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(events) ? events : [ events ];\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.bind)(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n/**\n * @overlord\n *\n * Register an event listener that is called only once.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] the listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener that is called only once.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.once = function(events, priority, callback, that) {\n  var self = this;\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n\n    var result = callback.apply(that, arguments);\n\n    self.off(events, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(events, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|string[]} events\n * @param {EventBusEventCallback<unknown>} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an event recognized be the event bus.\n *\n * @param {Object} data Event data.\n *\n * @return {Event} An event that will be recognized by the event bus.\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires an event.\n *\n * @example\n *\n * ```javascript\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n * ```\n *\n * @param {string} [type] event type\n * @param {Object} [data] event or event data\n * @param {...any} [args] additional arguments the callback will be called with.\n *\n * @return {any} The return value. Will be set to `false` if the default was prevented.\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n/**\n * Handle an error by firing an event.\n *\n * @param {Error} error The error to be handled.\n *\n * @return {boolean} Whether the error was handled.\n */\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n\n/**\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {EventBusListener} newListener\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\n/**\n * @param {string} name\n *\n * @return {EventBusListener}\n */\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\n/**\n * @param {string} name\n * @param {EventBusListener} listener\n */\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {any[]} args\n *\n * @return {any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvRXZlbnRCdXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFNa0I7O0FBRWxCOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsb0NBQW9DO0FBQ2xEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1CQUFtQixLQUFLO0FBQ3ZELG9DQUFvQyxvQkFBb0I7QUFDeEQsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0JBQW9CO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNlOztBQUVmO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9CQUFvQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNEJBQTRCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFFBQVE7QUFDbkIsV0FBVywwQkFBMEI7QUFDckMsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0JBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUI7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsNENBQTRDO0FBQ3ZELFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBLFdBQVcsaURBQU87O0FBRWxCLE1BQU0sb0RBQVU7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTyxrREFBUTtBQUNmO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxxQkFBcUIsOENBQUk7O0FBRXpCO0FBQ0EsNEJBQTRCLFlBQVk7QUFDeEM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsMEJBQTBCO0FBQ3JDLFdBQVcsS0FBSztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCO0FBQzlCO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsUUFBUTtBQUNuQixXQUFXLDRDQUE0QztBQUN2RCxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBOztBQUVBLE1BQU0sb0RBQVU7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTyxrREFBUTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCLFlBQVk7QUFDdEM7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxnQ0FBZ0M7QUFDM0M7QUFDQTs7QUFFQSxXQUFXLGlEQUFPOztBQUVsQjs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksS0FBSztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBLDhCQUE4QixjQUFjO0FBQzVDOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLGtCQUFrQjtBQUM3QjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGtCQUFrQjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLGdEQUFNLGlCQUFpQjtBQUN6Qjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb3JlL0V2ZW50QnVzLmpzPzMzYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNGdW5jdGlvbixcbiAgaXNBcnJheSxcbiAgaXNOdW1iZXIsXG4gIGJpbmQsXG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbnZhciBGTl9SRUYgPSAnX19mbic7XG5cbnZhciBERUZBVUxUX1BSSU9SSVRZID0gMTAwMDtcblxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4vKipcbiAqIEB0eXBlZGVmIHsge1xuICogICBzdG9wUHJvcGFnYXRpb24oKTogdm9pZDtcbiAqICAgcHJldmVudERlZmF1bHQoKTogdm9pZDtcbiAqICAgY2FuY2VsQnViYmxlOiBib29sZWFuO1xuICogICBkZWZhdWx0UHJldmVudGVkOiBib29sZWFuO1xuICogICByZXR1cm5WYWx1ZTogYW55O1xuICogfSB9IEV2ZW50XG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgRVxuICpcbiAqIEB0eXBlZGVmIHsgKGV2ZW50OiBFICYgRXZlbnQsIC4uLmFueSkgPT4gYW55IH0gRXZlbnRCdXNFdmVudENhbGxiYWNrXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICBwcmlvcml0eTogbnVtYmVyO1xuICogIG5leHQ6IEV2ZW50QnVzTGlzdGVuZXIgfCBudWxsO1xuICogIGNhbGxiYWNrOiBFdmVudEJ1c0V2ZW50Q2FsbGJhY2s8YW55PjtcbiAqIH0gfSBFdmVudEJ1c0xpc3RlbmVyXG4gKi9cblxuLyoqXG4gKiBBIGdlbmVyYWwgcHVycG9zZSBldmVudCBidXMuXG4gKlxuICogVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byBjb21tdW5pY2F0ZSBhY3Jvc3MgYSBkaWFncmFtIGluc3RhbmNlLlxuICogT3RoZXIgcGFydHMgb2YgYSBkaWFncmFtIGNhbiB1c2UgaXQgdG8gbGlzdGVuIHRvIGFuZCBicm9hZGNhc3QgZXZlbnRzLlxuICpcbiAqXG4gKiAjIyBSZWdpc3RlcmluZyBmb3IgRXZlbnRzXG4gKlxuICogVGhlIGV2ZW50IGJ1cyBwcm92aWRlcyB0aGUge0BsaW5rIEV2ZW50QnVzI29ufSBhbmQge0BsaW5rIEV2ZW50QnVzI29uY2V9XG4gKiBtZXRob2RzIHRvIHJlZ2lzdGVyIGZvciBldmVudHMuIHtAbGluayBFdmVudEJ1cyNvZmZ9IGNhbiBiZSB1c2VkIHRvXG4gKiByZW1vdmUgZXZlbnQgcmVnaXN0cmF0aW9ucy4gTGlzdGVuZXJzIHJlY2VpdmUgYW4gaW5zdGFuY2Ugb2Yge0BsaW5rIEV2ZW50fVxuICogYXMgdGhlIGZpcnN0IGFyZ3VtZW50LiBJdCBhbGxvd3MgdGhlbSB0byBob29rIGludG8gdGhlIGV2ZW50IGV4ZWN1dGlvbi5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogLy8gbGlzdGVuIGZvciBldmVudFxuICogZXZlbnRCdXMub24oJ2ZvbycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKlxuICogICAvLyBhY2Nlc3MgZXZlbnQgdHlwZVxuICogICBldmVudC50eXBlOyAvLyAnZm9vJ1xuICpcbiAqICAgLy8gc3RvcCBwcm9wYWdhdGlvbiB0byBvdGhlciBsaXN0ZW5lcnNcbiAqICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gKlxuICogICAvLyBwcmV2ZW50IGV2ZW50IGRlZmF1bHRcbiAqICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAqIH0pO1xuICpcbiAqIC8vIGxpc3RlbiBmb3IgZXZlbnQgd2l0aCBjdXN0b20gcGF5bG9hZFxuICogZXZlbnRCdXMub24oJ2JhcicsIGZ1bmN0aW9uKGV2ZW50LCBwYXlsb2FkKSB7XG4gKiAgIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICogfSk7XG4gKlxuICogLy8gbGlzdGVuIGZvciBldmVudCByZXR1cm5pbmcgdmFsdWVcbiAqIGV2ZW50QnVzLm9uKCdmb29iYXInLCBmdW5jdGlvbihldmVudCkge1xuICpcbiAqICAgLy8gc3RvcCBldmVudCBwcm9wYWdhdGlvbiArIHByZXZlbnQgZGVmYXVsdFxuICogICByZXR1cm4gZmFsc2U7XG4gKlxuICogICAvLyBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uICsgcmV0dXJuIGN1c3RvbSByZXN1bHRcbiAqICAgcmV0dXJuIHtcbiAqICAgICBjb21wbGV4OiAnbGlzdGVuaW5nIHJlc3VsdCdcbiAqICAgfTtcbiAqIH0pO1xuICpcbiAqXG4gKiAvLyBsaXN0ZW4gd2l0aCBjdXN0b20gcHJpb3JpdHkgKGRlZmF1bHQ9MTAwMCwgaGlnaGVyIGlzIGJldHRlcilcbiAqIGV2ZW50QnVzLm9uKCdwcmlvcml0eWZvbycsIDE1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgIGNvbnNvbGUubG9nKCdpbnZva2VkIGZpcnN0IScpO1xuICogfSk7XG4gKlxuICpcbiAqIC8vIGxpc3RlbiBmb3IgZXZlbnQgYW5kIHBhc3MgdGhlIGNvbnRleHQgKGB0aGlzYClcbiAqIGV2ZW50QnVzLm9uKCdmb29iYXInLCBmdW5jdGlvbihldmVudCkge1xuICogICB0aGlzLmZvbygpO1xuICogfSwgdGhpcyk7XG4gKiBgYGBcbiAqXG4gKlxuICogIyMgRW1pdHRpbmcgRXZlbnRzXG4gKlxuICogRXZlbnRzIGNhbiBiZSBlbWl0dGVkIHZpYSB0aGUgZXZlbnQgYnVzIHVzaW5nIHtAbGluayBFdmVudEJ1cyNmaXJlfS5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogLy8gZmFsc2UgaW5kaWNhdGVzIHRoYXQgdGhlIGRlZmF1bHQgYWN0aW9uXG4gKiAvLyB3YXMgcHJldmVudGVkIGJ5IGxpc3RlbmVyc1xuICogaWYgKGV2ZW50QnVzLmZpcmUoJ2ZvbycpID09PSBmYWxzZSkge1xuICogICBjb25zb2xlLmxvZygnZGVmYXVsdCBoYXMgYmVlbiBwcmV2ZW50ZWQhJyk7XG4gKiB9O1xuICpcbiAqXG4gKiAvLyBjdXN0b20gYXJncyArIHJldHVybiB2YWx1ZSBsaXN0ZW5lclxuICogZXZlbnRCdXMub24oJ3N1bScsIGZ1bmN0aW9uKGV2ZW50LCBhLCBiKSB7XG4gKiAgIHJldHVybiBhICsgYjtcbiAqIH0pO1xuICpcbiAqIC8vIHlvdSBjYW4gcGFzcyBjdXN0b20gYXJndW1lbnRzICsgcmV0cmlldmUgcmVzdWx0IHZhbHVlcy5cbiAqIHZhciBzdW0gPSBldmVudEJ1cy5maXJlKCdzdW0nLCAxLCAyKTtcbiAqIGNvbnNvbGUubG9nKHN1bSk7IC8vIDNcbiAqIGBgYFxuICpcbiAqIEB0ZW1wbGF0ZSBbRXZlbnRNYXA9bnVsbF1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRXZlbnRCdXMoKSB7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHsgUmVjb3JkPHN0cmluZywgRXZlbnRCdXNMaXN0ZW5lcj4gfVxuICAgKi9cbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG5cbiAgLy8gY2xlYW51cCBvbiBkZXN0cm95IG9uIGxvd2VzdCBwcmlvcml0eSB0byBhbGxvd1xuICAvLyBtZXNzYWdlIHBhc3NpbmcgdW50aWwgdGhlIGJpdHRlciBlbmRcbiAgdGhpcy5vbignZGlhZ3JhbS5kZXN0cm95JywgMSwgdGhpcy5fZGVzdHJveSwgdGhpcyk7XG59XG5cbi8qKlxuICogQG92ZXJsb3JkXG4gKlxuICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGV2ZW50cyB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICpcbiAqIFRoZSBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgd2l0aCBgZXZlbnQsIC4uLmFkZGl0aW9uYWxBcmd1bWVudHNgXG4gKiB0aGF0IGhhdmUgYmVlbiBwYXNzZWQgdG8ge0BsaW5rIEV2ZW50QnVzI2ZpcmV9LlxuICpcbiAqIFJldHVybmluZyBmYWxzZSBmcm9tIGEgbGlzdGVuZXIgd2lsbCBwcmV2ZW50IHRoZSBldmVudHMgZGVmYXVsdCBhY3Rpb25cbiAqIChpZiBhbnkgaXMgc3BlY2lmaWVkKS4gVG8gc3RvcCBhbiBldmVudCBmcm9tIGJlaW5nIHByb2Nlc3NlZCBmdXJ0aGVyIGluXG4gKiBvdGhlciBsaXN0ZW5lcnMgZXhlY3V0ZSB7QGxpbmsgRXZlbnQjc3RvcFByb3BhZ2F0aW9ufS5cbiAqXG4gKiBSZXR1cm5pbmcgYW55dGhpbmcgYnV0IGB1bmRlZmluZWRgIGZyb20gYSBsaXN0ZW5lciB3aWxsIHN0b3AgdGhlIGxpc3RlbmVyIHByb3BhZ2F0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGV2ZW50cyB0byBzdWJzY3JpYmUgdG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MTAwMF0gbGlzdGVuIHByaW9yaXR5XG4gKiBAcGFyYW0ge0V2ZW50QnVzRXZlbnRDYWxsYmFjazxUPn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF0gY2FsbGJhY2sgY29udGV4dFxuICovXG4vKipcbiAqIFJlZ2lzdGVyIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBldmVudHMgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAqXG4gKiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkIHdpdGggYGV2ZW50LCAuLi5hZGRpdGlvbmFsQXJndW1lbnRzYFxuICogdGhhdCBoYXZlIGJlZW4gcGFzc2VkIHRvIHtAbGluayBFdmVudEJ1cyNmaXJlfS5cbiAqXG4gKiBSZXR1cm5pbmcgZmFsc2UgZnJvbSBhIGxpc3RlbmVyIHdpbGwgcHJldmVudCB0aGUgZXZlbnRzIGRlZmF1bHQgYWN0aW9uXG4gKiAoaWYgYW55IGlzIHNwZWNpZmllZCkuIFRvIHN0b3AgYW4gZXZlbnQgZnJvbSBiZWluZyBwcm9jZXNzZWQgZnVydGhlciBpblxuICogb3RoZXIgbGlzdGVuZXJzIGV4ZWN1dGUge0BsaW5rIEV2ZW50I3N0b3BQcm9wYWdhdGlvbn0uXG4gKlxuICogUmV0dXJuaW5nIGFueXRoaW5nIGJ1dCBgdW5kZWZpbmVkYCBmcm9tIGEgbGlzdGVuZXIgd2lsbCBzdG9wIHRoZSBsaXN0ZW5lciBwcm9wYWdhdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUge2tleW9mIEV2ZW50TWFwfSBFdmVudE5hbWVcbiAqXG4gKiBAcGFyYW0ge0V2ZW50TmFtZX0gZXZlbnRzIHRvIHN1YnNjcmliZSB0b1xuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0xMDAwXSBsaXN0ZW4gcHJpb3JpdHlcbiAqIEBwYXJhbSB7RXZlbnRCdXNFdmVudENhbGxiYWNrPEV2ZW50TWFwW0V2ZW50TmFtZV0+fSBjYWxsYmFja1xuICogQHBhcmFtIHthbnl9IFt0aGF0XSBjYWxsYmFjayBjb250ZXh0XG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2ZW50cywgcHJpb3JpdHksIGNhbGxiYWNrLCB0aGF0KSB7XG5cbiAgZXZlbnRzID0gaXNBcnJheShldmVudHMpID8gZXZlbnRzIDogWyBldmVudHMgXTtcblxuICBpZiAoaXNGdW5jdGlvbihwcmlvcml0eSkpIHtcbiAgICB0aGF0ID0gY2FsbGJhY2s7XG4gICAgY2FsbGJhY2sgPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IERFRkFVTFRfUFJJT1JJVFk7XG4gIH1cblxuICBpZiAoIWlzTnVtYmVyKHByaW9yaXR5KSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJpb3JpdHkgbXVzdCBiZSBhIG51bWJlcicpO1xuICB9XG5cbiAgdmFyIGFjdHVhbENhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgaWYgKHRoYXQpIHtcbiAgICBhY3R1YWxDYWxsYmFjayA9IGJpbmQoY2FsbGJhY2ssIHRoYXQpO1xuXG4gICAgLy8gbWFrZSBzdXJlIHdlIHJlbWVtYmVyIGFuZCBhcmUgYWJsZSB0byByZW1vdmVcbiAgICAvLyBib3VuZCBjYWxsYmFja3MgdmlhIHtAbGluayAjb2ZmfSB1c2luZyB0aGUgb3JpZ2luYWxcbiAgICAvLyBjYWxsYmFja1xuICAgIGFjdHVhbENhbGxiYWNrW0ZOX1JFRl0gPSBjYWxsYmFja1tGTl9SRUZdIHx8IGNhbGxiYWNrO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICBzZWxmLl9hZGRMaXN0ZW5lcihlLCB7XG4gICAgICBwcmlvcml0eTogcHJpb3JpdHksXG4gICAgICBjYWxsYmFjazogYWN0dWFsQ2FsbGJhY2ssXG4gICAgICBuZXh0OiBudWxsXG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBAb3ZlcmxvcmRcbiAqXG4gKiBSZWdpc3RlciBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGlzIGNhbGxlZCBvbmx5IG9uY2UuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZXZlbnRzIHRvIHN1YnNjcmliZSB0b1xuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0xMDAwXSB0aGUgbGlzdGVuIHByaW9yaXR5XG4gKiBAcGFyYW0ge0V2ZW50QnVzRXZlbnRDYWxsYmFjazxUPn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF0gY2FsbGJhY2sgY29udGV4dFxuICovXG4vKipcbiAqIFJlZ2lzdGVyIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaXMgY2FsbGVkIG9ubHkgb25jZS5cbiAqXG4gKiBAdGVtcGxhdGUge2tleW9mIEV2ZW50TWFwfSBFdmVudE5hbWVcbiAqXG4gKiBAcGFyYW0ge0V2ZW50TmFtZX0gZXZlbnRzIHRvIHN1YnNjcmliZSB0b1xuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0xMDAwXSBsaXN0ZW4gcHJpb3JpdHlcbiAqIEBwYXJhbSB7RXZlbnRCdXNFdmVudENhbGxiYWNrPEV2ZW50TWFwW0V2ZW50TmFtZV0+fSBjYWxsYmFja1xuICogQHBhcmFtIHthbnl9IFt0aGF0XSBjYWxsYmFjayBjb250ZXh0XG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnRzLCBwcmlvcml0eSwgY2FsbGJhY2ssIHRoYXQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmIChpc0Z1bmN0aW9uKHByaW9yaXR5KSkge1xuICAgIHRoYXQgPSBjYWxsYmFjaztcbiAgICBjYWxsYmFjayA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIGlmICghaXNOdW1iZXIocHJpb3JpdHkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcmlvcml0eSBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwcGVkQ2FsbGJhY2soKSB7XG4gICAgd3JhcHBlZENhbGxiYWNrLl9faXNUb21iID0gdHJ1ZTtcblxuICAgIHZhciByZXN1bHQgPSBjYWxsYmFjay5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuXG4gICAgc2VsZi5vZmYoZXZlbnRzLCB3cmFwcGVkQ2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIG1ha2Ugc3VyZSB3ZSByZW1lbWJlciBhbmQgYXJlIGFibGUgdG8gcmVtb3ZlXG4gIC8vIGJvdW5kIGNhbGxiYWNrcyB2aWEge0BsaW5rICNvZmZ9IHVzaW5nIHRoZSBvcmlnaW5hbFxuICAvLyBjYWxsYmFja1xuICB3cmFwcGVkQ2FsbGJhY2tbRk5fUkVGXSA9IGNhbGxiYWNrO1xuXG4gIHRoaXMub24oZXZlbnRzLCBwcmlvcml0eSwgd3JhcHBlZENhbGxiYWNrKTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmVzIGV2ZW50IGxpc3RlbmVycyBieSBldmVudCBhbmQgY2FsbGJhY2suXG4gKlxuICogSWYgbm8gY2FsbGJhY2sgaXMgZ2l2ZW4sIGFsbCBsaXN0ZW5lcnMgZm9yIGEgZ2l2ZW4gZXZlbnQgbmFtZSBhcmUgYmVpbmcgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZXZlbnRzXG4gKiBAcGFyYW0ge0V2ZW50QnVzRXZlbnRDYWxsYmFjazx1bmtub3duPn0gW2NhbGxiYWNrXVxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24oZXZlbnRzLCBjYWxsYmFjaykge1xuXG4gIGV2ZW50cyA9IGlzQXJyYXkoZXZlbnRzKSA/IGV2ZW50cyA6IFsgZXZlbnRzIF07XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi5fcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfSk7XG5cbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgYW4gZXZlbnQgcmVjb2duaXplZCBiZSB0aGUgZXZlbnQgYnVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIEV2ZW50IGRhdGEuXG4gKlxuICogQHJldHVybiB7RXZlbnR9IEFuIGV2ZW50IHRoYXQgd2lsbCBiZSByZWNvZ25pemVkIGJ5IHRoZSBldmVudCBidXMuXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5jcmVhdGVFdmVudCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIGV2ZW50ID0gbmV3IEludGVybmFsRXZlbnQoKTtcblxuICBldmVudC5pbml0KGRhdGEpO1xuXG4gIHJldHVybiBldmVudDtcbn07XG5cblxuLyoqXG4gKiBGaXJlcyBhbiBldmVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIGZpcmUgZXZlbnQgYnkgbmFtZVxuICogZXZlbnRzLmZpcmUoJ2ZvbycpO1xuICpcbiAqIC8vIGZpcmUgZXZlbnQgb2JqZWN0IHdpdGggbmVzdGVkIHR5cGVcbiAqIHZhciBldmVudCA9IHsgdHlwZTogJ2ZvbycgfTtcbiAqIGV2ZW50cy5maXJlKGV2ZW50KTtcbiAqXG4gKiAvLyBmaXJlIGV2ZW50IHdpdGggZXhwbGljaXQgdHlwZVxuICogdmFyIGV2ZW50ID0geyB4OiAxMCwgeTogMjAgfTtcbiAqIGV2ZW50cy5maXJlKCdlbGVtZW50Lm1vdmVkJywgZXZlbnQpO1xuICpcbiAqIC8vIHBhc3MgYWRkaXRpb25hbCBhcmd1bWVudHMgdG8gdGhlIGV2ZW50XG4gKiBldmVudHMub24oJ2ZvbycsIGZ1bmN0aW9uKGV2ZW50LCBiYXIpIHtcbiAqICAgYWxlcnQoYmFyKTtcbiAqIH0pO1xuICpcbiAqIGV2ZW50cy5maXJlKHsgdHlwZTogJ2ZvbycgfSwgJ0kgYW0gYmFyIScpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlXSBldmVudCB0eXBlXG4gKiBAcGFyYW0ge09iamVjdH0gW2RhdGFdIGV2ZW50IG9yIGV2ZW50IGRhdGFcbiAqIEBwYXJhbSB7Li4uYW55fSBbYXJnc10gYWRkaXRpb25hbCBhcmd1bWVudHMgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGguXG4gKlxuICogQHJldHVybiB7YW55fSBUaGUgcmV0dXJuIHZhbHVlLiBXaWxsIGJlIHNldCB0byBgZmFsc2VgIGlmIHRoZSBkZWZhdWx0IHdhcyBwcmV2ZW50ZWQuXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24odHlwZSwgZGF0YSkge1xuICB2YXIgZXZlbnQsXG4gICAgICBmaXJzdExpc3RlbmVyLFxuICAgICAgcmV0dXJuVmFsdWUsXG4gICAgICBhcmdzO1xuXG4gIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIGRhdGEgPSB0eXBlO1xuICAgIHR5cGUgPSBkYXRhLnR5cGU7XG4gIH1cblxuICBpZiAoIXR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGV2ZW50IHR5cGUgc3BlY2lmaWVkJyk7XG4gIH1cblxuICBmaXJzdExpc3RlbmVyID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuXG4gIGlmICghZmlyc3RMaXN0ZW5lcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHdlIG1ha2Ugc3VyZSB3ZSBmaXJlIGluc3RhbmNlcyBvZiBvdXIgaG9tZSBtYWRlXG4gIC8vIGV2ZW50cyBoZXJlLiBXZSB3cmFwIHRoZW0gb25seSBvbmNlLCB0aG91Z2hcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBJbnRlcm5hbEV2ZW50KSB7XG5cbiAgICAvLyB3ZSBhcmUgZmluZSwgd2UgYWxyZWFkIGhhdmUgYW4gZXZlbnRcbiAgICBldmVudCA9IGRhdGE7XG4gIH0gZWxzZSB7XG4gICAgZXZlbnQgPSB0aGlzLmNyZWF0ZUV2ZW50KGRhdGEpO1xuICB9XG5cbiAgLy8gZW5zdXJlIHdlIHBhc3MgdGhlIGV2ZW50IGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXJcbiAgYXJnc1swXSA9IGV2ZW50O1xuXG4gIC8vIG9yaWdpbmFsIGV2ZW50IHR5cGUgKGluIGNhc2Ugd2UgZGVsZWdhdGUpXG4gIHZhciBvcmlnaW5hbFR5cGUgPSBldmVudC50eXBlO1xuXG4gIC8vIHVwZGF0ZSBldmVudCB0eXBlIGJlZm9yZSBkZWxlZ2F0aW9uXG4gIGlmICh0eXBlICE9PSBvcmlnaW5hbFR5cGUpIHtcbiAgICBldmVudC50eXBlID0gdHlwZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuVmFsdWUgPSB0aGlzLl9pbnZva2VMaXN0ZW5lcnMoZXZlbnQsIGFyZ3MsIGZpcnN0TGlzdGVuZXIpO1xuICB9IGZpbmFsbHkge1xuXG4gICAgLy8gcmVzZXQgZXZlbnQgdHlwZSBhZnRlciBkZWxlZ2F0aW9uXG4gICAgaWYgKHR5cGUgIT09IG9yaWdpbmFsVHlwZSkge1xuICAgICAgZXZlbnQudHlwZSA9IG9yaWdpbmFsVHlwZTtcbiAgICB9XG4gIH1cblxuICAvLyBzZXQgdGhlIHJldHVybiB2YWx1ZSB0byBmYWxzZSBpZiB0aGUgZXZlbnQgZGVmYXVsdFxuICAvLyBnb3QgcHJldmVudGVkIGFuZCBubyBvdGhlciByZXR1cm4gdmFsdWUgZXhpc3RzXG4gIGlmIChyZXR1cm5WYWx1ZSA9PT0gdW5kZWZpbmVkICYmIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuLyoqXG4gKiBIYW5kbGUgYW4gZXJyb3IgYnkgZmlyaW5nIGFuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byBiZSBoYW5kbGVkLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGVycm9yIHdhcyBoYW5kbGVkLlxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuaGFuZGxlRXJyb3IgPSBmdW5jdGlvbihlcnJvcikge1xuICByZXR1cm4gdGhpcy5maXJlKCdlcnJvcicsIHsgZXJyb3I6IGVycm9yIH0pID09PSBmYWxzZTtcbn07XG5cblxuRXZlbnRCdXMucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICogQHBhcmFtIHtFdmVudEJ1c0xpc3RlbmVyfSBsaXN0ZW5lclxuICpcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLl9pbnZva2VMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCwgYXJncywgbGlzdGVuZXIpIHtcblxuICB2YXIgcmV0dXJuVmFsdWU7XG5cbiAgd2hpbGUgKGxpc3RlbmVyKSB7XG5cbiAgICAvLyBoYW5kbGUgc3RvcHBlZCBwcm9wYWdhdGlvblxuICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVyblZhbHVlID0gdGhpcy5faW52b2tlTGlzdGVuZXIoZXZlbnQsIGFyZ3MsIGxpc3RlbmVyKTtcblxuICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAqIEBwYXJhbSB7RXZlbnRCdXNMaXN0ZW5lcn0gbGlzdGVuZXJcbiAqXG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5faW52b2tlTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgYXJncywgbGlzdGVuZXIpIHtcblxuICB2YXIgcmV0dXJuVmFsdWU7XG5cbiAgaWYgKGxpc3RlbmVyLmNhbGxiYWNrLl9faXNUb21iKSB7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG5cbiAgdHJ5IHtcblxuICAgIC8vIHJldHVybmluZyBmYWxzZSBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb25cbiAgICByZXR1cm5WYWx1ZSA9IGludm9rZUZ1bmN0aW9uKGxpc3RlbmVyLmNhbGxiYWNrLCBhcmdzKTtcblxuICAgIC8vIHN0b3AgcHJvcGFnYXRpb24gb24gcmV0dXJuIHZhbHVlXG4gICAgaWYgKHJldHVyblZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gcmV0dXJuVmFsdWU7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICAvLyBwcmV2ZW50IGRlZmF1bHQgb24gcmV0dXJuIGZhbHNlXG4gICAgaWYgKHJldHVyblZhbHVlID09PSBmYWxzZSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKCF0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuICAgICAgY29uc29sZS5lcnJvcigndW5oYW5kbGVkIGVycm9yIGluIGV2ZW50IGxpc3RlbmVyJywgZXJyb3IpO1xuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG4vKipcbiAqIEFkZCBuZXcgbGlzdGVuZXIgd2l0aCBhIGNlcnRhaW4gcHJpb3JpdHkgdG8gdGhlIGxpc3RcbiAqIG9mIGxpc3RlbmVycyAoZm9yIHRoZSBnaXZlbiBldmVudCkuXG4gKlxuICogVGhlIHNlbWFudGljcyBvZiBsaXN0ZW5lciByZWdpc3RyYXRpb24gLyBsaXN0ZW5lciBleGVjdXRpb24gYXJlXG4gKiBmaXJzdCByZWdpc3RlciwgZmlyc3Qgc2VydmU6IE5ldyBsaXN0ZW5lcnMgd2lsbCBhbHdheXMgYmUgaW5zZXJ0ZWRcbiAqIGFmdGVyIGV4aXN0aW5nIGxpc3RlbmVycyB3aXRoIHRoZSBzYW1lIHByaW9yaXR5LlxuICpcbiAqIEV4YW1wbGU6IEluc2VydGluZyB0d28gbGlzdGVuZXJzIHdpdGggcHJpb3JpdHkgMTAwMCBhbmQgMTMwMFxuICpcbiAqICAgICogYmVmb3JlOiBbIDE1MDAsIDE1MDAsIDEwMDAsIDEwMDAgXVxuICogICAgKiBhZnRlcjogWyAxNTAwLCAxNTAwLCAobmV3PTEzMDApLCAxMDAwLCAxMDAwLCAobmV3PTEwMDApIF1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnRCdXNMaXN0ZW5lcn0gbmV3TGlzdGVuZXJcbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLl9hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBuZXdMaXN0ZW5lcikge1xuXG4gIHZhciBsaXN0ZW5lciA9IHRoaXMuX2dldExpc3RlbmVycyhldmVudCksXG4gICAgICBwcmV2aW91c0xpc3RlbmVyO1xuXG4gIC8vIG5vIHByaW9yIGxpc3RlbmVyc1xuICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgdGhpcy5fc2V0TGlzdGVuZXJzKGV2ZW50LCBuZXdMaXN0ZW5lcik7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBlbnN1cmUgd2Ugb3JkZXIgbGlzdGVuZXJzIGJ5IHByaW9yaXR5IGZyb21cbiAgLy8gMCAoaGlnaCkgdG8gbiA+IDAgKGxvdylcbiAgd2hpbGUgKGxpc3RlbmVyKSB7XG5cbiAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPCBuZXdMaXN0ZW5lci5wcmlvcml0eSkge1xuXG4gICAgICBuZXdMaXN0ZW5lci5uZXh0ID0gbGlzdGVuZXI7XG5cbiAgICAgIGlmIChwcmV2aW91c0xpc3RlbmVyKSB7XG4gICAgICAgIHByZXZpb3VzTGlzdGVuZXIubmV4dCA9IG5ld0xpc3RlbmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2V0TGlzdGVuZXJzKGV2ZW50LCBuZXdMaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwcmV2aW91c0xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICB9XG5cbiAgLy8gYWRkIG5ldyBsaXN0ZW5lciB0byBiYWNrXG4gIHByZXZpb3VzTGlzdGVuZXIubmV4dCA9IG5ld0xpc3RlbmVyO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKlxuICogQHJldHVybiB7RXZlbnRCdXNMaXN0ZW5lcn1cbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLl9nZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLl9saXN0ZW5lcnNbbmFtZV07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge0V2ZW50QnVzTGlzdGVuZXJ9IGxpc3RlbmVyXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5fc2V0TGlzdGVuZXJzID0gZnVuY3Rpb24obmFtZSwgbGlzdGVuZXIpIHtcbiAgdGhpcy5fbGlzdGVuZXJzW25hbWVdID0gbGlzdGVuZXI7XG59O1xuXG5FdmVudEJ1cy5wcm90b3R5cGUuX3JlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrKSB7XG5cbiAgdmFyIGxpc3RlbmVyID0gdGhpcy5fZ2V0TGlzdGVuZXJzKGV2ZW50KSxcbiAgICAgIG5leHRMaXN0ZW5lcixcbiAgICAgIHByZXZpb3VzTGlzdGVuZXIsXG4gICAgICBsaXN0ZW5lckNhbGxiYWNrO1xuXG4gIGlmICghY2FsbGJhY2spIHtcblxuICAgIC8vIGNsZWFyIGxpc3RlbmVyc1xuICAgIHRoaXMuX3NldExpc3RlbmVycyhldmVudCwgbnVsbCk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICB3aGlsZSAobGlzdGVuZXIpIHtcblxuICAgIG5leHRMaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG5cbiAgICBsaXN0ZW5lckNhbGxiYWNrID0gbGlzdGVuZXIuY2FsbGJhY2s7XG5cbiAgICBpZiAobGlzdGVuZXJDYWxsYmFjayA9PT0gY2FsbGJhY2sgfHwgbGlzdGVuZXJDYWxsYmFja1tGTl9SRUZdID09PSBjYWxsYmFjaykge1xuICAgICAgaWYgKHByZXZpb3VzTGlzdGVuZXIpIHtcbiAgICAgICAgcHJldmlvdXNMaXN0ZW5lci5uZXh0ID0gbmV4dExpc3RlbmVyO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBuZXcgZmlyc3QgbGlzdGVuZXJcbiAgICAgICAgdGhpcy5fc2V0TGlzdGVuZXJzKGV2ZW50LCBuZXh0TGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHByZXZpb3VzTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICBsaXN0ZW5lciA9IG5leHRMaXN0ZW5lcjtcbiAgfVxufTtcblxuLyoqXG4gKiBBIGV2ZW50IHRoYXQgaXMgZW1pdHRlZCB2aWEgdGhlIGV2ZW50IGJ1cy5cbiAqL1xuZnVuY3Rpb24gSW50ZXJuYWxFdmVudCgpIHsgfVxuXG5JbnRlcm5hbEV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xufTtcblxuSW50ZXJuYWxFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbn07XG5cbkludGVybmFsRXZlbnQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIGFzc2lnbih0aGlzLCBkYXRhIHx8IHt9KTtcbn07XG5cblxuLyoqXG4gKiBJbnZva2UgZnVuY3Rpb24uIEJlIGZhc3QuLi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICpcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuZnVuY3Rpb24gaW52b2tlRnVuY3Rpb24oZm4sIGFyZ3MpIHtcbiAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/core/EventBus.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/core/GraphicsFactory.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/core/GraphicsFactory.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GraphicsFactory)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/GraphicsUtil */ \"(ssr)/../../node_modules/diagram-js/lib/util/GraphicsUtil.js\");\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/SvgTransformUtil */ \"(ssr)/../../node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"(ssr)/../../node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/../../node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Elements */ \"(ssr)/../../node_modules/diagram-js/lib/util/Elements.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('./Types').ConnectionLike} ConnectionLike\n * @typedef {import('./Types').ElementLike} ElementLike\n * @typedef {import('./Types').ShapeLike} ShapeLike\n *\n * @typedef {import('./ElementRegistry').default} ElementRegistry\n * @typedef {import('./EventBus').default} EventBus\n */\n\n/**\n * A factory that creates graphical elements.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n */\nfunction GraphicsFactory(eventBus, elementRegistry) {\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n}\n\nGraphicsFactory.$inject = [ 'eventBus' , 'elementRegistry' ];\n\n/**\n * @param { { parent?: any } } element\n * @return {SVGElement}\n */\nGraphicsFactory.prototype._getChildrenContainer = function(element) {\n\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  var childrenGfx;\n\n  // root element\n  if (!element.parent) {\n    childrenGfx = gfx;\n  } else {\n    childrenGfx = (0,_util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_0__.getChildren)(gfx);\n    if (!childrenGfx) {\n      childrenGfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(childrenGfx).add('djs-children');\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(gfx.parentNode, childrenGfx);\n    }\n  }\n\n  return childrenGfx;\n};\n\n/**\n * Clears the graphical representation of the element and returns the\n * cleared visual (the <g class=\"djs-visual\" /> element).\n */\nGraphicsFactory.prototype._clear = function(gfx) {\n  var visual = (0,_util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_0__.getVisual)(gfx);\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.clear)(visual);\n\n  return visual;\n};\n\n/**\n * Creates a gfx container for shapes and connections\n *\n * The layout is as follows:\n *\n * <g class=\"djs-group\">\n *\n *   <!-- the gfx -->\n *   <g class=\"djs-element djs-(shape|connection|frame)\">\n *     <g class=\"djs-visual\">\n *       <!-- the renderer draws in here -->\n *     </g>\n *\n *     <!-- extensions (overlays, click box, ...) goes here\n *   </g>\n *\n *   <!-- the gfx child nodes -->\n *   <g class=\"djs-children\"></g>\n * </g>\n *\n * @param {string} type the type of the element, i.e. shape | connection\n * @param {SVGElement} childrenGfx\n * @param {number} [parentIndex] position to create container in parent\n * @param {boolean} [isFrame] is frame element\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype._createContainer = function(\n    type, childrenGfx, parentIndex, isFrame\n) {\n  var outerGfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(outerGfx).add('djs-group');\n\n  // insert node at position\n  if (typeof parentIndex !== 'undefined') {\n    prependTo(outerGfx, childrenGfx, childrenGfx.childNodes[parentIndex]);\n  } else {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(childrenGfx, outerGfx);\n  }\n\n  var gfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(gfx).add('djs-element');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(gfx).add('djs-' + type);\n\n  if (isFrame) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(gfx).add('djs-frame');\n  }\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(outerGfx, gfx);\n\n  // create visual\n  var visual = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(visual).add('djs-visual');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(gfx, visual);\n\n  return gfx;\n};\n\n/**\n * Create a graphical element.\n *\n * @param { 'shape' | 'connection' | 'label' | 'root' } type The type of the element.\n * @param {ElementLike} element The element.\n * @param {number} [parentIndex] The index at which to add the graphical element to its parent's children.\n *\n * @return {SVGElement} The graphical element.\n */\nGraphicsFactory.prototype.create = function(type, element, parentIndex) {\n  var childrenGfx = this._getChildrenContainer(element.parent);\n  return this._createContainer(type, childrenGfx, parentIndex, (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.isFrameElement)(element));\n};\n\n/**\n * Update the containments of the given elements.\n *\n * @param {ElementLike[]} elements The elements.\n */\nGraphicsFactory.prototype.updateContainments = function(elements) {\n\n  var self = this,\n      elementRegistry = this._elementRegistry,\n      parents;\n\n  parents = (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.reduce)(elements, function(map, e) {\n\n    if (e.parent) {\n      map[e.parent.id] = e.parent;\n    }\n\n    return map;\n  }, {});\n\n  // update all parents of changed and reorganized their children\n  // in the correct order (as indicated in our model)\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.forEach)(parents, function(parent) {\n\n    var children = parent.children;\n\n    if (!children) {\n      return;\n    }\n\n    var childrenGfx = self._getChildrenContainer(parent);\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.forEach)(children.slice().reverse(), function(child) {\n      var childGfx = elementRegistry.getGraphics(child);\n\n      prependTo(childGfx.parentNode, childrenGfx);\n    });\n  });\n};\n\n/**\n * Draw a shape.\n *\n * @param {SVGElement} visual The graphical element.\n * @param {ShapeLike} element The shape.\n * @param {Object} attrs Optional attributes.\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype.drawShape = function(visual, element, attrs = {}) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.shape', { gfx: visual, element, attrs });\n};\n\n/**\n * Get the path of a shape.\n *\n * @param {ShapeLike} element The shape.\n *\n * @return {string} The path of the shape.\n */\nGraphicsFactory.prototype.getShapePath = function(element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getShapePath', element);\n};\n\n/**\n * Draw a connection.\n *\n * @param {SVGElement} visual The graphical element.\n * @param {ConnectionLike} element The connection.\n * @param {Object} attrs Optional attributes.\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype.drawConnection = function(visual, element, attrs = {}) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.connection', { gfx: visual, element, attrs });\n};\n\n/**\n * Get the path of a connection.\n *\n * @param {ConnectionLike} connection The connection.\n *\n * @return {string} The path of the connection.\n */\nGraphicsFactory.prototype.getConnectionPath = function(connection) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getConnectionPath', connection);\n};\n\n/**\n * Update an elements graphical representation.\n *\n * @param {'shape'|'connection'} type\n * @param {ElementLike} element\n * @param {SVGElement} gfx\n */\nGraphicsFactory.prototype.update = function(type, element, gfx) {\n\n  // do NOT update root element\n  if (!element.parent) {\n    return;\n  }\n\n  var visual = this._clear(gfx);\n\n  // redraw\n  if (type === 'shape') {\n    this.drawShape(visual, element);\n\n    // update positioning\n    (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_5__.translate)(gfx, element.x, element.y);\n  } else if (type === 'connection') {\n    this.drawConnection(visual, element);\n  } else {\n    throw new Error('unknown type: ' + type);\n  }\n\n  if (element.hidden) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(gfx, 'display', 'none');\n  } else {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(gfx, 'display', 'block');\n  }\n};\n\n/**\n * Remove a graphical element.\n *\n * @param {ElementLike} element The element.\n */\nGraphicsFactory.prototype.remove = function(element) {\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  // remove\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(gfx.parentNode);\n};\n\n\n// helpers //////////\n\nfunction prependTo(newNode, parentNode, siblingNode) {\n  var node = siblingNode || parentNode.firstChild;\n\n  // do not prepend node to itself to prevent IE from crashing\n  // https://github.com/bpmn-io/bpmn-js/issues/746\n  if (newNode === node) {\n    return;\n  }\n\n  parentNode.insertBefore(newNode, node);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvR3JhcGhpY3NGYWN0b3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFHa0I7O0FBS1k7O0FBRXVCOztBQUVUOztBQVExQjs7QUFJUTs7QUFFMUI7QUFDQSxhQUFhLGtDQUFrQztBQUMvQyxhQUFhLCtCQUErQjtBQUM1QyxhQUFhLDZCQUE2QjtBQUMxQztBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsOEJBQThCO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLGlCQUFpQjtBQUM1QjtBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsY0FBYyxpQkFBaUI7QUFDL0IsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtCQUFrQiwrREFBVztBQUM3QjtBQUNBLG9CQUFvQixnREFBUztBQUM3QixNQUFNLGlEQUFVOztBQUVoQixNQUFNLGdEQUFTO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZEQUFTOztBQUV4QixFQUFFLDhDQUFROztBQUVWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFlBQVk7QUFDdkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnREFBUztBQUMxQixFQUFFLGlEQUFVOztBQUVaO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixJQUFJLGdEQUFTO0FBQ2I7O0FBRUEsWUFBWSxnREFBUztBQUNyQixFQUFFLGlEQUFVO0FBQ1osRUFBRSxpREFBVTs7QUFFWjtBQUNBLElBQUksaURBQVU7QUFDZDs7QUFFQSxFQUFFLGdEQUFTOztBQUVYO0FBQ0EsZUFBZSxnREFBUztBQUN4QixFQUFFLGlEQUFVOztBQUVaLEVBQUUsZ0RBQVM7O0FBRVg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDRDQUE0QztBQUN4RCxXQUFXLGFBQWE7QUFDeEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCw4REFBYztBQUM3RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSxnREFBTTs7QUFFbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRyxJQUFJOztBQUVQO0FBQ0E7QUFDQSxFQUFFLGlEQUFPOztBQUVUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxJQUFJLGlEQUFPO0FBQ1g7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsMEVBQTBFO0FBQzFFOztBQUVBLHlDQUF5Qyw2QkFBNkI7QUFDdEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLGdCQUFnQjtBQUMzQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQSwrRUFBK0U7QUFDL0U7O0FBRUEsOENBQThDLDZCQUE2QjtBQUMzRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNCQUFzQjtBQUNqQyxXQUFXLGFBQWE7QUFDeEIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxpRUFBUztBQUNiLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsSUFBSSw4Q0FBTztBQUNYLElBQUk7QUFDSixJQUFJLDhDQUFPO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSxnREFBUztBQUNYOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb3JlL0dyYXBoaWNzRmFjdG9yeS5qcz83MmQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGZvckVhY2gsXG4gIHJlZHVjZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldENoaWxkcmVuLFxuICBnZXRWaXN1YWxcbn0gZnJvbSAnLi4vdXRpbC9HcmFwaGljc1V0aWwnO1xuXG5pbXBvcnQgeyB0cmFuc2xhdGUgfSBmcm9tICcuLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xuXG5pbXBvcnQgeyBjbGVhciBhcyBkb21DbGVhciB9IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIGlzRnJhbWVFbGVtZW50XG59IGZyb20gJy4uL3V0aWwvRWxlbWVudHMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vVHlwZXMnKS5Db25uZWN0aW9uTGlrZX0gQ29ubmVjdGlvbkxpa2VcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vVHlwZXMnKS5FbGVtZW50TGlrZX0gRWxlbWVudExpa2VcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vVHlwZXMnKS5TaGFwZUxpa2V9IFNoYXBlTGlrZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vRWxlbWVudFJlZ2lzdHJ5JykuZGVmYXVsdH0gRWxlbWVudFJlZ2lzdHJ5XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqL1xuXG4vKipcbiAqIEEgZmFjdG9yeSB0aGF0IGNyZWF0ZXMgZ3JhcGhpY2FsIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdyYXBoaWNzRmFjdG9yeShldmVudEJ1cywgZWxlbWVudFJlZ2lzdHJ5KSB7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcbn1cblxuR3JhcGhpY3NGYWN0b3J5LiRpbmplY3QgPSBbICdldmVudEJ1cycgLCAnZWxlbWVudFJlZ2lzdHJ5JyBdO1xuXG4vKipcbiAqIEBwYXJhbSB7IHsgcGFyZW50PzogYW55IH0gfSBlbGVtZW50XG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICovXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLl9nZXRDaGlsZHJlbkNvbnRhaW5lciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICB2YXIgZ2Z4ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGVsZW1lbnQpO1xuXG4gIHZhciBjaGlsZHJlbkdmeDtcblxuICAvLyByb290IGVsZW1lbnRcbiAgaWYgKCFlbGVtZW50LnBhcmVudCkge1xuICAgIGNoaWxkcmVuR2Z4ID0gZ2Z4O1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuR2Z4ID0gZ2V0Q2hpbGRyZW4oZ2Z4KTtcbiAgICBpZiAoIWNoaWxkcmVuR2Z4KSB7XG4gICAgICBjaGlsZHJlbkdmeCA9IHN2Z0NyZWF0ZSgnZycpO1xuICAgICAgc3ZnQ2xhc3NlcyhjaGlsZHJlbkdmeCkuYWRkKCdkanMtY2hpbGRyZW4nKTtcblxuICAgICAgc3ZnQXBwZW5kKGdmeC5wYXJlbnROb2RlLCBjaGlsZHJlbkdmeCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNoaWxkcmVuR2Z4O1xufTtcblxuLyoqXG4gKiBDbGVhcnMgdGhlIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZWxlbWVudCBhbmQgcmV0dXJucyB0aGVcbiAqIGNsZWFyZWQgdmlzdWFsICh0aGUgPGcgY2xhc3M9XCJkanMtdmlzdWFsXCIgLz4gZWxlbWVudCkuXG4gKi9cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuX2NsZWFyID0gZnVuY3Rpb24oZ2Z4KSB7XG4gIHZhciB2aXN1YWwgPSBnZXRWaXN1YWwoZ2Z4KTtcblxuICBkb21DbGVhcih2aXN1YWwpO1xuXG4gIHJldHVybiB2aXN1YWw7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBnZnggY29udGFpbmVyIGZvciBzaGFwZXMgYW5kIGNvbm5lY3Rpb25zXG4gKlxuICogVGhlIGxheW91dCBpcyBhcyBmb2xsb3dzOlxuICpcbiAqIDxnIGNsYXNzPVwiZGpzLWdyb3VwXCI+XG4gKlxuICogICA8IS0tIHRoZSBnZnggLS0+XG4gKiAgIDxnIGNsYXNzPVwiZGpzLWVsZW1lbnQgZGpzLShzaGFwZXxjb25uZWN0aW9ufGZyYW1lKVwiPlxuICogICAgIDxnIGNsYXNzPVwiZGpzLXZpc3VhbFwiPlxuICogICAgICAgPCEtLSB0aGUgcmVuZGVyZXIgZHJhd3MgaW4gaGVyZSAtLT5cbiAqICAgICA8L2c+XG4gKlxuICogICAgIDwhLS0gZXh0ZW5zaW9ucyAob3ZlcmxheXMsIGNsaWNrIGJveCwgLi4uKSBnb2VzIGhlcmVcbiAqICAgPC9nPlxuICpcbiAqICAgPCEtLSB0aGUgZ2Z4IGNoaWxkIG5vZGVzIC0tPlxuICogICA8ZyBjbGFzcz1cImRqcy1jaGlsZHJlblwiPjwvZz5cbiAqIDwvZz5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSB0aGUgdHlwZSBvZiB0aGUgZWxlbWVudCwgaS5lLiBzaGFwZSB8IGNvbm5lY3Rpb25cbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gY2hpbGRyZW5HZnhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyZW50SW5kZXhdIHBvc2l0aW9uIHRvIGNyZWF0ZSBjb250YWluZXIgaW4gcGFyZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0ZyYW1lXSBpcyBmcmFtZSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5fY3JlYXRlQ29udGFpbmVyID0gZnVuY3Rpb24oXG4gICAgdHlwZSwgY2hpbGRyZW5HZngsIHBhcmVudEluZGV4LCBpc0ZyYW1lXG4pIHtcbiAgdmFyIG91dGVyR2Z4ID0gc3ZnQ3JlYXRlKCdnJyk7XG4gIHN2Z0NsYXNzZXMob3V0ZXJHZngpLmFkZCgnZGpzLWdyb3VwJyk7XG5cbiAgLy8gaW5zZXJ0IG5vZGUgYXQgcG9zaXRpb25cbiAgaWYgKHR5cGVvZiBwYXJlbnRJbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBwcmVwZW5kVG8ob3V0ZXJHZngsIGNoaWxkcmVuR2Z4LCBjaGlsZHJlbkdmeC5jaGlsZE5vZGVzW3BhcmVudEluZGV4XSk7XG4gIH0gZWxzZSB7XG4gICAgc3ZnQXBwZW5kKGNoaWxkcmVuR2Z4LCBvdXRlckdmeCk7XG4gIH1cblxuICB2YXIgZ2Z4ID0gc3ZnQ3JlYXRlKCdnJyk7XG4gIHN2Z0NsYXNzZXMoZ2Z4KS5hZGQoJ2Rqcy1lbGVtZW50Jyk7XG4gIHN2Z0NsYXNzZXMoZ2Z4KS5hZGQoJ2Rqcy0nICsgdHlwZSk7XG5cbiAgaWYgKGlzRnJhbWUpIHtcbiAgICBzdmdDbGFzc2VzKGdmeCkuYWRkKCdkanMtZnJhbWUnKTtcbiAgfVxuXG4gIHN2Z0FwcGVuZChvdXRlckdmeCwgZ2Z4KTtcblxuICAvLyBjcmVhdGUgdmlzdWFsXG4gIHZhciB2aXN1YWwgPSBzdmdDcmVhdGUoJ2cnKTtcbiAgc3ZnQ2xhc3Nlcyh2aXN1YWwpLmFkZCgnZGpzLXZpc3VhbCcpO1xuXG4gIHN2Z0FwcGVuZChnZngsIHZpc3VhbCk7XG5cbiAgcmV0dXJuIGdmeDtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgZ3JhcGhpY2FsIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsgJ3NoYXBlJyB8ICdjb25uZWN0aW9uJyB8ICdsYWJlbCcgfCAncm9vdCcgfSB0eXBlIFRoZSB0eXBlIG9mIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHtFbGVtZW50TGlrZX0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyZW50SW5kZXhdIFRoZSBpbmRleCBhdCB3aGljaCB0byBhZGQgdGhlIGdyYXBoaWNhbCBlbGVtZW50IHRvIGl0cyBwYXJlbnQncyBjaGlsZHJlbi5cbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSBUaGUgZ3JhcGhpY2FsIGVsZW1lbnQuXG4gKi9cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24odHlwZSwgZWxlbWVudCwgcGFyZW50SW5kZXgpIHtcbiAgdmFyIGNoaWxkcmVuR2Z4ID0gdGhpcy5fZ2V0Q2hpbGRyZW5Db250YWluZXIoZWxlbWVudC5wYXJlbnQpO1xuICByZXR1cm4gdGhpcy5fY3JlYXRlQ29udGFpbmVyKHR5cGUsIGNoaWxkcmVuR2Z4LCBwYXJlbnRJbmRleCwgaXNGcmFtZUVsZW1lbnQoZWxlbWVudCkpO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIGNvbnRhaW5tZW50cyBvZiB0aGUgZ2l2ZW4gZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50TGlrZVtdfSBlbGVtZW50cyBUaGUgZWxlbWVudHMuXG4gKi9cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUudXBkYXRlQ29udGFpbm1lbnRzID0gZnVuY3Rpb24oZWxlbWVudHMpIHtcblxuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBlbGVtZW50UmVnaXN0cnkgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnksXG4gICAgICBwYXJlbnRzO1xuXG4gIHBhcmVudHMgPSByZWR1Y2UoZWxlbWVudHMsIGZ1bmN0aW9uKG1hcCwgZSkge1xuXG4gICAgaWYgKGUucGFyZW50KSB7XG4gICAgICBtYXBbZS5wYXJlbnQuaWRdID0gZS5wYXJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcDtcbiAgfSwge30pO1xuXG4gIC8vIHVwZGF0ZSBhbGwgcGFyZW50cyBvZiBjaGFuZ2VkIGFuZCByZW9yZ2FuaXplZCB0aGVpciBjaGlsZHJlblxuICAvLyBpbiB0aGUgY29ycmVjdCBvcmRlciAoYXMgaW5kaWNhdGVkIGluIG91ciBtb2RlbClcbiAgZm9yRWFjaChwYXJlbnRzLCBmdW5jdGlvbihwYXJlbnQpIHtcblxuICAgIHZhciBjaGlsZHJlbiA9IHBhcmVudC5jaGlsZHJlbjtcblxuICAgIGlmICghY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRyZW5HZnggPSBzZWxmLl9nZXRDaGlsZHJlbkNvbnRhaW5lcihwYXJlbnQpO1xuXG4gICAgZm9yRWFjaChjaGlsZHJlbi5zbGljZSgpLnJldmVyc2UoKSwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIHZhciBjaGlsZEdmeCA9IGVsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhjaGlsZCk7XG5cbiAgICAgIHByZXBlbmRUbyhjaGlsZEdmeC5wYXJlbnROb2RlLCBjaGlsZHJlbkdmeCk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBEcmF3IGEgc2hhcGUuXG4gKlxuICogQHBhcmFtIHtTVkdFbGVtZW50fSB2aXN1YWwgVGhlIGdyYXBoaWNhbCBlbGVtZW50LlxuICogQHBhcmFtIHtTaGFwZUxpa2V9IGVsZW1lbnQgVGhlIHNoYXBlLlxuICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIE9wdGlvbmFsIGF0dHJpYnV0ZXMuXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbih2aXN1YWwsIGVsZW1lbnQsIGF0dHJzID0ge30pIHtcbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgcmV0dXJuIGV2ZW50QnVzLmZpcmUoJ3JlbmRlci5zaGFwZScsIHsgZ2Z4OiB2aXN1YWwsIGVsZW1lbnQsIGF0dHJzIH0pO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIHBhdGggb2YgYSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlTGlrZX0gZWxlbWVudCBUaGUgc2hhcGUuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgcGF0aCBvZiB0aGUgc2hhcGUuXG4gKi9cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuZ2V0U2hhcGVQYXRoID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICByZXR1cm4gZXZlbnRCdXMuZmlyZSgncmVuZGVyLmdldFNoYXBlUGF0aCcsIGVsZW1lbnQpO1xufTtcblxuLyoqXG4gKiBEcmF3IGEgY29ubmVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IHZpc3VhbCBUaGUgZ3JhcGhpY2FsIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb25MaWtlfSBlbGVtZW50IFRoZSBjb25uZWN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIE9wdGlvbmFsIGF0dHJpYnV0ZXMuXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5kcmF3Q29ubmVjdGlvbiA9IGZ1bmN0aW9uKHZpc3VhbCwgZWxlbWVudCwgYXR0cnMgPSB7fSkge1xuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICByZXR1cm4gZXZlbnRCdXMuZmlyZSgncmVuZGVyLmNvbm5lY3Rpb24nLCB7IGdmeDogdmlzdWFsLCBlbGVtZW50LCBhdHRycyB9KTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBwYXRoIG9mIGEgY29ubmVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb25MaWtlfSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHBhdGggb2YgdGhlIGNvbm5lY3Rpb24uXG4gKi9cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvblBhdGggPSBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIHJldHVybiBldmVudEJ1cy5maXJlKCdyZW5kZXIuZ2V0Q29ubmVjdGlvblBhdGgnLCBjb25uZWN0aW9uKTtcbn07XG5cbi8qKlxuICogVXBkYXRlIGFuIGVsZW1lbnRzIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0geydzaGFwZSd8J2Nvbm5lY3Rpb24nfSB0eXBlXG4gKiBAcGFyYW0ge0VsZW1lbnRMaWtlfSBlbGVtZW50XG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICovXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKHR5cGUsIGVsZW1lbnQsIGdmeCkge1xuXG4gIC8vIGRvIE5PVCB1cGRhdGUgcm9vdCBlbGVtZW50XG4gIGlmICghZWxlbWVudC5wYXJlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdmlzdWFsID0gdGhpcy5fY2xlYXIoZ2Z4KTtcblxuICAvLyByZWRyYXdcbiAgaWYgKHR5cGUgPT09ICdzaGFwZScpIHtcbiAgICB0aGlzLmRyYXdTaGFwZSh2aXN1YWwsIGVsZW1lbnQpO1xuXG4gICAgLy8gdXBkYXRlIHBvc2l0aW9uaW5nXG4gICAgdHJhbnNsYXRlKGdmeCwgZWxlbWVudC54LCBlbGVtZW50LnkpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdjb25uZWN0aW9uJykge1xuICAgIHRoaXMuZHJhd0Nvbm5lY3Rpb24odmlzdWFsLCBlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gdHlwZTogJyArIHR5cGUpO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQuaGlkZGVuKSB7XG4gICAgc3ZnQXR0cihnZngsICdkaXNwbGF5JywgJ25vbmUnKTtcbiAgfSBlbHNlIHtcbiAgICBzdmdBdHRyKGdmeCwgJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmUgYSBncmFwaGljYWwgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRMaWtlfSBlbGVtZW50IFRoZSBlbGVtZW50LlxuICovXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGdmeCA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhlbGVtZW50KTtcblxuICAvLyByZW1vdmVcbiAgc3ZnUmVtb3ZlKGdmeC5wYXJlbnROb2RlKTtcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHByZXBlbmRUbyhuZXdOb2RlLCBwYXJlbnROb2RlLCBzaWJsaW5nTm9kZSkge1xuICB2YXIgbm9kZSA9IHNpYmxpbmdOb2RlIHx8IHBhcmVudE5vZGUuZmlyc3RDaGlsZDtcblxuICAvLyBkbyBub3QgcHJlcGVuZCBub2RlIHRvIGl0c2VsZiB0byBwcmV2ZW50IElFIGZyb20gY3Jhc2hpbmdcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JwbW4taW8vYnBtbi1qcy9pc3N1ZXMvNzQ2XG4gIGlmIChuZXdOb2RlID09PSBub2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgbm9kZSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/core/GraphicsFactory.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/core/index.js":
/*!*******************************************************!*\
  !*** ../../node_modules/diagram-js/lib/core/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _draw__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../draw */ \"(ssr)/../../node_modules/diagram-js/lib/draw/index.js\");\n/* harmony import */ var _Canvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Canvas */ \"(ssr)/../../node_modules/diagram-js/lib/core/Canvas.js\");\n/* harmony import */ var _ElementRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ElementRegistry */ \"(ssr)/../../node_modules/diagram-js/lib/core/ElementRegistry.js\");\n/* harmony import */ var _ElementFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ElementFactory */ \"(ssr)/../../node_modules/diagram-js/lib/core/ElementFactory.js\");\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EventBus */ \"(ssr)/../../node_modules/diagram-js/lib/core/EventBus.js\");\n/* harmony import */ var _GraphicsFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GraphicsFactory */ \"(ssr)/../../node_modules/diagram-js/lib/core/GraphicsFactory.js\");\n\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [ _draw__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  __init__: [ 'canvas' ],\n  canvas: [ 'type', _Canvas__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ],\n  elementRegistry: [ 'type', _ElementRegistry__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ],\n  elementFactory: [ 'type', _ElementFactory__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ],\n  eventBus: [ 'type', _EventBus__WEBPACK_IMPORTED_MODULE_4__[\"default\"] ],\n  graphicsFactory: [ 'type', _GraphicsFactory__WEBPACK_IMPORTED_MODULE_5__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpQzs7QUFFSDtBQUNrQjtBQUNGO0FBQ1o7QUFDYzs7QUFFaEQ7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmLGlCQUFpQiw2Q0FBVTtBQUMzQjtBQUNBLG9CQUFvQiwrQ0FBTTtBQUMxQiw2QkFBNkIsd0RBQWU7QUFDNUMsNEJBQTRCLHVEQUFjO0FBQzFDLHNCQUFzQixpREFBUTtBQUM5Qiw2QkFBNkIsd0RBQWU7QUFDNUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb3JlL2luZGV4LmpzP2Y3NjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERyYXdNb2R1bGUgZnJvbSAnLi4vZHJhdyc7XG5cbmltcG9ydCBDYW52YXMgZnJvbSAnLi9DYW52YXMnO1xuaW1wb3J0IEVsZW1lbnRSZWdpc3RyeSBmcm9tICcuL0VsZW1lbnRSZWdpc3RyeSc7XG5pbXBvcnQgRWxlbWVudEZhY3RvcnkgZnJvbSAnLi9FbGVtZW50RmFjdG9yeSc7XG5pbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi9FdmVudEJ1cyc7XG5pbXBvcnQgR3JhcGhpY3NGYWN0b3J5IGZyb20gJy4vR3JhcGhpY3NGYWN0b3J5JztcblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogWyBEcmF3TW9kdWxlIF0sXG4gIF9faW5pdF9fOiBbICdjYW52YXMnIF0sXG4gIGNhbnZhczogWyAndHlwZScsIENhbnZhcyBdLFxuICBlbGVtZW50UmVnaXN0cnk6IFsgJ3R5cGUnLCBFbGVtZW50UmVnaXN0cnkgXSxcbiAgZWxlbWVudEZhY3Rvcnk6IFsgJ3R5cGUnLCBFbGVtZW50RmFjdG9yeSBdLFxuICBldmVudEJ1czogWyAndHlwZScsIEV2ZW50QnVzIF0sXG4gIGdyYXBoaWNzRmFjdG9yeTogWyAndHlwZScsIEdyYXBoaWNzRmFjdG9yeSBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/core/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/draw/BaseRenderer.js":
/*!**************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/draw/BaseRenderer.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseRenderer)\n/* harmony export */ });\nvar DEFAULT_RENDER_PRIORITY = 1000;\n\n/**\n * @typedef {import('../core/Types').ElementLike} Element\n * @typedef {import('../core/Types').ConnectionLike} Connection\n * @typedef {import('../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../core/EventBus').default} EventBus\n */\n\n/**\n * The base implementation of shape and connection renderers.\n *\n * @param {EventBus} eventBus\n * @param {number} [renderPriority=1000]\n */\nfunction BaseRenderer(eventBus, renderPriority) {\n  var self = this;\n\n  renderPriority = renderPriority || DEFAULT_RENDER_PRIORITY;\n\n  eventBus.on([ 'render.shape', 'render.connection' ], renderPriority, function(evt, context) {\n    var type = evt.type,\n        element = context.element,\n        visuals = context.gfx,\n        attrs = context.attrs;\n\n    if (self.canRender(element)) {\n      if (type === 'render.shape') {\n        return self.drawShape(visuals, element, attrs);\n      } else {\n        return self.drawConnection(visuals, element, attrs);\n      }\n    }\n  });\n\n  eventBus.on([ 'render.getShapePath', 'render.getConnectionPath' ], renderPriority, function(evt, element) {\n    if (self.canRender(element)) {\n      if (evt.type === 'render.getShapePath') {\n        return self.getShapePath(element);\n      } else {\n        return self.getConnectionPath(element);\n      }\n    }\n  });\n}\n\n/**\n * Checks whether an element can be rendered.\n *\n * @param {Element} element The element to be rendered.\n *\n * @return {boolean} Whether the element can be rendered.\n */\nBaseRenderer.prototype.canRender = function(element) {};\n\n/**\n * Draws a shape.\n *\n * @param {SVGElement} visuals The SVG element to draw the shape into.\n * @param {Shape} shape The shape to be drawn.\n *\n * @return {SVGElement} The SVG element of the shape drawn.\n */\nBaseRenderer.prototype.drawShape = function(visuals, shape) {};\n\n/**\n * Draws a connection.\n *\n * @param {SVGElement} visuals The SVG element to draw the connection into.\n * @param {Connection} connection The connection to be drawn.\n *\n * @return {SVGElement} The SVG element of the connection drawn.\n */\nBaseRenderer.prototype.drawConnection = function(visuals, connection) {};\n\n/**\n * Gets the SVG path of the graphical representation of a shape.\n *\n * @param {Shape} shape The shape.\n *\n * @return {string} The SVG path of the shape.\n */\nBaseRenderer.prototype.getShapePath = function(shape) {};\n\n/**\n * Gets the SVG path of the graphical representation of a connection.\n *\n * @param {Connection} connection The connection.\n *\n * @return {string} The SVG path of the connection.\n */\nBaseRenderer.prototype.getConnectionPath = function(connection) {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvQmFzZVJlbmRlcmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFFQTtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsbUNBQW1DO0FBQ2hEO0FBQ0EsYUFBYSxvQ0FBb0M7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQjtBQUNlO0FBQ2Y7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9kcmF3L0Jhc2VSZW5kZXJlci5qcz8zNDNkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBERUZBVUxUX1JFTkRFUl9QUklPUklUWSA9IDEwMDA7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb3JlL1R5cGVzJykuQ29ubmVjdGlvbkxpa2V9IENvbm5lY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvVHlwZXMnKS5TaGFwZUxpa2V9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKi9cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBzaGFwZSBhbmQgY29ubmVjdGlvbiByZW5kZXJlcnMuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcmVuZGVyUHJpb3JpdHk9MTAwMF1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmFzZVJlbmRlcmVyKGV2ZW50QnVzLCByZW5kZXJQcmlvcml0eSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmVuZGVyUHJpb3JpdHkgPSByZW5kZXJQcmlvcml0eSB8fCBERUZBVUxUX1JFTkRFUl9QUklPUklUWTtcblxuICBldmVudEJ1cy5vbihbICdyZW5kZXIuc2hhcGUnLCAncmVuZGVyLmNvbm5lY3Rpb24nIF0sIHJlbmRlclByaW9yaXR5LCBmdW5jdGlvbihldnQsIGNvbnRleHQpIHtcbiAgICB2YXIgdHlwZSA9IGV2dC50eXBlLFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5lbGVtZW50LFxuICAgICAgICB2aXN1YWxzID0gY29udGV4dC5nZngsXG4gICAgICAgIGF0dHJzID0gY29udGV4dC5hdHRycztcblxuICAgIGlmIChzZWxmLmNhblJlbmRlcihlbGVtZW50KSkge1xuICAgICAgaWYgKHR5cGUgPT09ICdyZW5kZXIuc2hhcGUnKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmRyYXdTaGFwZSh2aXN1YWxzLCBlbGVtZW50LCBhdHRycyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5kcmF3Q29ubmVjdGlvbih2aXN1YWxzLCBlbGVtZW50LCBhdHRycyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdyZW5kZXIuZ2V0U2hhcGVQYXRoJywgJ3JlbmRlci5nZXRDb25uZWN0aW9uUGF0aCcgXSwgcmVuZGVyUHJpb3JpdHksIGZ1bmN0aW9uKGV2dCwgZWxlbWVudCkge1xuICAgIGlmIChzZWxmLmNhblJlbmRlcihlbGVtZW50KSkge1xuICAgICAgaWYgKGV2dC50eXBlID09PSAncmVuZGVyLmdldFNoYXBlUGF0aCcpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuZ2V0U2hhcGVQYXRoKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuZ2V0Q29ubmVjdGlvblBhdGgoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhbiBlbGVtZW50IGNhbiBiZSByZW5kZXJlZC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gYmUgcmVuZGVyZWQuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZWxlbWVudCBjYW4gYmUgcmVuZGVyZWQuXG4gKi9cbkJhc2VSZW5kZXJlci5wcm90b3R5cGUuY2FuUmVuZGVyID0gZnVuY3Rpb24oZWxlbWVudCkge307XG5cbi8qKlxuICogRHJhd3MgYSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IHZpc3VhbHMgVGhlIFNWRyBlbGVtZW50IHRvIGRyYXcgdGhlIHNoYXBlIGludG8uXG4gKiBAcGFyYW0ge1NoYXBlfSBzaGFwZSBUaGUgc2hhcGUgdG8gYmUgZHJhd24uXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gVGhlIFNWRyBlbGVtZW50IG9mIHRoZSBzaGFwZSBkcmF3bi5cbiAqL1xuQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbih2aXN1YWxzLCBzaGFwZSkge307XG5cbi8qKlxuICogRHJhd3MgYSBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gdmlzdWFscyBUaGUgU1ZHIGVsZW1lbnQgdG8gZHJhdyB0aGUgY29ubmVjdGlvbiBpbnRvLlxuICogQHBhcmFtIHtDb25uZWN0aW9ufSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRvIGJlIGRyYXduLlxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IFRoZSBTVkcgZWxlbWVudCBvZiB0aGUgY29ubmVjdGlvbiBkcmF3bi5cbiAqL1xuQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3Q29ubmVjdGlvbiA9IGZ1bmN0aW9uKHZpc3VhbHMsIGNvbm5lY3Rpb24pIHt9O1xuXG4vKipcbiAqIEdldHMgdGhlIFNWRyBwYXRoIG9mIHRoZSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgYSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlfSBzaGFwZSBUaGUgc2hhcGUuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgU1ZHIHBhdGggb2YgdGhlIHNoYXBlLlxuICovXG5CYXNlUmVuZGVyZXIucHJvdG90eXBlLmdldFNoYXBlUGF0aCA9IGZ1bmN0aW9uKHNoYXBlKSB7fTtcblxuLyoqXG4gKiBHZXRzIHRoZSBTVkcgcGF0aCBvZiB0aGUgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIG9mIGEgY29ubmVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24uXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgU1ZHIHBhdGggb2YgdGhlIGNvbm5lY3Rpb24uXG4gKi9cbkJhc2VSZW5kZXJlci5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvblBhdGggPSBmdW5jdGlvbihjb25uZWN0aW9uKSB7fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/draw/BaseRenderer.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/draw/DefaultRenderer.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/draw/DefaultRenderer.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DefaultRenderer)\n/* harmony export */ });\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/../../node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _BaseRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseRenderer */ \"(ssr)/../../node_modules/diagram-js/lib/draw/BaseRenderer.js\");\n/* harmony import */ var _util_RenderUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/RenderUtil */ \"(ssr)/../../node_modules/diagram-js/lib/util/RenderUtil.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/../../node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Elements */ \"(ssr)/../../node_modules/diagram-js/lib/util/Elements.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./Styles').default} Styles\n */\n\n// apply default renderer with lowest possible priority\n// so that it only kicks in if noone else could render\nvar DEFAULT_RENDER_PRIORITY = 1;\n\n/**\n * The default renderer used for shapes and connections.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n */\nfunction DefaultRenderer(eventBus, styles) {\n\n  _BaseRenderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, eventBus, DEFAULT_RENDER_PRIORITY);\n\n  this.CONNECTION_STYLE = styles.style([ 'no-fill' ], { strokeWidth: 5, stroke: 'fuchsia' });\n  this.SHAPE_STYLE = styles.style({ fill: 'white', stroke: 'fuchsia', strokeWidth: 2 });\n  this.FRAME_STYLE = styles.style([ 'no-fill' ], { stroke: 'fuchsia', strokeDasharray: 4, strokeWidth: 2 });\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(DefaultRenderer, _BaseRenderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n/**\n * @private\n */\nDefaultRenderer.prototype.canRender = function() {\n  return true;\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.drawShape = function drawShape(visuals, element, attrs) {\n  var rect = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('rect');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(rect, {\n    x: 0,\n    y: 0,\n    width: element.width || 0,\n    height: element.height || 0\n  });\n\n  if ((0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.isFrameElement)(element)) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(rect, (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.assign)({}, this.FRAME_STYLE, attrs || {}));\n  } else {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(rect, (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.assign)({}, this.SHAPE_STYLE, attrs || {}));\n  }\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(visuals, rect);\n\n  return rect;\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.drawConnection = function drawConnection(visuals, connection, attrs) {\n\n  var line = (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_5__.createLine)(connection.waypoints, (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.assign)({}, this.CONNECTION_STYLE, attrs || {}));\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(visuals, line);\n\n  return line;\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.getShapePath = function getShapePath(shape) {\n\n  var x = shape.x,\n      y = shape.y,\n      width = shape.width,\n      height = shape.height;\n\n  var shapePath = [\n    [ 'M', x, y ],\n    [ 'l', width, 0 ],\n    [ 'l', 0, height ],\n    [ 'l', -width, 0 ],\n    [ 'z' ]\n  ];\n\n  return (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_5__.componentsToPath)(shapePath);\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.getConnectionPath = function getConnectionPath(connection) {\n  var waypoints = connection.waypoints;\n\n  var idx, point, connectionPath = [];\n\n  for (idx = 0; (point = waypoints[idx]); idx++) {\n\n    // take invisible docking into account\n    // when creating the path\n    point = point.original || point;\n\n    connectionPath.push([ idx === 0 ? 'M' : 'L', point.x, point.y ]);\n  }\n\n  return (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_5__.componentsToPath)(connectionPath);\n};\n\nDefaultRenderer.$inject = [ 'eventBus', 'styles' ];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvRGVmYXVsdFJlbmRlcmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0M7O0FBRUU7O0FBS2Q7O0FBTVY7O0FBRWdCOztBQUlSOztBQUUxQjtBQUNBLGFBQWEsb0NBQW9DO0FBQ2pELGFBQWEsNEJBQTRCO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CO0FBQ2U7O0FBRWYsRUFBRSxxREFBWTs7QUFFZCx3REFBd0QsbUNBQW1DO0FBQzNGLG9DQUFvQyxrREFBa0Q7QUFDdEYsbURBQW1ELHVEQUF1RDtBQUMxRzs7QUFFQSw0REFBUSxrQkFBa0IscURBQVk7OztBQUd0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdEQUFTOztBQUV0QixFQUFFLDhDQUFPO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILE1BQU0sOERBQWM7QUFDcEIsSUFBSSw4Q0FBTyxPQUFPLGdEQUFNLEdBQUcsK0JBQStCO0FBQzFELElBQUk7QUFDSixJQUFJLDhDQUFPLE9BQU8sZ0RBQU0sR0FBRywrQkFBK0I7QUFDMUQ7O0FBRUEsRUFBRSxnREFBUzs7QUFFWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWEsNERBQVUsdUJBQXVCLGdEQUFNLEdBQUcsb0NBQW9DO0FBQzNGLEVBQUUsZ0RBQVM7O0FBRVg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLGtFQUFnQjtBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQiwwQkFBMEI7O0FBRTFDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFNBQVMsa0VBQWdCO0FBQ3pCOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvRGVmYXVsdFJlbmRlcmVyLmpzPzg4YmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzLWJyb3dzZXInO1xuXG5pbXBvcnQgQmFzZVJlbmRlcmVyIGZyb20gJy4vQmFzZVJlbmRlcmVyJztcblxuaW1wb3J0IHtcbiAgY29tcG9uZW50c1RvUGF0aCxcbiAgY3JlYXRlTGluZVxufSBmcm9tICcuLi91dGlsL1JlbmRlclV0aWwnO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGlzRnJhbWVFbGVtZW50XG59IGZyb20gJy4uL3V0aWwvRWxlbWVudHMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi9TdHlsZXMnKS5kZWZhdWx0fSBTdHlsZXNcbiAqL1xuXG4vLyBhcHBseSBkZWZhdWx0IHJlbmRlcmVyIHdpdGggbG93ZXN0IHBvc3NpYmxlIHByaW9yaXR5XG4vLyBzbyB0aGF0IGl0IG9ubHkga2lja3MgaW4gaWYgbm9vbmUgZWxzZSBjb3VsZCByZW5kZXJcbnZhciBERUZBVUxUX1JFTkRFUl9QUklPUklUWSA9IDE7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgcmVuZGVyZXIgdXNlZCBmb3Igc2hhcGVzIGFuZCBjb25uZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtTdHlsZXN9IHN0eWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZWZhdWx0UmVuZGVyZXIoZXZlbnRCdXMsIHN0eWxlcykge1xuXG4gIEJhc2VSZW5kZXJlci5jYWxsKHRoaXMsIGV2ZW50QnVzLCBERUZBVUxUX1JFTkRFUl9QUklPUklUWSk7XG5cbiAgdGhpcy5DT05ORUNUSU9OX1NUWUxFID0gc3R5bGVzLnN0eWxlKFsgJ25vLWZpbGwnIF0sIHsgc3Ryb2tlV2lkdGg6IDUsIHN0cm9rZTogJ2Z1Y2hzaWEnIH0pO1xuICB0aGlzLlNIQVBFX1NUWUxFID0gc3R5bGVzLnN0eWxlKHsgZmlsbDogJ3doaXRlJywgc3Ryb2tlOiAnZnVjaHNpYScsIHN0cm9rZVdpZHRoOiAyIH0pO1xuICB0aGlzLkZSQU1FX1NUWUxFID0gc3R5bGVzLnN0eWxlKFsgJ25vLWZpbGwnIF0sIHsgc3Ryb2tlOiAnZnVjaHNpYScsIHN0cm9rZURhc2hhcnJheTogNCwgc3Ryb2tlV2lkdGg6IDIgfSk7XG59XG5cbmluaGVyaXRzKERlZmF1bHRSZW5kZXJlciwgQmFzZVJlbmRlcmVyKTtcblxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbkRlZmF1bHRSZW5kZXJlci5wcm90b3R5cGUuY2FuUmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5EZWZhdWx0UmVuZGVyZXIucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIGRyYXdTaGFwZSh2aXN1YWxzLCBlbGVtZW50LCBhdHRycykge1xuICB2YXIgcmVjdCA9IHN2Z0NyZWF0ZSgncmVjdCcpO1xuXG4gIHN2Z0F0dHIocmVjdCwge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB3aWR0aDogZWxlbWVudC53aWR0aCB8fCAwLFxuICAgIGhlaWdodDogZWxlbWVudC5oZWlnaHQgfHwgMFxuICB9KTtcblxuICBpZiAoaXNGcmFtZUVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICBzdmdBdHRyKHJlY3QsIGFzc2lnbih7fSwgdGhpcy5GUkFNRV9TVFlMRSwgYXR0cnMgfHwge30pKTtcbiAgfSBlbHNlIHtcbiAgICBzdmdBdHRyKHJlY3QsIGFzc2lnbih7fSwgdGhpcy5TSEFQRV9TVFlMRSwgYXR0cnMgfHwge30pKTtcbiAgfVxuXG4gIHN2Z0FwcGVuZCh2aXN1YWxzLCByZWN0KTtcblxuICByZXR1cm4gcmVjdDtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuRGVmYXVsdFJlbmRlcmVyLnByb3RvdHlwZS5kcmF3Q29ubmVjdGlvbiA9IGZ1bmN0aW9uIGRyYXdDb25uZWN0aW9uKHZpc3VhbHMsIGNvbm5lY3Rpb24sIGF0dHJzKSB7XG5cbiAgdmFyIGxpbmUgPSBjcmVhdGVMaW5lKGNvbm5lY3Rpb24ud2F5cG9pbnRzLCBhc3NpZ24oe30sIHRoaXMuQ09OTkVDVElPTl9TVFlMRSwgYXR0cnMgfHwge30pKTtcbiAgc3ZnQXBwZW5kKHZpc3VhbHMsIGxpbmUpO1xuXG4gIHJldHVybiBsaW5lO1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5EZWZhdWx0UmVuZGVyZXIucHJvdG90eXBlLmdldFNoYXBlUGF0aCA9IGZ1bmN0aW9uIGdldFNoYXBlUGF0aChzaGFwZSkge1xuXG4gIHZhciB4ID0gc2hhcGUueCxcbiAgICAgIHkgPSBzaGFwZS55LFxuICAgICAgd2lkdGggPSBzaGFwZS53aWR0aCxcbiAgICAgIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcblxuICB2YXIgc2hhcGVQYXRoID0gW1xuICAgIFsgJ00nLCB4LCB5IF0sXG4gICAgWyAnbCcsIHdpZHRoLCAwIF0sXG4gICAgWyAnbCcsIDAsIGhlaWdodCBdLFxuICAgIFsgJ2wnLCAtd2lkdGgsIDAgXSxcbiAgICBbICd6JyBdXG4gIF07XG5cbiAgcmV0dXJuIGNvbXBvbmVudHNUb1BhdGgoc2hhcGVQYXRoKTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuRGVmYXVsdFJlbmRlcmVyLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uUGF0aCA9IGZ1bmN0aW9uIGdldENvbm5lY3Rpb25QYXRoKGNvbm5lY3Rpb24pIHtcbiAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuXG4gIHZhciBpZHgsIHBvaW50LCBjb25uZWN0aW9uUGF0aCA9IFtdO1xuXG4gIGZvciAoaWR4ID0gMDsgKHBvaW50ID0gd2F5cG9pbnRzW2lkeF0pOyBpZHgrKykge1xuXG4gICAgLy8gdGFrZSBpbnZpc2libGUgZG9ja2luZyBpbnRvIGFjY291bnRcbiAgICAvLyB3aGVuIGNyZWF0aW5nIHRoZSBwYXRoXG4gICAgcG9pbnQgPSBwb2ludC5vcmlnaW5hbCB8fCBwb2ludDtcblxuICAgIGNvbm5lY3Rpb25QYXRoLnB1c2goWyBpZHggPT09IDAgPyAnTScgOiAnTCcsIHBvaW50LngsIHBvaW50LnkgXSk7XG4gIH1cblxuICByZXR1cm4gY29tcG9uZW50c1RvUGF0aChjb25uZWN0aW9uUGF0aCk7XG59O1xuXG5EZWZhdWx0UmVuZGVyZXIuJGluamVjdCA9IFsgJ2V2ZW50QnVzJywgJ3N0eWxlcycgXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/draw/DefaultRenderer.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/draw/Styles.js":
/*!********************************************************!*\
  !*** ../../node_modules/diagram-js/lib/draw/Styles.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Styles)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n\n\n\n/**\n * A component that manages shape styles\n */\nfunction Styles() {\n\n  var defaultTraits = {\n\n    'no-fill': {\n      fill: 'none'\n    },\n    'no-border': {\n      strokeOpacity: 0.0\n    },\n    'no-events': {\n      pointerEvents: 'none'\n    }\n  };\n\n  var self = this;\n\n  /**\n   * Builds a style definition from a className, a list of traits and an object\n   * of additional attributes.\n   *\n   * @param {string} className\n   * @param {string[]} [traits]\n   * @param {Object} [additionalAttrs]\n   *\n   * @return {Object} the style definition\n   */\n  this.cls = function(className, traits, additionalAttrs) {\n    var attrs = this.style(traits, additionalAttrs);\n\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(attrs, { 'class': className });\n  };\n\n  /**\n   * Builds a style definition from a list of traits and an object of additional\n   * attributes.\n   *\n   * @param {string[]} [traits]\n   * @param {Object} additionalAttrs\n   *\n   * @return {Object} the style definition\n   */\n  this.style = function(traits, additionalAttrs) {\n\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(traits) && !additionalAttrs) {\n      additionalAttrs = traits;\n      traits = [];\n    }\n\n    var attrs = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.reduce)(traits, function(attrs, t) {\n      return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(attrs, defaultTraits[t] || {});\n    }, {});\n\n    return additionalAttrs ? (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(attrs, additionalAttrs) : attrs;\n  };\n\n\n  /**\n   * Computes a style definition from a list of traits and an object of\n   * additional attributes, with custom style definition object.\n   *\n   * @param {Object} custom\n   * @param {string[]} [traits]\n   * @param {Object} defaultStyles\n   *\n   * @return {Object} the style definition\n   */\n  this.computeStyle = function(custom, traits, defaultStyles) {\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(traits)) {\n      defaultStyles = traits;\n      traits = [];\n    }\n\n    return self.style(traits || [], (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, defaultStyles, custom || {}));\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvU3R5bGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBSWtCOzs7QUFHbEI7QUFDQTtBQUNBO0FBQ2U7O0FBRWY7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QixhQUFhLFFBQVE7QUFDckI7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBOztBQUVBLFdBQVcsZ0RBQU0sVUFBVSxvQkFBb0I7QUFDL0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7O0FBRUEsU0FBUyxpREFBTztBQUNoQjtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGdEQUFNO0FBQ3RCLGFBQWEsZ0RBQU0sOEJBQThCO0FBQ2pELEtBQUssSUFBSTs7QUFFVCw2QkFBNkIsZ0RBQU07QUFDbkM7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QixhQUFhLFFBQVE7QUFDckI7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBLFNBQVMsaURBQU87QUFDaEI7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxnREFBTSxHQUFHLDZCQUE2QjtBQUMxRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvU3R5bGVzLmpzP2I0OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNBcnJheSxcbiAgYXNzaWduLFxuICByZWR1Y2Vcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbi8qKlxuICogQSBjb21wb25lbnQgdGhhdCBtYW5hZ2VzIHNoYXBlIHN0eWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTdHlsZXMoKSB7XG5cbiAgdmFyIGRlZmF1bHRUcmFpdHMgPSB7XG5cbiAgICAnbm8tZmlsbCc6IHtcbiAgICAgIGZpbGw6ICdub25lJ1xuICAgIH0sXG4gICAgJ25vLWJvcmRlcic6IHtcbiAgICAgIHN0cm9rZU9wYWNpdHk6IDAuMFxuICAgIH0sXG4gICAgJ25vLWV2ZW50cyc6IHtcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICAgIH1cbiAgfTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBhIHN0eWxlIGRlZmluaXRpb24gZnJvbSBhIGNsYXNzTmFtZSwgYSBsaXN0IG9mIHRyYWl0cyBhbmQgYW4gb2JqZWN0XG4gICAqIG9mIGFkZGl0aW9uYWwgYXR0cmlidXRlcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbdHJhaXRzXVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2FkZGl0aW9uYWxBdHRyc11cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgc3R5bGUgZGVmaW5pdGlvblxuICAgKi9cbiAgdGhpcy5jbHMgPSBmdW5jdGlvbihjbGFzc05hbWUsIHRyYWl0cywgYWRkaXRpb25hbEF0dHJzKSB7XG4gICAgdmFyIGF0dHJzID0gdGhpcy5zdHlsZSh0cmFpdHMsIGFkZGl0aW9uYWxBdHRycyk7XG5cbiAgICByZXR1cm4gYXNzaWduKGF0dHJzLCB7ICdjbGFzcyc6IGNsYXNzTmFtZSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQnVpbGRzIGEgc3R5bGUgZGVmaW5pdGlvbiBmcm9tIGEgbGlzdCBvZiB0cmFpdHMgYW5kIGFuIG9iamVjdCBvZiBhZGRpdGlvbmFsXG4gICAqIGF0dHJpYnV0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFt0cmFpdHNdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhZGRpdGlvbmFsQXR0cnNcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgc3R5bGUgZGVmaW5pdGlvblxuICAgKi9cbiAgdGhpcy5zdHlsZSA9IGZ1bmN0aW9uKHRyYWl0cywgYWRkaXRpb25hbEF0dHJzKSB7XG5cbiAgICBpZiAoIWlzQXJyYXkodHJhaXRzKSAmJiAhYWRkaXRpb25hbEF0dHJzKSB7XG4gICAgICBhZGRpdGlvbmFsQXR0cnMgPSB0cmFpdHM7XG4gICAgICB0cmFpdHMgPSBbXTtcbiAgICB9XG5cbiAgICB2YXIgYXR0cnMgPSByZWR1Y2UodHJhaXRzLCBmdW5jdGlvbihhdHRycywgdCkge1xuICAgICAgcmV0dXJuIGFzc2lnbihhdHRycywgZGVmYXVsdFRyYWl0c1t0XSB8fCB7fSk7XG4gICAgfSwge30pO1xuXG4gICAgcmV0dXJuIGFkZGl0aW9uYWxBdHRycyA/IGFzc2lnbihhdHRycywgYWRkaXRpb25hbEF0dHJzKSA6IGF0dHJzO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIENvbXB1dGVzIGEgc3R5bGUgZGVmaW5pdGlvbiBmcm9tIGEgbGlzdCBvZiB0cmFpdHMgYW5kIGFuIG9iamVjdCBvZlxuICAgKiBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMsIHdpdGggY3VzdG9tIHN0eWxlIGRlZmluaXRpb24gb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY3VzdG9tXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFt0cmFpdHNdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0U3R5bGVzXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gdGhlIHN0eWxlIGRlZmluaXRpb25cbiAgICovXG4gIHRoaXMuY29tcHV0ZVN0eWxlID0gZnVuY3Rpb24oY3VzdG9tLCB0cmFpdHMsIGRlZmF1bHRTdHlsZXMpIHtcbiAgICBpZiAoIWlzQXJyYXkodHJhaXRzKSkge1xuICAgICAgZGVmYXVsdFN0eWxlcyA9IHRyYWl0cztcbiAgICAgIHRyYWl0cyA9IFtdO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnN0eWxlKHRyYWl0cyB8fCBbXSwgYXNzaWduKHt9LCBkZWZhdWx0U3R5bGVzLCBjdXN0b20gfHwge30pKTtcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/draw/Styles.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/draw/index.js":
/*!*******************************************************!*\
  !*** ../../node_modules/diagram-js/lib/draw/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _DefaultRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DefaultRenderer */ \"(ssr)/../../node_modules/diagram-js/lib/draw/DefaultRenderer.js\");\n/* harmony import */ var _Styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Styles */ \"(ssr)/../../node_modules/diagram-js/lib/draw/Styles.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'defaultRenderer' ],\n  defaultRenderer: [ 'type', _DefaultRenderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  styles: [ 'type', _Styles__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEO0FBQ2xCOztBQUU5QjtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSw2QkFBNkIsd0RBQWU7QUFDNUMsb0JBQW9CLCtDQUFNO0FBQzFCLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9kcmF3L2luZGV4LmpzPzczYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERlZmF1bHRSZW5kZXJlciBmcm9tICcuL0RlZmF1bHRSZW5kZXJlcic7XG5pbXBvcnQgU3R5bGVzIGZyb20gJy4vU3R5bGVzJztcblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnZGVmYXVsdFJlbmRlcmVyJyBdLFxuICBkZWZhdWx0UmVuZGVyZXI6IFsgJ3R5cGUnLCBEZWZhdWx0UmVuZGVyZXIgXSxcbiAgc3R5bGVzOiBbICd0eXBlJywgU3R5bGVzIF1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/draw/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/change-support/ChangeSupport.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/change-support/ChangeSupport.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChangeSupport)\n/* harmony export */ });\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/../../node_modules/diagram-js/lib/util/Elements.js\");\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../core/GraphicsFactory').default} GraphicsFactory\n */\n\n/**\n * Adds change support to the diagram, including\n *\n * <ul>\n *   <li>redrawing shapes and connections on change</li>\n * </ul>\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n * @param {GraphicsFactory} graphicsFactory\n */\nfunction ChangeSupport(\n    eventBus, canvas, elementRegistry,\n    graphicsFactory) {\n\n\n  // redraw shapes / connections on change\n\n  eventBus.on('element.changed', function(event) {\n\n    var element = event.element;\n\n    // element might have been deleted and replaced by new element with same ID\n    // thus check for parent of element except for root element\n    if (element.parent || element === canvas.getRootElement()) {\n      event.gfx = elementRegistry.getGraphics(element);\n    }\n\n    // shape + gfx may have been deleted\n    if (!event.gfx) {\n      return;\n    }\n\n    eventBus.fire((0,_util_Elements__WEBPACK_IMPORTED_MODULE_0__.getType)(element) + '.changed', event);\n  });\n\n  eventBus.on('elements.changed', function(event) {\n\n    var elements = event.elements;\n\n    elements.forEach(function(e) {\n      eventBus.fire('element.changed', { element: e });\n    });\n\n    graphicsFactory.updateContainments(elements);\n  });\n\n  eventBus.on('shape.changed', function(event) {\n    graphicsFactory.update('shape', event.element, event.gfx);\n  });\n\n  eventBus.on('connection.changed', function(event) {\n    graphicsFactory.update('connection', event.element, event.gfx);\n  });\n}\n\nChangeSupport.$inject = [\n  'eventBus',\n  'canvas',\n  'elementRegistry',\n  'graphicsFactory'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NoYW5nZS1zdXBwb3J0L0NoYW5nZVN1cHBvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSw4Q0FBOEM7QUFDM0QsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSw4Q0FBOEM7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ2U7QUFDZjtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQix1REFBYztBQUNoQyxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0EseUNBQXlDLFlBQVk7QUFDckQsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWFkZHJhLXdlYi8uLi8uLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2hhbmdlLXN1cHBvcnQvQ2hhbmdlU3VwcG9ydC5qcz9hODk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldFR5cGUgYXMgZ2V0RWxlbWVudFR5cGVcbn0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRWxlbWVudFJlZ2lzdHJ5JykuZGVmYXVsdH0gRWxlbWVudFJlZ2lzdHJ5XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvR3JhcGhpY3NGYWN0b3J5JykuZGVmYXVsdH0gR3JhcGhpY3NGYWN0b3J5XG4gKi9cblxuLyoqXG4gKiBBZGRzIGNoYW5nZSBzdXBwb3J0IHRvIHRoZSBkaWFncmFtLCBpbmNsdWRpbmdcbiAqXG4gKiA8dWw+XG4gKiAgIDxsaT5yZWRyYXdpbmcgc2hhcGVzIGFuZCBjb25uZWN0aW9ucyBvbiBjaGFuZ2U8L2xpPlxuICogPC91bD5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICogQHBhcmFtIHtHcmFwaGljc0ZhY3Rvcnl9IGdyYXBoaWNzRmFjdG9yeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGFuZ2VTdXBwb3J0KFxuICAgIGV2ZW50QnVzLCBjYW52YXMsIGVsZW1lbnRSZWdpc3RyeSxcbiAgICBncmFwaGljc0ZhY3RvcnkpIHtcblxuXG4gIC8vIHJlZHJhdyBzaGFwZXMgLyBjb25uZWN0aW9ucyBvbiBjaGFuZ2VcblxuICBldmVudEJ1cy5vbignZWxlbWVudC5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudDtcblxuICAgIC8vIGVsZW1lbnQgbWlnaHQgaGF2ZSBiZWVuIGRlbGV0ZWQgYW5kIHJlcGxhY2VkIGJ5IG5ldyBlbGVtZW50IHdpdGggc2FtZSBJRFxuICAgIC8vIHRodXMgY2hlY2sgZm9yIHBhcmVudCBvZiBlbGVtZW50IGV4Y2VwdCBmb3Igcm9vdCBlbGVtZW50XG4gICAgaWYgKGVsZW1lbnQucGFyZW50IHx8IGVsZW1lbnQgPT09IGNhbnZhcy5nZXRSb290RWxlbWVudCgpKSB7XG4gICAgICBldmVudC5nZnggPSBlbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gc2hhcGUgKyBnZnggbWF5IGhhdmUgYmVlbiBkZWxldGVkXG4gICAgaWYgKCFldmVudC5nZngpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldmVudEJ1cy5maXJlKGdldEVsZW1lbnRUeXBlKGVsZW1lbnQpICsgJy5jaGFuZ2VkJywgZXZlbnQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignZWxlbWVudHMuY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgZWxlbWVudHMgPSBldmVudC5lbGVtZW50cztcblxuICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZSkge1xuICAgICAgZXZlbnRCdXMuZmlyZSgnZWxlbWVudC5jaGFuZ2VkJywgeyBlbGVtZW50OiBlIH0pO1xuICAgIH0pO1xuXG4gICAgZ3JhcGhpY3NGYWN0b3J5LnVwZGF0ZUNvbnRhaW5tZW50cyhlbGVtZW50cyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBncmFwaGljc0ZhY3RvcnkudXBkYXRlKCdzaGFwZScsIGV2ZW50LmVsZW1lbnQsIGV2ZW50LmdmeCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uLmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGdyYXBoaWNzRmFjdG9yeS51cGRhdGUoJ2Nvbm5lY3Rpb24nLCBldmVudC5lbGVtZW50LCBldmVudC5nZngpO1xuICB9KTtcbn1cblxuQ2hhbmdlU3VwcG9ydC4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICdncmFwaGljc0ZhY3RvcnknXG5dOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/change-support/ChangeSupport.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/change-support/index.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/change-support/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ChangeSupport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChangeSupport */ \"(ssr)/../../node_modules/diagram-js/lib/features/change-support/ChangeSupport.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'changeSupport' ],\n  changeSupport: [ 'type', _ChangeSupport__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NoYW5nZS1zdXBwb3J0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDOzs7QUFHNUM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0EsMkJBQTJCLHNEQUFhO0FBQ3hDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWFkZHJhLXdlYi8uLi8uLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2hhbmdlLXN1cHBvcnQvaW5kZXguanM/NmE0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2hhbmdlU3VwcG9ydCBmcm9tICcuL0NoYW5nZVN1cHBvcnQnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ2NoYW5nZVN1cHBvcnQnIF0sXG4gIGNoYW5nZVN1cHBvcnQ6IFsgJ3R5cGUnLCBDaGFuZ2VTdXBwb3J0IF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/change-support/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js":
/*!******************************************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ InteractionEvents)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"(ssr)/../../node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_Mouse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Mouse */ \"(ssr)/../../node_modules/diagram-js/lib/util/Mouse.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/../../node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_RenderUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/RenderUtil */ \"(ssr)/../../node_modules/diagram-js/lib/util/RenderUtil.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../draw/Styles').default} Styles\n *\n * @typedef {import('../../util/Types').Point} Point\n */\n\nfunction allowAll(event) { return true; }\n\nfunction allowPrimaryAndAuxiliary(event) {\n  return (0,_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.isPrimaryButton)(event) || (0,_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.isAuxiliaryButton)(event);\n}\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * A plugin that provides interaction events for diagram elements.\n *\n * It emits the following events:\n *\n *   * element.click\n *   * element.contextmenu\n *   * element.dblclick\n *   * element.hover\n *   * element.mousedown\n *   * element.mousemove\n *   * element.mouseup\n *   * element.out\n *\n * Each event is a tuple { element, gfx, originalEvent }.\n *\n * Canceling the event via Event#preventDefault()\n * prevents the original DOM operation.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Styles} styles\n */\nfunction InteractionEvents(eventBus, elementRegistry, styles) {\n\n  var self = this;\n\n  /**\n   * Fire an interaction event.\n   *\n   * @param {string} type local event name, e.g. element.click.\n   * @param {MouseEvent|TouchEvent} event native event\n   * @param {Element} [element] the diagram element to emit the event on;\n   *                                   defaults to the event target\n   */\n  function fire(type, event, element) {\n\n    if (isIgnored(type, event)) {\n      return;\n    }\n\n    var target, gfx, returnValue;\n\n    if (!element) {\n      target = event.delegateTarget || event.target;\n\n      if (target) {\n        gfx = target;\n        element = elementRegistry.get(gfx);\n      }\n    } else {\n      gfx = elementRegistry.getGraphics(element);\n    }\n\n    if (!gfx || !element) {\n      return;\n    }\n\n    returnValue = eventBus.fire(type, {\n      element: element,\n      gfx: gfx,\n      originalEvent: event\n    });\n\n    if (returnValue === false) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  // TODO(nikku): document this\n  var handlers = {};\n\n  function mouseHandler(localEventName) {\n    return handlers[localEventName];\n  }\n\n  function isIgnored(localEventName, event) {\n\n    var filter = ignoredFilters[localEventName] || _util_Mouse__WEBPACK_IMPORTED_MODULE_0__.isPrimaryButton;\n\n    // only react on left mouse button interactions\n    // except for interaction events that are enabled\n    // for secundary mouse button\n    return !filter(event);\n  }\n\n  var bindings = {\n    click: 'element.click',\n    contextmenu: 'element.contextmenu',\n    dblclick: 'element.dblclick',\n    mousedown: 'element.mousedown',\n    mousemove: 'element.mousemove',\n    mouseover: 'element.hover',\n    mouseout: 'element.out',\n    mouseup: 'element.mouseup',\n  };\n\n  var ignoredFilters = {\n    'element.contextmenu': allowAll,\n    'element.mousedown': allowPrimaryAndAuxiliary,\n    'element.mouseup': allowPrimaryAndAuxiliary,\n    'element.click': allowPrimaryAndAuxiliary,\n    'element.dblclick': allowPrimaryAndAuxiliary\n  };\n\n\n  // manual event trigger //////////\n\n  /**\n   * Trigger an interaction event (based on a native dom event)\n   * on the target shape or connection.\n   *\n   * @param {string} eventName the name of the triggered DOM event\n   * @param {MouseEvent|TouchEvent} event\n   * @param {Element} targetElement\n   */\n  function triggerMouseEvent(eventName, event, targetElement) {\n\n    // i.e. element.mousedown...\n    var localEventName = bindings[eventName];\n\n    if (!localEventName) {\n      throw new Error('unmapped DOM event name <' + eventName + '>');\n    }\n\n    return fire(localEventName, event, targetElement);\n  }\n\n\n  var ELEMENT_SELECTOR = 'svg, .djs-element';\n\n  // event handling ///////\n\n  function registerEvent(node, event, localEvent, ignoredFilter) {\n\n    var handler = handlers[localEvent] = function(event) {\n      fire(localEvent, event);\n    };\n\n    if (ignoredFilter) {\n      ignoredFilters[localEvent] = ignoredFilter;\n    }\n\n    handler.$delegate = min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(node, ELEMENT_SELECTOR, event, handler);\n  }\n\n  function unregisterEvent(node, event, localEvent) {\n\n    var handler = mouseHandler(localEvent);\n\n    if (!handler) {\n      return;\n    }\n\n    min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.unbind(node, event, handler.$delegate);\n  }\n\n  function registerEvents(svg) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(bindings, function(val, key) {\n      registerEvent(svg, key, val);\n    });\n  }\n\n  function unregisterEvents(svg) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(bindings, function(val, key) {\n      unregisterEvent(svg, key, val);\n    });\n  }\n\n  eventBus.on('canvas.destroy', function(event) {\n    unregisterEvents(event.svg);\n  });\n\n  eventBus.on('canvas.init', function(event) {\n    registerEvents(event.svg);\n  });\n\n\n  // hit box updating ////////////////\n\n  eventBus.on([ 'shape.added', 'connection.added' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.createHit', { element: element, gfx: gfx });\n  });\n\n  // Update djs-hit on change.\n  // A low priortity is necessary, because djs-hit of labels has to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([\n    'shape.changed',\n    'connection.changed'\n  ], LOW_PRIORITY, function(event) {\n\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.updateHit', { element: element, gfx: gfx });\n  });\n\n  eventBus.on('interactionEvents.createHit', LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.createDefaultHit(element, gfx);\n  });\n\n  eventBus.on('interactionEvents.updateHit', function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.updateDefaultHit(element, gfx);\n  });\n\n\n  // hit styles ////////////\n\n  var STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-stroke');\n\n  var CLICK_STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-click-stroke');\n\n  var ALL_HIT_STYLE = createHitStyle('djs-hit djs-hit-all');\n\n  var NO_MOVE_HIT_STYLE = createHitStyle('djs-hit djs-hit-no-move');\n\n  var HIT_TYPES = {\n    'all': ALL_HIT_STYLE,\n    'click-stroke': CLICK_STROKE_HIT_STYLE,\n    'stroke': STROKE_HIT_STYLE,\n    'no-move': NO_MOVE_HIT_STYLE\n  };\n\n  function createHitStyle(classNames, attrs) {\n\n    attrs = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)({\n      stroke: 'white',\n      strokeWidth: 15\n    }, attrs || {});\n\n    return styles.cls(classNames, [ 'no-fill', 'no-border' ], attrs);\n  }\n\n\n  // style helpers ///////////////\n\n  function applyStyle(hit, type) {\n\n    var attrs = HIT_TYPES[type];\n\n    if (!attrs) {\n      throw new Error('invalid hit type <' + type + '>');\n    }\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.attr)(hit, attrs);\n\n    return hit;\n  }\n\n  function appendHit(gfx, hit) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.append)(gfx, hit);\n  }\n\n\n  // API\n\n  /**\n   * Remove hints on the given graphics.\n   *\n   * @param {SVGElement} gfx\n   */\n  this.removeHits = function(gfx) {\n    var hits = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.queryAll)('.djs-hit', gfx);\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(hits, tiny_svg__WEBPACK_IMPORTED_MODULE_3__.remove);\n  };\n\n  /**\n   * Create default hit for the given element.\n   *\n   * @param {Element} element\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} created hit\n   */\n  this.createDefaultHit = function(element, gfx) {\n    var waypoints = element.waypoints,\n        isFrame = element.isFrame,\n        boxType;\n\n    if (waypoints) {\n      return this.createWaypointsHit(gfx, waypoints);\n    } else {\n\n      boxType = isFrame ? 'stroke' : 'all';\n\n      return this.createBoxHit(gfx, boxType, {\n        width: element.width,\n        height: element.height\n      });\n    }\n  };\n\n  /**\n   * Create hits for the given waypoints.\n   *\n   * @param {SVGElement} gfx\n   * @param {Point[]} waypoints\n   *\n   * @return {SVGElement}\n   */\n  this.createWaypointsHit = function(gfx, waypoints) {\n\n    var hit = (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_4__.createLine)(waypoints);\n\n    applyStyle(hit, 'stroke');\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Create hits for a box.\n   *\n   * @param {SVGElement} gfx\n   * @param {string} type\n   * @param {Object} attrs\n   *\n   * @return {SVGElement}\n   */\n  this.createBoxHit = function(gfx, type, attrs) {\n\n    attrs = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)({\n      x: 0,\n      y: 0\n    }, attrs);\n\n    var hit = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.create)('rect');\n\n    applyStyle(hit, type);\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.attr)(hit, attrs);\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Update default hit of the element.\n   *\n   * @param {Element} element\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} updated hit\n   */\n  this.updateDefaultHit = function(element, gfx) {\n\n    var hit = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.query)('.djs-hit', gfx);\n\n    if (!hit) {\n      return;\n    }\n\n    if (element.waypoints) {\n      (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_4__.updateLine)(hit, element.waypoints);\n    } else {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.attr)(hit, {\n        width: element.width,\n        height: element.height\n      });\n    }\n\n    return hit;\n  };\n\n  this.fire = fire;\n\n  this.triggerMouseEvent = triggerMouseEvent;\n\n  this.mouseHandler = mouseHandler;\n\n  this.registerEvent = registerEvent;\n  this.unregisterEvent = unregisterEvent;\n}\n\n\nInteractionEvents.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'styles'\n];\n\n\n/**\n * An event indicating that the mouse hovered over an element\n *\n * @event element.hover\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has left an element\n *\n * @event element.out\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has clicked an element\n *\n * @event element.click\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has double clicked an element\n *\n * @event element.dblclick\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone down on an element.\n *\n * @event element.mousedown\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone up on an element.\n *\n * @event element.mouseup\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the context menu action is triggered\n * via mouse or touch controls.\n *\n * @event element.contextmenu\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2ludGVyYWN0aW9uLWV2ZW50cy9JbnRlcmFjdGlvbkV2ZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFHa0I7O0FBTUQ7O0FBS1M7O0FBT1I7O0FBS2E7O0FBRS9CO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQSxhQUFhLDhDQUE4QztBQUMzRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEsa0NBQWtDO0FBQy9DOztBQUVBLDJCQUEyQjs7QUFFM0I7QUFDQSxTQUFTLDREQUFlLFdBQVcsOERBQWlCO0FBQ3BEOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDZCQUE2QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFFBQVE7QUFDbkI7QUFDZTs7QUFFZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSx1QkFBdUI7QUFDcEMsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxtREFBbUQsd0RBQWU7O0FBRWxFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsdUJBQXVCO0FBQ3BDLGFBQWEsU0FBUztBQUN0QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLDZDQUFXO0FBQ25DOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLDZDQUFXO0FBQ2Y7O0FBRUE7QUFDQSxJQUFJLGlEQUFPO0FBQ1g7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxJQUFJLGlEQUFPO0FBQ1g7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7OztBQUdIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtREFBbUQsNEJBQTRCO0FBQy9FLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxtREFBbUQsNEJBQTRCO0FBQy9FLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsWUFBWSxnREFBTTtBQUNsQjtBQUNBO0FBQ0EsS0FBSyxhQUFhOztBQUVsQjtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSSw4Q0FBTzs7QUFFWDtBQUNBOztBQUVBO0FBQ0EsSUFBSSxnREFBUztBQUNiOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFlBQVk7QUFDekI7QUFDQTtBQUNBLGVBQWUsaURBQVc7O0FBRTFCLElBQUksaURBQU8sT0FBTyw0Q0FBUztBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEIsYUFBYSxZQUFZO0FBQ3pCO0FBQ0EsY0FBYyxZQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07O0FBRU47O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxZQUFZO0FBQ3pCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBLGNBQWMsNERBQVU7O0FBRXhCOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxZQUFZO0FBQ3pCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQSxZQUFZLGdEQUFNO0FBQ2xCO0FBQ0E7QUFDQSxLQUFLOztBQUVMLGNBQWMsZ0RBQVM7O0FBRXZCOztBQUVBLElBQUksOENBQU87O0FBRVg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEIsYUFBYSxZQUFZO0FBQ3pCO0FBQ0EsY0FBYyxZQUFZO0FBQzFCO0FBQ0E7O0FBRUEsY0FBYyw4Q0FBUTs7QUFFdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSw0REFBVTtBQUNoQixNQUFNO0FBQ04sTUFBTSw4Q0FBTztBQUNiO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsWUFBWTtBQUMxQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixjQUFjLFNBQVM7QUFDdkIsY0FBYyxZQUFZO0FBQzFCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLGNBQWMsU0FBUztBQUN2QixjQUFjLFlBQVk7QUFDMUIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsWUFBWTtBQUMxQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixjQUFjLFNBQVM7QUFDdkIsY0FBYyxZQUFZO0FBQzFCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLGNBQWMsU0FBUztBQUN2QixjQUFjLFlBQVk7QUFDMUIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixjQUFjLFNBQVM7QUFDdkIsY0FBYyxZQUFZO0FBQzFCLGNBQWMsT0FBTztBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9pbnRlcmFjdGlvbi1ldmVudHMvSW50ZXJhY3Rpb25FdmVudHMuanM/NjNhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmb3JFYWNoLFxuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBkZWxlZ2F0ZSBhcyBkb21EZWxlZ2F0ZSxcbiAgcXVlcnkgYXMgZG9tUXVlcnksXG4gIHF1ZXJ5QWxsIGFzIGRvbVF1ZXJ5QWxsXG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBpc1ByaW1hcnlCdXR0b24sXG4gIGlzQXV4aWxpYXJ5QnV0dG9uXG59IGZyb20gJy4uLy4uL3V0aWwvTW91c2UnO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGUsXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICBjcmVhdGVMaW5lLFxuICB1cGRhdGVMaW5lXG59IGZyb20gJy4uLy4uL3V0aWwvUmVuZGVyVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FbGVtZW50UmVnaXN0cnknKS5kZWZhdWx0fSBFbGVtZW50UmVnaXN0cnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vZHJhdy9TdHlsZXMnKS5kZWZhdWx0fSBTdHlsZXNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKi9cblxuZnVuY3Rpb24gYWxsb3dBbGwoZXZlbnQpIHsgcmV0dXJuIHRydWU7IH1cblxuZnVuY3Rpb24gYWxsb3dQcmltYXJ5QW5kQXV4aWxpYXJ5KGV2ZW50KSB7XG4gIHJldHVybiBpc1ByaW1hcnlCdXR0b24oZXZlbnQpIHx8IGlzQXV4aWxpYXJ5QnV0dG9uKGV2ZW50KTtcbn1cblxudmFyIExPV19QUklPUklUWSA9IDUwMDtcblxuXG4vKipcbiAqIEEgcGx1Z2luIHRoYXQgcHJvdmlkZXMgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciBkaWFncmFtIGVsZW1lbnRzLlxuICpcbiAqIEl0IGVtaXRzIHRoZSBmb2xsb3dpbmcgZXZlbnRzOlxuICpcbiAqICAgKiBlbGVtZW50LmNsaWNrXG4gKiAgICogZWxlbWVudC5jb250ZXh0bWVudVxuICogICAqIGVsZW1lbnQuZGJsY2xpY2tcbiAqICAgKiBlbGVtZW50LmhvdmVyXG4gKiAgICogZWxlbWVudC5tb3VzZWRvd25cbiAqICAgKiBlbGVtZW50Lm1vdXNlbW92ZVxuICogICAqIGVsZW1lbnQubW91c2V1cFxuICogICAqIGVsZW1lbnQub3V0XG4gKlxuICogRWFjaCBldmVudCBpcyBhIHR1cGxlIHsgZWxlbWVudCwgZ2Z4LCBvcmlnaW5hbEV2ZW50IH0uXG4gKlxuICogQ2FuY2VsaW5nIHRoZSBldmVudCB2aWEgRXZlbnQjcHJldmVudERlZmF1bHQoKVxuICogcHJldmVudHMgdGhlIG9yaWdpbmFsIERPTSBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqIEBwYXJhbSB7U3R5bGVzfSBzdHlsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW50ZXJhY3Rpb25FdmVudHMoZXZlbnRCdXMsIGVsZW1lbnRSZWdpc3RyeSwgc3R5bGVzKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8qKlxuICAgKiBGaXJlIGFuIGludGVyYWN0aW9uIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBsb2NhbCBldmVudCBuYW1lLCBlLmcuIGVsZW1lbnQuY2xpY2suXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBldmVudCBuYXRpdmUgZXZlbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBbZWxlbWVudF0gdGhlIGRpYWdyYW0gZWxlbWVudCB0byBlbWl0IHRoZSBldmVudCBvbjtcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRzIHRvIHRoZSBldmVudCB0YXJnZXRcbiAgICovXG4gIGZ1bmN0aW9uIGZpcmUodHlwZSwgZXZlbnQsIGVsZW1lbnQpIHtcblxuICAgIGlmIChpc0lnbm9yZWQodHlwZSwgZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldCwgZ2Z4LCByZXR1cm5WYWx1ZTtcblxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgdGFyZ2V0ID0gZXZlbnQuZGVsZWdhdGVUYXJnZXQgfHwgZXZlbnQudGFyZ2V0O1xuXG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGdmeCA9IHRhcmdldDtcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRSZWdpc3RyeS5nZXQoZ2Z4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZ2Z4ID0gZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmICghZ2Z4IHx8ICFlbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuVmFsdWUgPSBldmVudEJ1cy5maXJlKHR5cGUsIHtcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBnZng6IGdmeCxcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50XG4gICAgfSk7XG5cbiAgICBpZiAocmV0dXJuVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETyhuaWtrdSk6IGRvY3VtZW50IHRoaXNcbiAgdmFyIGhhbmRsZXJzID0ge307XG5cbiAgZnVuY3Rpb24gbW91c2VIYW5kbGVyKGxvY2FsRXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGhhbmRsZXJzW2xvY2FsRXZlbnROYW1lXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSWdub3JlZChsb2NhbEV2ZW50TmFtZSwgZXZlbnQpIHtcblxuICAgIHZhciBmaWx0ZXIgPSBpZ25vcmVkRmlsdGVyc1tsb2NhbEV2ZW50TmFtZV0gfHwgaXNQcmltYXJ5QnV0dG9uO1xuXG4gICAgLy8gb25seSByZWFjdCBvbiBsZWZ0IG1vdXNlIGJ1dHRvbiBpbnRlcmFjdGlvbnNcbiAgICAvLyBleGNlcHQgZm9yIGludGVyYWN0aW9uIGV2ZW50cyB0aGF0IGFyZSBlbmFibGVkXG4gICAgLy8gZm9yIHNlY3VuZGFyeSBtb3VzZSBidXR0b25cbiAgICByZXR1cm4gIWZpbHRlcihldmVudCk7XG4gIH1cblxuICB2YXIgYmluZGluZ3MgPSB7XG4gICAgY2xpY2s6ICdlbGVtZW50LmNsaWNrJyxcbiAgICBjb250ZXh0bWVudTogJ2VsZW1lbnQuY29udGV4dG1lbnUnLFxuICAgIGRibGNsaWNrOiAnZWxlbWVudC5kYmxjbGljaycsXG4gICAgbW91c2Vkb3duOiAnZWxlbWVudC5tb3VzZWRvd24nLFxuICAgIG1vdXNlbW92ZTogJ2VsZW1lbnQubW91c2Vtb3ZlJyxcbiAgICBtb3VzZW92ZXI6ICdlbGVtZW50LmhvdmVyJyxcbiAgICBtb3VzZW91dDogJ2VsZW1lbnQub3V0JyxcbiAgICBtb3VzZXVwOiAnZWxlbWVudC5tb3VzZXVwJyxcbiAgfTtcblxuICB2YXIgaWdub3JlZEZpbHRlcnMgPSB7XG4gICAgJ2VsZW1lbnQuY29udGV4dG1lbnUnOiBhbGxvd0FsbCxcbiAgICAnZWxlbWVudC5tb3VzZWRvd24nOiBhbGxvd1ByaW1hcnlBbmRBdXhpbGlhcnksXG4gICAgJ2VsZW1lbnQubW91c2V1cCc6IGFsbG93UHJpbWFyeUFuZEF1eGlsaWFyeSxcbiAgICAnZWxlbWVudC5jbGljayc6IGFsbG93UHJpbWFyeUFuZEF1eGlsaWFyeSxcbiAgICAnZWxlbWVudC5kYmxjbGljayc6IGFsbG93UHJpbWFyeUFuZEF1eGlsaWFyeVxuICB9O1xuXG5cbiAgLy8gbWFudWFsIGV2ZW50IHRyaWdnZXIgLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIGFuIGludGVyYWN0aW9uIGV2ZW50IChiYXNlZCBvbiBhIG5hdGl2ZSBkb20gZXZlbnQpXG4gICAqIG9uIHRoZSB0YXJnZXQgc2hhcGUgb3IgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSB0aGUgbmFtZSBvZiB0aGUgdHJpZ2dlcmVkIERPTSBldmVudFxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR8VG91Y2hFdmVudH0gZXZlbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXRFbGVtZW50XG4gICAqL1xuICBmdW5jdGlvbiB0cmlnZ2VyTW91c2VFdmVudChldmVudE5hbWUsIGV2ZW50LCB0YXJnZXRFbGVtZW50KSB7XG5cbiAgICAvLyBpLmUuIGVsZW1lbnQubW91c2Vkb3duLi4uXG4gICAgdmFyIGxvY2FsRXZlbnROYW1lID0gYmluZGluZ3NbZXZlbnROYW1lXTtcblxuICAgIGlmICghbG9jYWxFdmVudE5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndW5tYXBwZWQgRE9NIGV2ZW50IG5hbWUgPCcgKyBldmVudE5hbWUgKyAnPicpO1xuICAgIH1cblxuICAgIHJldHVybiBmaXJlKGxvY2FsRXZlbnROYW1lLCBldmVudCwgdGFyZ2V0RWxlbWVudCk7XG4gIH1cblxuXG4gIHZhciBFTEVNRU5UX1NFTEVDVE9SID0gJ3N2ZywgLmRqcy1lbGVtZW50JztcblxuICAvLyBldmVudCBoYW5kbGluZyAvLy8vLy8vXG5cbiAgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudChub2RlLCBldmVudCwgbG9jYWxFdmVudCwgaWdub3JlZEZpbHRlcikge1xuXG4gICAgdmFyIGhhbmRsZXIgPSBoYW5kbGVyc1tsb2NhbEV2ZW50XSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBmaXJlKGxvY2FsRXZlbnQsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgaWYgKGlnbm9yZWRGaWx0ZXIpIHtcbiAgICAgIGlnbm9yZWRGaWx0ZXJzW2xvY2FsRXZlbnRdID0gaWdub3JlZEZpbHRlcjtcbiAgICB9XG5cbiAgICBoYW5kbGVyLiRkZWxlZ2F0ZSA9IGRvbURlbGVnYXRlLmJpbmQobm9kZSwgRUxFTUVOVF9TRUxFQ1RPUiwgZXZlbnQsIGhhbmRsZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5yZWdpc3RlckV2ZW50KG5vZGUsIGV2ZW50LCBsb2NhbEV2ZW50KSB7XG5cbiAgICB2YXIgaGFuZGxlciA9IG1vdXNlSGFuZGxlcihsb2NhbEV2ZW50KTtcblxuICAgIGlmICghaGFuZGxlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRvbURlbGVnYXRlLnVuYmluZChub2RlLCBldmVudCwgaGFuZGxlci4kZGVsZWdhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudHMoc3ZnKSB7XG4gICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICAgIHJlZ2lzdGVyRXZlbnQoc3ZnLCBrZXksIHZhbCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyRXZlbnRzKHN2Zykge1xuICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgICB1bnJlZ2lzdGVyRXZlbnQoc3ZnLCBrZXksIHZhbCk7XG4gICAgfSk7XG4gIH1cblxuICBldmVudEJ1cy5vbignY2FudmFzLmRlc3Ryb3knLCBmdW5jdGlvbihldmVudCkge1xuICAgIHVucmVnaXN0ZXJFdmVudHMoZXZlbnQuc3ZnKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2NhbnZhcy5pbml0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZWdpc3RlckV2ZW50cyhldmVudC5zdmcpO1xuICB9KTtcblxuXG4gIC8vIGhpdCBib3ggdXBkYXRpbmcgLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGV2ZW50QnVzLm9uKFsgJ3NoYXBlLmFkZGVkJywgJ2Nvbm5lY3Rpb24uYWRkZWQnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICBnZnggPSBldmVudC5nZng7XG5cbiAgICBldmVudEJ1cy5maXJlKCdpbnRlcmFjdGlvbkV2ZW50cy5jcmVhdGVIaXQnLCB7IGVsZW1lbnQ6IGVsZW1lbnQsIGdmeDogZ2Z4IH0pO1xuICB9KTtcblxuICAvLyBVcGRhdGUgZGpzLWhpdCBvbiBjaGFuZ2UuXG4gIC8vIEEgbG93IHByaW9ydGl0eSBpcyBuZWNlc3NhcnksIGJlY2F1c2UgZGpzLWhpdCBvZiBsYWJlbHMgaGFzIHRvIGJlIHVwZGF0ZWRcbiAgLy8gYWZ0ZXIgdGhlIGxhYmVsIGJvdW5kcyBoYXZlIGJlZW4gdXBkYXRlZCBpbiB0aGUgcmVuZGVyZXIuXG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnc2hhcGUuY2hhbmdlZCcsXG4gICAgJ2Nvbm5lY3Rpb24uY2hhbmdlZCdcbiAgXSwgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICBnZnggPSBldmVudC5nZng7XG5cbiAgICBldmVudEJ1cy5maXJlKCdpbnRlcmFjdGlvbkV2ZW50cy51cGRhdGVIaXQnLCB7IGVsZW1lbnQ6IGVsZW1lbnQsIGdmeDogZ2Z4IH0pO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignaW50ZXJhY3Rpb25FdmVudHMuY3JlYXRlSGl0JywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudCxcbiAgICAgICAgZ2Z4ID0gZXZlbnQuZ2Z4O1xuXG4gICAgc2VsZi5jcmVhdGVEZWZhdWx0SGl0KGVsZW1lbnQsIGdmeCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdpbnRlcmFjdGlvbkV2ZW50cy51cGRhdGVIaXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudCxcbiAgICAgICAgZ2Z4ID0gZXZlbnQuZ2Z4O1xuXG4gICAgc2VsZi51cGRhdGVEZWZhdWx0SGl0KGVsZW1lbnQsIGdmeCk7XG4gIH0pO1xuXG5cbiAgLy8gaGl0IHN0eWxlcyAvLy8vLy8vLy8vLy9cblxuICB2YXIgU1RST0tFX0hJVF9TVFlMRSA9IGNyZWF0ZUhpdFN0eWxlKCdkanMtaGl0IGRqcy1oaXQtc3Ryb2tlJyk7XG5cbiAgdmFyIENMSUNLX1NUUk9LRV9ISVRfU1RZTEUgPSBjcmVhdGVIaXRTdHlsZSgnZGpzLWhpdCBkanMtaGl0LWNsaWNrLXN0cm9rZScpO1xuXG4gIHZhciBBTExfSElUX1NUWUxFID0gY3JlYXRlSGl0U3R5bGUoJ2Rqcy1oaXQgZGpzLWhpdC1hbGwnKTtcblxuICB2YXIgTk9fTU9WRV9ISVRfU1RZTEUgPSBjcmVhdGVIaXRTdHlsZSgnZGpzLWhpdCBkanMtaGl0LW5vLW1vdmUnKTtcblxuICB2YXIgSElUX1RZUEVTID0ge1xuICAgICdhbGwnOiBBTExfSElUX1NUWUxFLFxuICAgICdjbGljay1zdHJva2UnOiBDTElDS19TVFJPS0VfSElUX1NUWUxFLFxuICAgICdzdHJva2UnOiBTVFJPS0VfSElUX1NUWUxFLFxuICAgICduby1tb3ZlJzogTk9fTU9WRV9ISVRfU1RZTEVcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVIaXRTdHlsZShjbGFzc05hbWVzLCBhdHRycykge1xuXG4gICAgYXR0cnMgPSBhc3NpZ24oe1xuICAgICAgc3Ryb2tlOiAnd2hpdGUnLFxuICAgICAgc3Ryb2tlV2lkdGg6IDE1XG4gICAgfSwgYXR0cnMgfHwge30pO1xuXG4gICAgcmV0dXJuIHN0eWxlcy5jbHMoY2xhc3NOYW1lcywgWyAnbm8tZmlsbCcsICduby1ib3JkZXInIF0sIGF0dHJzKTtcbiAgfVxuXG5cbiAgLy8gc3R5bGUgaGVscGVycyAvLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiBhcHBseVN0eWxlKGhpdCwgdHlwZSkge1xuXG4gICAgdmFyIGF0dHJzID0gSElUX1RZUEVTW3R5cGVdO1xuXG4gICAgaWYgKCFhdHRycykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGhpdCB0eXBlIDwnICsgdHlwZSArICc+Jyk7XG4gICAgfVxuXG4gICAgc3ZnQXR0cihoaXQsIGF0dHJzKTtcblxuICAgIHJldHVybiBoaXQ7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRIaXQoZ2Z4LCBoaXQpIHtcbiAgICBzdmdBcHBlbmQoZ2Z4LCBoaXQpO1xuICB9XG5cblxuICAvLyBBUElcblxuICAvKipcbiAgICogUmVtb3ZlIGhpbnRzIG9uIHRoZSBnaXZlbiBncmFwaGljcy5cbiAgICpcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcbiAgICovXG4gIHRoaXMucmVtb3ZlSGl0cyA9IGZ1bmN0aW9uKGdmeCkge1xuICAgIHZhciBoaXRzID0gZG9tUXVlcnlBbGwoJy5kanMtaGl0JywgZ2Z4KTtcblxuICAgIGZvckVhY2goaGl0cywgc3ZnUmVtb3ZlKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGRlZmF1bHQgaGl0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XG4gICAqXG4gICAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IGNyZWF0ZWQgaGl0XG4gICAqL1xuICB0aGlzLmNyZWF0ZURlZmF1bHRIaXQgPSBmdW5jdGlvbihlbGVtZW50LCBnZngpIHtcbiAgICB2YXIgd2F5cG9pbnRzID0gZWxlbWVudC53YXlwb2ludHMsXG4gICAgICAgIGlzRnJhbWUgPSBlbGVtZW50LmlzRnJhbWUsXG4gICAgICAgIGJveFR5cGU7XG5cbiAgICBpZiAod2F5cG9pbnRzKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVXYXlwb2ludHNIaXQoZ2Z4LCB3YXlwb2ludHMpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIGJveFR5cGUgPSBpc0ZyYW1lID8gJ3N0cm9rZScgOiAnYWxsJztcblxuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQm94SGl0KGdmeCwgYm94VHlwZSwge1xuICAgICAgICB3aWR0aDogZWxlbWVudC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBlbGVtZW50LmhlaWdodFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgaGl0cyBmb3IgdGhlIGdpdmVuIHdheXBvaW50cy5cbiAgICpcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcbiAgICogQHBhcmFtIHtQb2ludFtdfSB3YXlwb2ludHNcbiAgICpcbiAgICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAgICovXG4gIHRoaXMuY3JlYXRlV2F5cG9pbnRzSGl0ID0gZnVuY3Rpb24oZ2Z4LCB3YXlwb2ludHMpIHtcblxuICAgIHZhciBoaXQgPSBjcmVhdGVMaW5lKHdheXBvaW50cyk7XG5cbiAgICBhcHBseVN0eWxlKGhpdCwgJ3N0cm9rZScpO1xuXG4gICAgYXBwZW5kSGl0KGdmeCwgaGl0KTtcblxuICAgIHJldHVybiBoaXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBoaXRzIGZvciBhIGJveC5cbiAgICpcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJzXG4gICAqXG4gICAqIEByZXR1cm4ge1NWR0VsZW1lbnR9XG4gICAqL1xuICB0aGlzLmNyZWF0ZUJveEhpdCA9IGZ1bmN0aW9uKGdmeCwgdHlwZSwgYXR0cnMpIHtcblxuICAgIGF0dHJzID0gYXNzaWduKHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfSwgYXR0cnMpO1xuXG4gICAgdmFyIGhpdCA9IHN2Z0NyZWF0ZSgncmVjdCcpO1xuXG4gICAgYXBwbHlTdHlsZShoaXQsIHR5cGUpO1xuXG4gICAgc3ZnQXR0cihoaXQsIGF0dHJzKTtcblxuICAgIGFwcGVuZEhpdChnZngsIGhpdCk7XG5cbiAgICByZXR1cm4gaGl0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgZGVmYXVsdCBoaXQgb2YgdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICAgKlxuICAgKiBAcmV0dXJuIHtTVkdFbGVtZW50fSB1cGRhdGVkIGhpdFxuICAgKi9cbiAgdGhpcy51cGRhdGVEZWZhdWx0SGl0ID0gZnVuY3Rpb24oZWxlbWVudCwgZ2Z4KSB7XG5cbiAgICB2YXIgaGl0ID0gZG9tUXVlcnkoJy5kanMtaGl0JywgZ2Z4KTtcblxuICAgIGlmICghaGl0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgICB1cGRhdGVMaW5lKGhpdCwgZWxlbWVudC53YXlwb2ludHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdmdBdHRyKGhpdCwge1xuICAgICAgICB3aWR0aDogZWxlbWVudC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBlbGVtZW50LmhlaWdodFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhpdDtcbiAgfTtcblxuICB0aGlzLmZpcmUgPSBmaXJlO1xuXG4gIHRoaXMudHJpZ2dlck1vdXNlRXZlbnQgPSB0cmlnZ2VyTW91c2VFdmVudDtcblxuICB0aGlzLm1vdXNlSGFuZGxlciA9IG1vdXNlSGFuZGxlcjtcblxuICB0aGlzLnJlZ2lzdGVyRXZlbnQgPSByZWdpc3RlckV2ZW50O1xuICB0aGlzLnVucmVnaXN0ZXJFdmVudCA9IHVucmVnaXN0ZXJFdmVudDtcbn1cblxuXG5JbnRlcmFjdGlvbkV2ZW50cy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ3N0eWxlcydcbl07XG5cblxuLyoqXG4gKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIG1vdXNlIGhvdmVyZWQgb3ZlciBhbiBlbGVtZW50XG4gKlxuICogQGV2ZW50IGVsZW1lbnQuaG92ZXJcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovXG5cbi8qKlxuICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBtb3VzZSBoYXMgbGVmdCBhbiBlbGVtZW50XG4gKlxuICogQGV2ZW50IGVsZW1lbnQub3V0XG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7RWxlbWVudH0gZWxlbWVudFxuICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBnZnhcbiAqIEBwcm9wZXJ0eSB7RXZlbnR9IG9yaWdpbmFsRXZlbnRcbiAqL1xuXG4vKipcbiAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgbW91c2UgaGFzIGNsaWNrZWQgYW4gZWxlbWVudFxuICpcbiAqIEBldmVudCBlbGVtZW50LmNsaWNrXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7RWxlbWVudH0gZWxlbWVudFxuICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBnZnhcbiAqIEBwcm9wZXJ0eSB7RXZlbnR9IG9yaWdpbmFsRXZlbnRcbiAqL1xuXG4vKipcbiAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgbW91c2UgaGFzIGRvdWJsZSBjbGlja2VkIGFuIGVsZW1lbnRcbiAqXG4gKiBAZXZlbnQgZWxlbWVudC5kYmxjbGlja1xuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcHJvcGVydHkge0V2ZW50fSBvcmlnaW5hbEV2ZW50XG4gKi9cblxuLyoqXG4gKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIG1vdXNlIGhhcyBnb25lIGRvd24gb24gYW4gZWxlbWVudC5cbiAqXG4gKiBAZXZlbnQgZWxlbWVudC5tb3VzZWRvd25cbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovXG5cbi8qKlxuICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBtb3VzZSBoYXMgZ29uZSB1cCBvbiBhbiBlbGVtZW50LlxuICpcbiAqIEBldmVudCBlbGVtZW50Lm1vdXNldXBcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovXG5cbi8qKlxuICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBjb250ZXh0IG1lbnUgYWN0aW9uIGlzIHRyaWdnZXJlZFxuICogdmlhIG1vdXNlIG9yIHRvdWNoIGNvbnRyb2xzLlxuICpcbiAqIEBldmVudCBlbGVtZW50LmNvbnRleHRtZW51XG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7RWxlbWVudH0gZWxlbWVudFxuICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBnZnhcbiAqIEBwcm9wZXJ0eSB7RXZlbnR9IG9yaWdpbmFsRXZlbnRcbiAqLyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/interaction-events/index.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/interaction-events/index.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _InteractionEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InteractionEvents */ \"(ssr)/../../node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'interactionEvents' ],\n  interactionEvents: [ 'type', _InteractionEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2ludGVyYWN0aW9uLWV2ZW50cy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvRDs7O0FBR3BEO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLCtCQUErQiwwREFBaUI7QUFDaEQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9pbnRlcmFjdGlvbi1ldmVudHMvaW5kZXguanM/MjNhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSW50ZXJhY3Rpb25FdmVudHMgZnJvbSAnLi9JbnRlcmFjdGlvbkV2ZW50cyc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnaW50ZXJhY3Rpb25FdmVudHMnIF0sXG4gIGludGVyYWN0aW9uRXZlbnRzOiBbICd0eXBlJywgSW50ZXJhY3Rpb25FdmVudHMgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/interaction-events/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/overlays/Overlays.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/overlays/Overlays.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Overlays)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"(ssr)/../../node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/../../node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _util_IdGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/IdGenerator */ \"(ssr)/../../node_modules/diagram-js/lib/util/IdGenerator.js\");\n\n\n\n\n\n\n\n\n// document wide unique overlay ids\nvar ids = new _util_IdGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('ov');\n\nvar LOW_PRIORITY = 500;\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef { {\n *   minZoom?: number,\n *   maxZoom?: number\n * } } OverlaysConfigShow\n *\n * @typedef { {\n *   min?: number,\n *   max?: number\n * } } OverlaysConfigScale\n *\n * @typedef { {\n*   id: string,\n*   type: string | null,\n*   element: Element | string\n* } & OverlayAttrs } Overlay\n*\n * @typedef { {\n *   html: HTMLElement | string,\n *   position: {\n *     top?: number,\n *     right?: number,\n *     bottom?: number,\n *     left?: number\n *   }\n * } & OverlaysConfigDefault } OverlayAttrs\n *\n * @typedef { {\n *   html: HTMLElement,\n *   element: Element,\n *   overlays: Overlay[]\n * } } OverlayContainer\n *\n * @typedef {{\n *   defaults?: OverlaysConfigDefault\n * }} OverlaysConfig\n *\n * @typedef { {\n *  show?: OverlaysConfigShow,\n *  scale?: OverlaysConfigScale | boolean\n * } } OverlaysConfigDefault\n *\n * @typedef { {\n *   id?: string;\n *   element?: Element | string;\n *   type?: string;\n * } | string } OverlaysFilter\n */\n\n/**\n * A service that allows users to attach overlays to diagram elements.\n *\n * The overlay service will take care of overlay positioning during updates.\n *\n * @example\n *\n * ```javascript\n * // add a pink badge on the top left of the shape\n *\n * overlays.add(someShape, {\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add via shape id\n *\n * overlays.add('some-element-id', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add with optional type\n *\n * overlays.add(someShape, 'badge', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n * ```\n *\n * ```javascript\n * // remove an overlay\n *\n * var id = overlays.add(...);\n * overlays.remove(id);\n *\n *\n * You may configure overlay defaults during tool by providing a `config` module\n * with `overlays.defaults` as an entry:\n *\n * {\n *   overlays: {\n *     defaults: {\n *       show: {\n *         minZoom: 0.7,\n *         maxZoom: 5.0\n *       },\n *       scale: {\n *         min: 1\n *       }\n *     }\n * }\n * ```\n *\n * @param {OverlaysConfig} config\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n */\nfunction Overlays(config, eventBus, canvas, elementRegistry) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n\n  this._ids = ids;\n\n  /**\n   * @type {OverlaysConfigDefault}\n   */\n  this._overlayDefaults = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)({\n\n    // no show constraints\n    show: null,\n\n    // always scale\n    scale: true\n  }, config && config.defaults);\n\n  /**\n   * @type {Record<string, Overlay>}\n   */\n  this._overlays = {};\n\n  /**\n   * @type {OverlayContainer[]}\n   */\n  this._overlayContainers = [];\n\n  /**\n   * @type {HTMLElement}\n   */\n  this._overlayRoot = createRoot(canvas.getContainer());\n\n  this._init();\n}\n\n\nOverlays.$inject = [\n  'config.overlays',\n  'eventBus',\n  'canvas',\n  'elementRegistry'\n];\n\n\n/**\n * Returns the overlay with the specified ID or a list of overlays\n * for an element with a given type.\n *\n * @example\n *\n * ```javascript\n * // return the single overlay with the given ID\n * overlays.get('some-id');\n *\n * // return all overlays for the shape\n * overlays.get({ element: someShape });\n *\n * // return all overlays on shape with type 'badge'\n * overlays.get({ element: someShape, type: 'badge' });\n *\n * // shape can also be specified as ID\n * overlays.get({ element: 'element-id', type: 'badge' });\n * ```\n *\n * @param {OverlaysFilter} search The filter to be used to find the overlay(s).\n *\n * @return {Overlay|Overlay[]} The overlay(s).\n */\nOverlays.prototype.get = function(search) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(search)) {\n    search = { id: search };\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(search.element)) {\n    search.element = this._elementRegistry.get(search.element);\n  }\n\n  if (search.element) {\n    var container = this._getOverlayContainer(search.element, true);\n\n    // return a list of overlays when searching by element (+type)\n    if (container) {\n      return search.type ? (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.filter)(container.overlays, (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.matchPattern)({ type: search.type })) : container.overlays.slice();\n    } else {\n      return [];\n    }\n  } else if (search.type) {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.filter)(this._overlays, (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.matchPattern)({ type: search.type }));\n  } else {\n\n    // return single element when searching by id\n    return search.id ? this._overlays[search.id] : null;\n  }\n};\n\n/**\n * Adds an HTML overlay to an element.\n *\n * @param {Element|string} element The element to add the overlay to.\n * @param {string} [type] An optional type that can be used to filter.\n * @param {OverlayAttrs} overlay The overlay.\n *\n * @return {string} The overlay's ID that can be used to get or remove it.\n */\nOverlays.prototype.add = function(element, type, overlay) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(type)) {\n    overlay = type;\n    type = null;\n  }\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!overlay.position) {\n    throw new Error('must specifiy overlay position');\n  }\n\n  if (!overlay.html) {\n    throw new Error('must specifiy overlay html');\n  }\n\n  if (!element) {\n    throw new Error('invalid element specified');\n  }\n\n  var id = this._ids.next();\n\n  overlay = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)({}, this._overlayDefaults, overlay, {\n    id: id,\n    type: type,\n    element: element,\n    html: overlay.html\n  });\n\n  this._addOverlay(overlay);\n\n  return id;\n};\n\n\n/**\n * Remove an overlay with the given ID or all overlays matching the given filter.\n *\n * @see Overlays#get for filter options.\n *\n * @param {OverlaysFilter} filter The filter to be used to find the overlay.\n */\nOverlays.prototype.remove = function(filter) {\n\n  var overlays = this.get(filter) || [];\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(overlays)) {\n    overlays = [ overlays ];\n  }\n\n  var self = this;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(overlays, function(overlay) {\n\n    var container = self._getOverlayContainer(overlay.element, true);\n\n    if (overlay) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.remove)(overlay.html);\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.remove)(overlay.htmlContainer);\n\n      delete overlay.htmlContainer;\n      delete overlay.element;\n\n      delete self._overlays[overlay.id];\n    }\n\n    if (container) {\n      var idx = container.overlays.indexOf(overlay);\n      if (idx !== -1) {\n        container.overlays.splice(idx, 1);\n      }\n    }\n  });\n\n};\n\n/**\n * Checks whether overlays are shown.\n *\n * @return {boolean} Whether overlays are shown.\n */\nOverlays.prototype.isShown = function() {\n  return this._overlayRoot.style.display !== 'none';\n};\n\n/**\n * Show all overlays.\n */\nOverlays.prototype.show = function() {\n  setVisible(this._overlayRoot);\n};\n\n/**\n * Hide all overlays.\n */\nOverlays.prototype.hide = function() {\n  setVisible(this._overlayRoot, false);\n};\n\n/**\n * Remove all overlays and their container.\n */\nOverlays.prototype.clear = function() {\n  this._overlays = {};\n\n  this._overlayContainers = [];\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.clear)(this._overlayRoot);\n};\n\nOverlays.prototype._updateOverlayContainer = function(container) {\n  var element = container.element,\n      html = container.html;\n\n  // update container left,top according to the elements x,y coordinates\n  // this ensures we can attach child elements relative to this container\n\n  var x = element.x,\n      y = element.y;\n\n  if (element.waypoints) {\n    var bbox = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getBBox)(element);\n    x = bbox.x;\n    y = bbox.y;\n  }\n\n  setPosition(html, x, y);\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.attr)(container.html, 'data-container-id', element.id);\n};\n\n\nOverlays.prototype._updateOverlay = function(overlay) {\n\n  var position = overlay.position,\n      htmlContainer = overlay.htmlContainer,\n      element = overlay.element;\n\n  // update overlay html relative to shape because\n  // it is already positioned on the element\n\n  // update relative\n  var left = position.left,\n      top = position.top;\n\n  if (position.right !== undefined) {\n\n    var width;\n\n    if (element.waypoints) {\n      width = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getBBox)(element).width;\n    } else {\n      width = element.width;\n    }\n\n    left = position.right * -1 + width;\n  }\n\n  if (position.bottom !== undefined) {\n\n    var height;\n\n    if (element.waypoints) {\n      height = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getBBox)(element).height;\n    } else {\n      height = element.height;\n    }\n\n    top = position.bottom * -1 + height;\n  }\n\n  setPosition(htmlContainer, left || 0, top || 0);\n  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());\n};\n\n\nOverlays.prototype._createOverlayContainer = function(element) {\n  var html = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.domify)('<div class=\"djs-overlays\" />');\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.assignStyle)(html, { position: 'absolute' });\n\n  this._overlayRoot.appendChild(html);\n\n  var container = {\n    html: html,\n    element: element,\n    overlays: []\n  };\n\n  this._updateOverlayContainer(container);\n\n  this._overlayContainers.push(container);\n\n  return container;\n};\n\n\nOverlays.prototype._updateRoot = function(viewbox) {\n  var scale = viewbox.scale || 1;\n\n  var matrix = 'matrix(' +\n  [\n    scale,\n    0,\n    0,\n    scale,\n    -1 * viewbox.x * scale,\n    -1 * viewbox.y * scale\n  ].join(',') +\n  ')';\n\n  setTransform(this._overlayRoot, matrix);\n};\n\n\nOverlays.prototype._getOverlayContainer = function(element, raw) {\n  var container = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.find)(this._overlayContainers, function(c) {\n    return c.element === element;\n  });\n\n\n  if (!container && !raw) {\n    return this._createOverlayContainer(element);\n  }\n\n  return container;\n};\n\n\nOverlays.prototype._addOverlay = function(overlay) {\n\n  var id = overlay.id,\n      element = overlay.element,\n      html = overlay.html,\n      htmlContainer,\n      overlayContainer;\n\n  // unwrap jquery (for those who need it)\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  }\n\n  // create proper html elements from\n  // overlay HTML strings\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(html)) {\n    html = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.domify)(html);\n  }\n\n  overlayContainer = this._getOverlayContainer(element);\n\n  htmlContainer = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.domify)('<div class=\"djs-overlay\" data-overlay-id=\"' + id + '\">');\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.assignStyle)(htmlContainer, { position: 'absolute' });\n\n  htmlContainer.appendChild(html);\n\n  if (overlay.type) {\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.classes)(htmlContainer).add('djs-overlay-' + overlay.type);\n  }\n\n  var elementRoot = this._canvas.findRoot(element);\n  var activeRoot = this._canvas.getRootElement();\n\n  setVisible(htmlContainer, elementRoot === activeRoot);\n\n  overlay.htmlContainer = htmlContainer;\n\n  overlayContainer.overlays.push(overlay);\n  overlayContainer.html.appendChild(htmlContainer);\n\n  this._overlays[id] = overlay;\n\n  this._updateOverlay(overlay);\n  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());\n};\n\n\nOverlays.prototype._updateOverlayVisibilty = function(overlay, viewbox) {\n  var show = overlay.show,\n      rootElement = this._canvas.findRoot(overlay.element),\n      minZoom = show && show.minZoom,\n      maxZoom = show && show.maxZoom,\n      htmlContainer = overlay.htmlContainer,\n      activeRootElement = this._canvas.getRootElement(),\n      visible = true;\n\n  if (rootElement !== activeRootElement) {\n    visible = false;\n  } else if (show) {\n    if (\n      ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(minZoom) && minZoom > viewbox.scale) ||\n      ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(maxZoom) && maxZoom < viewbox.scale)\n    ) {\n      visible = false;\n    }\n  }\n\n  setVisible(htmlContainer, visible);\n\n  this._updateOverlayScale(overlay, viewbox);\n};\n\n\nOverlays.prototype._updateOverlayScale = function(overlay, viewbox) {\n  var shouldScale = overlay.scale,\n      minScale,\n      maxScale,\n      htmlContainer = overlay.htmlContainer;\n\n  var scale, transform = '';\n\n  if (shouldScale !== true) {\n\n    if (shouldScale === false) {\n      minScale = 1;\n      maxScale = 1;\n    } else {\n      minScale = shouldScale.min;\n      maxScale = shouldScale.max;\n    }\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(minScale) && viewbox.scale < minScale) {\n      scale = (1 / viewbox.scale || 1) * minScale;\n    }\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(maxScale) && viewbox.scale > maxScale) {\n      scale = (1 / viewbox.scale || 1) * maxScale;\n    }\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(scale)) {\n    transform = 'scale(' + scale + ',' + scale + ')';\n  }\n\n  setTransform(htmlContainer, transform);\n};\n\n\nOverlays.prototype._updateOverlaysVisibilty = function(viewbox) {\n\n  var self = this;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(this._overlays, function(overlay) {\n    self._updateOverlayVisibilty(overlay, viewbox);\n  });\n};\n\n\nOverlays.prototype._init = function() {\n\n  var eventBus = this._eventBus;\n\n  var self = this;\n\n\n  // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n    self._updateOverlaysVisibilty(viewbox);\n\n    self.show();\n  }\n\n  eventBus.on('canvas.viewbox.changing', function(event) {\n    self.hide();\n  });\n\n  eventBus.on('canvas.viewbox.changed', function(event) {\n    updateViewbox(event.viewbox);\n  });\n\n\n  // remove integration\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    var overlays = self.get({ element: element });\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(overlays, function(o) {\n      self.remove(o.id);\n    });\n\n    var container = self._getOverlayContainer(element);\n\n    if (container) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.remove)(container.html);\n      var i = self._overlayContainers.indexOf(container);\n      if (i !== -1) {\n        self._overlayContainers.splice(i, 1);\n      }\n    }\n  });\n\n\n  // move integration\n\n  eventBus.on('element.changed', LOW_PRIORITY, function(e) {\n    var element = e.element;\n\n    var container = self._getOverlayContainer(element, true);\n\n    if (container) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(container.overlays, function(overlay) {\n        self._updateOverlay(overlay);\n      });\n\n      self._updateOverlayContainer(container);\n    }\n  });\n\n\n  // marker integration, simply add them on the overlays as classes, too.\n\n  eventBus.on('element.marker.update', function(e) {\n    var container = self._getOverlayContainer(e.element, true);\n    if (container) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.classes)(container.html)[e.add ? 'add' : 'remove'](e.marker);\n    }\n  });\n\n\n  eventBus.on('root.set', function() {\n    self._updateOverlaysVisibilty(self._canvas.viewbox());\n  });\n\n  // clear overlays with diagram\n\n  eventBus.on('diagram.clear', this.clear, this);\n};\n\n\n\n// helpers /////////////////////////////\n\nfunction createRoot(parentNode) {\n  var root = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.domify)(\n    '<div class=\"djs-overlay-container\" />'\n  );\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.assignStyle)(root, {\n    position: 'absolute',\n    width: 0,\n    height: 0\n  });\n\n  parentNode.insertBefore(root, parentNode.firstChild);\n\n  return root;\n}\n\nfunction setPosition(el, x, y) {\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.assignStyle)(el, { left: x + 'px', top: y + 'px' });\n}\n\n/**\n * Set element visible\n *\n * @param {DOMElement} el\n * @param {boolean} [visible=true]\n */\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\n\nfunction setTransform(el, transform) {\n\n  el.style['transform-origin'] = 'top left';\n\n  [ '', '-ms-', '-webkit-' ].forEach(function(prefix) {\n    el.style[prefix + 'transform'] = transform;\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL292ZXJsYXlzL092ZXJsYXlzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBVWtCOztBQVNEOztBQUlZOztBQUVZOztBQUV6QztBQUNBLGNBQWMseURBQUc7O0FBRWpCOztBQUVBO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSw4Q0FBOEM7QUFDM0QsYUFBYSx1Q0FBdUM7QUFDcEQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxpQkFBaUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwQkFBMEI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssV0FBVztBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHFDQUFxQyxxQkFBcUIsYUFBYTtBQUN2RSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxxQkFBcUIsYUFBYTtBQUN2RSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxxQkFBcUIsYUFBYTtBQUN2RSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLGlCQUFpQjtBQUM1QjtBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsMEJBQTBCLGdEQUFNOztBQUVoQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBLGtCQUFrQixtQ0FBbUM7QUFDckQ7QUFDQTtBQUNBLGtCQUFrQixzQ0FBc0M7QUFDeEQ7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsWUFBWSxtQkFBbUI7QUFDL0I7QUFDQTs7QUFFQSxNQUFNLGtEQUFRO0FBQ2QsZUFBZTtBQUNmOztBQUVBLE1BQU0sa0RBQVE7QUFDZDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJCQUEyQixnREFBTSxxQkFBcUIsc0RBQVksR0FBRyxtQkFBbUI7QUFDeEYsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0osV0FBVyxnREFBTSxpQkFBaUIsc0RBQVksR0FBRyxtQkFBbUI7QUFDcEUsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxjQUFjO0FBQ3pCO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7O0FBRUEsTUFBTSxrREFBUTtBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsWUFBWSxnREFBTSxHQUFHO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQTs7QUFFQTs7QUFFQSxPQUFPLGlEQUFPO0FBQ2Q7QUFDQTs7QUFFQTs7QUFFQSxFQUFFLGlEQUFPOztBQUVUOztBQUVBO0FBQ0EsTUFBTSwrQ0FBUztBQUNmLE1BQU0sK0NBQVM7O0FBRWY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxFQUFFLDhDQUFRO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGVBQWUsdURBQU87QUFDdEI7QUFDQTtBQUNBOztBQUVBOztBQUVBLEVBQUUsNkNBQU87QUFDVDs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsY0FBYyx1REFBTztBQUNyQixNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsZUFBZSx1REFBTztBQUN0QixNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxhQUFhLCtDQUFNO0FBQ25CLEVBQUUsb0RBQVcsU0FBUyxzQkFBc0I7O0FBRTVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBLGtCQUFrQiw4Q0FBSTtBQUN0QjtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLGtEQUFRO0FBQ2QsV0FBVywrQ0FBTTtBQUNqQjs7QUFFQTs7QUFFQSxrQkFBa0IsK0NBQU07QUFDeEIsRUFBRSxvREFBVyxrQkFBa0Isc0JBQXNCOztBQUVyRDs7QUFFQTtBQUNBLElBQUksZ0RBQVU7QUFDZDs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxPQUFPLG1EQUFTO0FBQ2hCLE9BQU8sbURBQVM7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBLFFBQVEsbURBQVM7QUFDakI7QUFDQTs7QUFFQSxRQUFRLG1EQUFTO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLG1EQUFTO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQSxFQUFFLGlEQUFPO0FBQ1Q7QUFDQSxHQUFHO0FBQ0g7OztBQUdBOztBQUVBOztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7O0FBRUE7QUFDQTtBQUNBLDhCQUE4QixrQkFBa0I7O0FBRWhELElBQUksaURBQU87QUFDWDtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQSxNQUFNLCtDQUFTO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxNQUFNLGlEQUFPO0FBQ2I7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdEQUFVO0FBQ2hCO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7OztBQUlBOztBQUVBO0FBQ0EsYUFBYSwrQ0FBTTtBQUNuQjtBQUNBOztBQUVBLEVBQUUsb0RBQVc7QUFDYjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLG9EQUFXLE9BQU8sK0JBQStCO0FBQ25EOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9vdmVybGF5cy9PdmVybGF5cy5qcz8xNjEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGlzQXJyYXksXG4gIGlzU3RyaW5nLFxuICBpc09iamVjdCxcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBmaW5kLFxuICBmaWx0ZXIsXG4gIG1hdGNoUGF0dGVybixcbiAgaXNEZWZpbmVkXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgYXNzaWduU3R5bGUsXG4gIGRvbWlmeSxcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzLFxuICBhdHRyIGFzIGRvbUF0dHIsXG4gIHJlbW92ZSBhcyBkb21SZW1vdmUsXG4gIGNsZWFyIGFzIGRvbUNsZWFyXG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBnZXRCQm94XG59IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQgSWRzIGZyb20gJy4uLy4uL3V0aWwvSWRHZW5lcmF0b3InO1xuXG4vLyBkb2N1bWVudCB3aWRlIHVuaXF1ZSBvdmVybGF5IGlkc1xudmFyIGlkcyA9IG5ldyBJZHMoJ292Jyk7XG5cbnZhciBMT1dfUFJJT1JJVFkgPSA1MDA7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRWxlbWVudFJlZ2lzdHJ5JykuZGVmYXVsdH0gRWxlbWVudFJlZ2lzdHJ5XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgbWluWm9vbT86IG51bWJlcixcbiAqICAgbWF4Wm9vbT86IG51bWJlclxuICogfSB9IE92ZXJsYXlzQ29uZmlnU2hvd1xuICpcbiAqIEB0eXBlZGVmIHsge1xuICogICBtaW4/OiBudW1iZXIsXG4gKiAgIG1heD86IG51bWJlclxuICogfSB9IE92ZXJsYXlzQ29uZmlnU2NhbGVcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiogICBpZDogc3RyaW5nLFxuKiAgIHR5cGU6IHN0cmluZyB8IG51bGwsXG4qICAgZWxlbWVudDogRWxlbWVudCB8IHN0cmluZ1xuKiB9ICYgT3ZlcmxheUF0dHJzIH0gT3ZlcmxheVxuKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIGh0bWw6IEhUTUxFbGVtZW50IHwgc3RyaW5nLFxuICogICBwb3NpdGlvbjoge1xuICogICAgIHRvcD86IG51bWJlcixcbiAqICAgICByaWdodD86IG51bWJlcixcbiAqICAgICBib3R0b20/OiBudW1iZXIsXG4gKiAgICAgbGVmdD86IG51bWJlclxuICogICB9XG4gKiB9ICYgT3ZlcmxheXNDb25maWdEZWZhdWx0IH0gT3ZlcmxheUF0dHJzXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIGh0bWw6IEhUTUxFbGVtZW50LFxuICogICBlbGVtZW50OiBFbGVtZW50LFxuICogICBvdmVybGF5czogT3ZlcmxheVtdXG4gKiB9IH0gT3ZlcmxheUNvbnRhaW5lclxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGRlZmF1bHRzPzogT3ZlcmxheXNDb25maWdEZWZhdWx0XG4gKiB9fSBPdmVybGF5c0NvbmZpZ1xuICpcbiAqIEB0eXBlZGVmIHsge1xuICogIHNob3c/OiBPdmVybGF5c0NvbmZpZ1Nob3csXG4gKiAgc2NhbGU/OiBPdmVybGF5c0NvbmZpZ1NjYWxlIHwgYm9vbGVhblxuICogfSB9IE92ZXJsYXlzQ29uZmlnRGVmYXVsdFxuICpcbiAqIEB0eXBlZGVmIHsge1xuICogICBpZD86IHN0cmluZztcbiAqICAgZWxlbWVudD86IEVsZW1lbnQgfCBzdHJpbmc7XG4gKiAgIHR5cGU/OiBzdHJpbmc7XG4gKiB9IHwgc3RyaW5nIH0gT3ZlcmxheXNGaWx0ZXJcbiAqL1xuXG4vKipcbiAqIEEgc2VydmljZSB0aGF0IGFsbG93cyB1c2VycyB0byBhdHRhY2ggb3ZlcmxheXMgdG8gZGlhZ3JhbSBlbGVtZW50cy5cbiAqXG4gKiBUaGUgb3ZlcmxheSBzZXJ2aWNlIHdpbGwgdGFrZSBjYXJlIG9mIG92ZXJsYXkgcG9zaXRpb25pbmcgZHVyaW5nIHVwZGF0ZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBhZGQgYSBwaW5rIGJhZGdlIG9uIHRoZSB0b3AgbGVmdCBvZiB0aGUgc2hhcGVcbiAqXG4gKiBvdmVybGF5cy5hZGQoc29tZVNoYXBlLCB7XG4gKiAgIHBvc2l0aW9uOiB7XG4gKiAgICAgdG9wOiAtNSxcbiAqICAgICBsZWZ0OiAtNVxuICogICB9LFxuICogICBodG1sOiAnPGRpdiBzdHlsZT1cIndpZHRoOiAxMHB4OyBiYWNrZ3JvdW5kOiBmdWNoc2lhOyBjb2xvcjogd2hpdGU7XCI+MDwvZGl2PidcbiAqIH0pO1xuICpcbiAqIC8vIG9yIGFkZCB2aWEgc2hhcGUgaWRcbiAqXG4gKiBvdmVybGF5cy5hZGQoJ3NvbWUtZWxlbWVudC1pZCcsIHtcbiAqICAgcG9zaXRpb246IHtcbiAqICAgICB0b3A6IC01LFxuICogICAgIGxlZnQ6IC01XG4gKiAgIH1cbiAqICAgaHRtbDogJzxkaXYgc3R5bGU9XCJ3aWR0aDogMTBweDsgYmFja2dyb3VuZDogZnVjaHNpYTsgY29sb3I6IHdoaXRlO1wiPjA8L2Rpdj4nXG4gKiB9KTtcbiAqXG4gKiAvLyBvciBhZGQgd2l0aCBvcHRpb25hbCB0eXBlXG4gKlxuICogb3ZlcmxheXMuYWRkKHNvbWVTaGFwZSwgJ2JhZGdlJywge1xuICogICBwb3NpdGlvbjoge1xuICogICAgIHRvcDogLTUsXG4gKiAgICAgbGVmdDogLTVcbiAqICAgfVxuICogICBodG1sOiAnPGRpdiBzdHlsZT1cIndpZHRoOiAxMHB4OyBiYWNrZ3JvdW5kOiBmdWNoc2lhOyBjb2xvcjogd2hpdGU7XCI+MDwvZGl2PidcbiAqIH0pO1xuICogYGBgXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogLy8gcmVtb3ZlIGFuIG92ZXJsYXlcbiAqXG4gKiB2YXIgaWQgPSBvdmVybGF5cy5hZGQoLi4uKTtcbiAqIG92ZXJsYXlzLnJlbW92ZShpZCk7XG4gKlxuICpcbiAqIFlvdSBtYXkgY29uZmlndXJlIG92ZXJsYXkgZGVmYXVsdHMgZHVyaW5nIHRvb2wgYnkgcHJvdmlkaW5nIGEgYGNvbmZpZ2AgbW9kdWxlXG4gKiB3aXRoIGBvdmVybGF5cy5kZWZhdWx0c2AgYXMgYW4gZW50cnk6XG4gKlxuICoge1xuICogICBvdmVybGF5czoge1xuICogICAgIGRlZmF1bHRzOiB7XG4gKiAgICAgICBzaG93OiB7XG4gKiAgICAgICAgIG1pblpvb206IDAuNyxcbiAqICAgICAgICAgbWF4Wm9vbTogNS4wXG4gKiAgICAgICB9LFxuICogICAgICAgc2NhbGU6IHtcbiAqICAgICAgICAgbWluOiAxXG4gKiAgICAgICB9XG4gKiAgICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPdmVybGF5c0NvbmZpZ30gY29uZmlnXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBPdmVybGF5cyhjb25maWcsIGV2ZW50QnVzLCBjYW52YXMsIGVsZW1lbnRSZWdpc3RyeSkge1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcblxuICB0aGlzLl9pZHMgPSBpZHM7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPdmVybGF5c0NvbmZpZ0RlZmF1bHR9XG4gICAqL1xuICB0aGlzLl9vdmVybGF5RGVmYXVsdHMgPSBhc3NpZ24oe1xuXG4gICAgLy8gbm8gc2hvdyBjb25zdHJhaW50c1xuICAgIHNob3c6IG51bGwsXG5cbiAgICAvLyBhbHdheXMgc2NhbGVcbiAgICBzY2FsZTogdHJ1ZVxuICB9LCBjb25maWcgJiYgY29uZmlnLmRlZmF1bHRzKTtcblxuICAvKipcbiAgICogQHR5cGUge1JlY29yZDxzdHJpbmcsIE92ZXJsYXk+fVxuICAgKi9cbiAgdGhpcy5fb3ZlcmxheXMgPSB7fTtcblxuICAvKipcbiAgICogQHR5cGUge092ZXJsYXlDb250YWluZXJbXX1cbiAgICovXG4gIHRoaXMuX292ZXJsYXlDb250YWluZXJzID0gW107XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIHRoaXMuX292ZXJsYXlSb290ID0gY3JlYXRlUm9vdChjYW52YXMuZ2V0Q29udGFpbmVyKCkpO1xuXG4gIHRoaXMuX2luaXQoKTtcbn1cblxuXG5PdmVybGF5cy4kaW5qZWN0ID0gW1xuICAnY29uZmlnLm92ZXJsYXlzJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdlbGVtZW50UmVnaXN0cnknXG5dO1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgb3ZlcmxheSB3aXRoIHRoZSBzcGVjaWZpZWQgSUQgb3IgYSBsaXN0IG9mIG92ZXJsYXlzXG4gKiBmb3IgYW4gZWxlbWVudCB3aXRoIGEgZ2l2ZW4gdHlwZS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHJldHVybiB0aGUgc2luZ2xlIG92ZXJsYXkgd2l0aCB0aGUgZ2l2ZW4gSURcbiAqIG92ZXJsYXlzLmdldCgnc29tZS1pZCcpO1xuICpcbiAqIC8vIHJldHVybiBhbGwgb3ZlcmxheXMgZm9yIHRoZSBzaGFwZVxuICogb3ZlcmxheXMuZ2V0KHsgZWxlbWVudDogc29tZVNoYXBlIH0pO1xuICpcbiAqIC8vIHJldHVybiBhbGwgb3ZlcmxheXMgb24gc2hhcGUgd2l0aCB0eXBlICdiYWRnZSdcbiAqIG92ZXJsYXlzLmdldCh7IGVsZW1lbnQ6IHNvbWVTaGFwZSwgdHlwZTogJ2JhZGdlJyB9KTtcbiAqXG4gKiAvLyBzaGFwZSBjYW4gYWxzbyBiZSBzcGVjaWZpZWQgYXMgSURcbiAqIG92ZXJsYXlzLmdldCh7IGVsZW1lbnQ6ICdlbGVtZW50LWlkJywgdHlwZTogJ2JhZGdlJyB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T3ZlcmxheXNGaWx0ZXJ9IHNlYXJjaCBUaGUgZmlsdGVyIHRvIGJlIHVzZWQgdG8gZmluZCB0aGUgb3ZlcmxheShzKS5cbiAqXG4gKiBAcmV0dXJuIHtPdmVybGF5fE92ZXJsYXlbXX0gVGhlIG92ZXJsYXkocykuXG4gKi9cbk92ZXJsYXlzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzZWFyY2gpIHtcblxuICBpZiAoaXNTdHJpbmcoc2VhcmNoKSkge1xuICAgIHNlYXJjaCA9IHsgaWQ6IHNlYXJjaCB9O1xuICB9XG5cbiAgaWYgKGlzU3RyaW5nKHNlYXJjaC5lbGVtZW50KSkge1xuICAgIHNlYXJjaC5lbGVtZW50ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChzZWFyY2guZWxlbWVudCk7XG4gIH1cblxuICBpZiAoc2VhcmNoLmVsZW1lbnQpIHtcbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5fZ2V0T3ZlcmxheUNvbnRhaW5lcihzZWFyY2guZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICAvLyByZXR1cm4gYSBsaXN0IG9mIG92ZXJsYXlzIHdoZW4gc2VhcmNoaW5nIGJ5IGVsZW1lbnQgKCt0eXBlKVxuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIHJldHVybiBzZWFyY2gudHlwZSA/IGZpbHRlcihjb250YWluZXIub3ZlcmxheXMsIG1hdGNoUGF0dGVybih7IHR5cGU6IHNlYXJjaC50eXBlIH0pKSA6IGNvbnRhaW5lci5vdmVybGF5cy5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9IGVsc2UgaWYgKHNlYXJjaC50eXBlKSB7XG4gICAgcmV0dXJuIGZpbHRlcih0aGlzLl9vdmVybGF5cywgbWF0Y2hQYXR0ZXJuKHsgdHlwZTogc2VhcmNoLnR5cGUgfSkpO1xuICB9IGVsc2Uge1xuXG4gICAgLy8gcmV0dXJuIHNpbmdsZSBlbGVtZW50IHdoZW4gc2VhcmNoaW5nIGJ5IGlkXG4gICAgcmV0dXJuIHNlYXJjaC5pZCA/IHRoaXMuX292ZXJsYXlzW3NlYXJjaC5pZF0gOiBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEFkZHMgYW4gSFRNTCBvdmVybGF5IHRvIGFuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fHN0cmluZ30gZWxlbWVudCBUaGUgZWxlbWVudCB0byBhZGQgdGhlIG92ZXJsYXkgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gW3R5cGVdIEFuIG9wdGlvbmFsIHR5cGUgdGhhdCBjYW4gYmUgdXNlZCB0byBmaWx0ZXIuXG4gKiBAcGFyYW0ge092ZXJsYXlBdHRyc30gb3ZlcmxheSBUaGUgb3ZlcmxheS5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBvdmVybGF5J3MgSUQgdGhhdCBjYW4gYmUgdXNlZCB0byBnZXQgb3IgcmVtb3ZlIGl0LlxuICovXG5PdmVybGF5cy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZWxlbWVudCwgdHlwZSwgb3ZlcmxheSkge1xuXG4gIGlmIChpc09iamVjdCh0eXBlKSkge1xuICAgIG92ZXJsYXkgPSB0eXBlO1xuICAgIHR5cGUgPSBudWxsO1xuICB9XG5cbiAgaWYgKCFlbGVtZW50LmlkKSB7XG4gICAgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQoZWxlbWVudCk7XG4gIH1cblxuICBpZiAoIW92ZXJsYXkucG9zaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3BlY2lmaXkgb3ZlcmxheSBwb3NpdGlvbicpO1xuICB9XG5cbiAgaWYgKCFvdmVybGF5Lmh0bWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3BlY2lmaXkgb3ZlcmxheSBodG1sJyk7XG4gIH1cblxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZWxlbWVudCBzcGVjaWZpZWQnKTtcbiAgfVxuXG4gIHZhciBpZCA9IHRoaXMuX2lkcy5uZXh0KCk7XG5cbiAgb3ZlcmxheSA9IGFzc2lnbih7fSwgdGhpcy5fb3ZlcmxheURlZmF1bHRzLCBvdmVybGF5LCB7XG4gICAgaWQ6IGlkLFxuICAgIHR5cGU6IHR5cGUsXG4gICAgZWxlbWVudDogZWxlbWVudCxcbiAgICBodG1sOiBvdmVybGF5Lmh0bWxcbiAgfSk7XG5cbiAgdGhpcy5fYWRkT3ZlcmxheShvdmVybGF5KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIGFuIG92ZXJsYXkgd2l0aCB0aGUgZ2l2ZW4gSUQgb3IgYWxsIG92ZXJsYXlzIG1hdGNoaW5nIHRoZSBnaXZlbiBmaWx0ZXIuXG4gKlxuICogQHNlZSBPdmVybGF5cyNnZXQgZm9yIGZpbHRlciBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSB7T3ZlcmxheXNGaWx0ZXJ9IGZpbHRlciBUaGUgZmlsdGVyIHRvIGJlIHVzZWQgdG8gZmluZCB0aGUgb3ZlcmxheS5cbiAqL1xuT3ZlcmxheXMucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGZpbHRlcikge1xuXG4gIHZhciBvdmVybGF5cyA9IHRoaXMuZ2V0KGZpbHRlcikgfHwgW107XG5cbiAgaWYgKCFpc0FycmF5KG92ZXJsYXlzKSkge1xuICAgIG92ZXJsYXlzID0gWyBvdmVybGF5cyBdO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZvckVhY2gob3ZlcmxheXMsIGZ1bmN0aW9uKG92ZXJsYXkpIHtcblxuICAgIHZhciBjb250YWluZXIgPSBzZWxmLl9nZXRPdmVybGF5Q29udGFpbmVyKG92ZXJsYXkuZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICBpZiAob3ZlcmxheSkge1xuICAgICAgZG9tUmVtb3ZlKG92ZXJsYXkuaHRtbCk7XG4gICAgICBkb21SZW1vdmUob3ZlcmxheS5odG1sQ29udGFpbmVyKTtcblxuICAgICAgZGVsZXRlIG92ZXJsYXkuaHRtbENvbnRhaW5lcjtcbiAgICAgIGRlbGV0ZSBvdmVybGF5LmVsZW1lbnQ7XG5cbiAgICAgIGRlbGV0ZSBzZWxmLl9vdmVybGF5c1tvdmVybGF5LmlkXTtcbiAgICB9XG5cbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICB2YXIgaWR4ID0gY29udGFpbmVyLm92ZXJsYXlzLmluZGV4T2Yob3ZlcmxheSk7XG4gICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICBjb250YWluZXIub3ZlcmxheXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBvdmVybGF5cyBhcmUgc2hvd24uXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvdmVybGF5cyBhcmUgc2hvd24uXG4gKi9cbk92ZXJsYXlzLnByb3RvdHlwZS5pc1Nob3duID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9vdmVybGF5Um9vdC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZSc7XG59O1xuXG4vKipcbiAqIFNob3cgYWxsIG92ZXJsYXlzLlxuICovXG5PdmVybGF5cy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCkge1xuICBzZXRWaXNpYmxlKHRoaXMuX292ZXJsYXlSb290KTtcbn07XG5cbi8qKlxuICogSGlkZSBhbGwgb3ZlcmxheXMuXG4gKi9cbk92ZXJsYXlzLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7XG4gIHNldFZpc2libGUodGhpcy5fb3ZlcmxheVJvb3QsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBvdmVybGF5cyBhbmQgdGhlaXIgY29udGFpbmVyLlxuICovXG5PdmVybGF5cy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fb3ZlcmxheXMgPSB7fTtcblxuICB0aGlzLl9vdmVybGF5Q29udGFpbmVycyA9IFtdO1xuXG4gIGRvbUNsZWFyKHRoaXMuX292ZXJsYXlSb290KTtcbn07XG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fdXBkYXRlT3ZlcmxheUNvbnRhaW5lciA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICB2YXIgZWxlbWVudCA9IGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgaHRtbCA9IGNvbnRhaW5lci5odG1sO1xuXG4gIC8vIHVwZGF0ZSBjb250YWluZXIgbGVmdCx0b3AgYWNjb3JkaW5nIHRvIHRoZSBlbGVtZW50cyB4LHkgY29vcmRpbmF0ZXNcbiAgLy8gdGhpcyBlbnN1cmVzIHdlIGNhbiBhdHRhY2ggY2hpbGQgZWxlbWVudHMgcmVsYXRpdmUgdG8gdGhpcyBjb250YWluZXJcblxuICB2YXIgeCA9IGVsZW1lbnQueCxcbiAgICAgIHkgPSBlbGVtZW50Lnk7XG5cbiAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgdmFyIGJib3ggPSBnZXRCQm94KGVsZW1lbnQpO1xuICAgIHggPSBiYm94Lng7XG4gICAgeSA9IGJib3gueTtcbiAgfVxuXG4gIHNldFBvc2l0aW9uKGh0bWwsIHgsIHkpO1xuXG4gIGRvbUF0dHIoY29udGFpbmVyLmh0bWwsICdkYXRhLWNvbnRhaW5lci1pZCcsIGVsZW1lbnQuaWQpO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX3VwZGF0ZU92ZXJsYXkgPSBmdW5jdGlvbihvdmVybGF5KSB7XG5cbiAgdmFyIHBvc2l0aW9uID0gb3ZlcmxheS5wb3NpdGlvbixcbiAgICAgIGh0bWxDb250YWluZXIgPSBvdmVybGF5Lmh0bWxDb250YWluZXIsXG4gICAgICBlbGVtZW50ID0gb3ZlcmxheS5lbGVtZW50O1xuXG4gIC8vIHVwZGF0ZSBvdmVybGF5IGh0bWwgcmVsYXRpdmUgdG8gc2hhcGUgYmVjYXVzZVxuICAvLyBpdCBpcyBhbHJlYWR5IHBvc2l0aW9uZWQgb24gdGhlIGVsZW1lbnRcblxuICAvLyB1cGRhdGUgcmVsYXRpdmVcbiAgdmFyIGxlZnQgPSBwb3NpdGlvbi5sZWZ0LFxuICAgICAgdG9wID0gcG9zaXRpb24udG9wO1xuXG4gIGlmIChwb3NpdGlvbi5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICB2YXIgd2lkdGg7XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIHdpZHRoID0gZ2V0QkJveChlbGVtZW50KS53aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBlbGVtZW50LndpZHRoO1xuICAgIH1cblxuICAgIGxlZnQgPSBwb3NpdGlvbi5yaWdodCAqIC0xICsgd2lkdGg7XG4gIH1cblxuICBpZiAocG9zaXRpb24uYm90dG9tICE9PSB1bmRlZmluZWQpIHtcblxuICAgIHZhciBoZWlnaHQ7XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIGhlaWdodCA9IGdldEJCb3goZWxlbWVudCkuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWlnaHQgPSBlbGVtZW50LmhlaWdodDtcbiAgICB9XG5cbiAgICB0b3AgPSBwb3NpdGlvbi5ib3R0b20gKiAtMSArIGhlaWdodDtcbiAgfVxuXG4gIHNldFBvc2l0aW9uKGh0bWxDb250YWluZXIsIGxlZnQgfHwgMCwgdG9wIHx8IDApO1xuICB0aGlzLl91cGRhdGVPdmVybGF5VmlzaWJpbHR5KG92ZXJsYXksIHRoaXMuX2NhbnZhcy52aWV3Ym94KCkpO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX2NyZWF0ZU92ZXJsYXlDb250YWluZXIgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBodG1sID0gZG9taWZ5KCc8ZGl2IGNsYXNzPVwiZGpzLW92ZXJsYXlzXCIgLz4nKTtcbiAgYXNzaWduU3R5bGUoaHRtbCwgeyBwb3NpdGlvbjogJ2Fic29sdXRlJyB9KTtcblxuICB0aGlzLl9vdmVybGF5Um9vdC5hcHBlbmRDaGlsZChodG1sKTtcblxuICB2YXIgY29udGFpbmVyID0ge1xuICAgIGh0bWw6IGh0bWwsXG4gICAgZWxlbWVudDogZWxlbWVudCxcbiAgICBvdmVybGF5czogW11cbiAgfTtcblxuICB0aGlzLl91cGRhdGVPdmVybGF5Q29udGFpbmVyKGNvbnRhaW5lcik7XG5cbiAgdGhpcy5fb3ZlcmxheUNvbnRhaW5lcnMucHVzaChjb250YWluZXIpO1xuXG4gIHJldHVybiBjb250YWluZXI7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fdXBkYXRlUm9vdCA9IGZ1bmN0aW9uKHZpZXdib3gpIHtcbiAgdmFyIHNjYWxlID0gdmlld2JveC5zY2FsZSB8fCAxO1xuXG4gIHZhciBtYXRyaXggPSAnbWF0cml4KCcgK1xuICBbXG4gICAgc2NhbGUsXG4gICAgMCxcbiAgICAwLFxuICAgIHNjYWxlLFxuICAgIC0xICogdmlld2JveC54ICogc2NhbGUsXG4gICAgLTEgKiB2aWV3Ym94LnkgKiBzY2FsZVxuICBdLmpvaW4oJywnKSArXG4gICcpJztcblxuICBzZXRUcmFuc2Zvcm0odGhpcy5fb3ZlcmxheVJvb3QsIG1hdHJpeCk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fZ2V0T3ZlcmxheUNvbnRhaW5lciA9IGZ1bmN0aW9uKGVsZW1lbnQsIHJhdykge1xuICB2YXIgY29udGFpbmVyID0gZmluZCh0aGlzLl9vdmVybGF5Q29udGFpbmVycywgZnVuY3Rpb24oYykge1xuICAgIHJldHVybiBjLmVsZW1lbnQgPT09IGVsZW1lbnQ7XG4gIH0pO1xuXG5cbiAgaWYgKCFjb250YWluZXIgJiYgIXJhdykge1xuICAgIHJldHVybiB0aGlzLl9jcmVhdGVPdmVybGF5Q29udGFpbmVyKGVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLl9hZGRPdmVybGF5ID0gZnVuY3Rpb24ob3ZlcmxheSkge1xuXG4gIHZhciBpZCA9IG92ZXJsYXkuaWQsXG4gICAgICBlbGVtZW50ID0gb3ZlcmxheS5lbGVtZW50LFxuICAgICAgaHRtbCA9IG92ZXJsYXkuaHRtbCxcbiAgICAgIGh0bWxDb250YWluZXIsXG4gICAgICBvdmVybGF5Q29udGFpbmVyO1xuXG4gIC8vIHVud3JhcCBqcXVlcnkgKGZvciB0aG9zZSB3aG8gbmVlZCBpdClcbiAgaWYgKGh0bWwuZ2V0ICYmIGh0bWwuY29uc3RydWN0b3IucHJvdG90eXBlLmpxdWVyeSkge1xuICAgIGh0bWwgPSBodG1sLmdldCgwKTtcbiAgfVxuXG4gIC8vIGNyZWF0ZSBwcm9wZXIgaHRtbCBlbGVtZW50cyBmcm9tXG4gIC8vIG92ZXJsYXkgSFRNTCBzdHJpbmdzXG4gIGlmIChpc1N0cmluZyhodG1sKSkge1xuICAgIGh0bWwgPSBkb21pZnkoaHRtbCk7XG4gIH1cblxuICBvdmVybGF5Q29udGFpbmVyID0gdGhpcy5fZ2V0T3ZlcmxheUNvbnRhaW5lcihlbGVtZW50KTtcblxuICBodG1sQ29udGFpbmVyID0gZG9taWZ5KCc8ZGl2IGNsYXNzPVwiZGpzLW92ZXJsYXlcIiBkYXRhLW92ZXJsYXktaWQ9XCInICsgaWQgKyAnXCI+Jyk7XG4gIGFzc2lnblN0eWxlKGh0bWxDb250YWluZXIsIHsgcG9zaXRpb246ICdhYnNvbHV0ZScgfSk7XG5cbiAgaHRtbENvbnRhaW5lci5hcHBlbmRDaGlsZChodG1sKTtcblxuICBpZiAob3ZlcmxheS50eXBlKSB7XG4gICAgZG9tQ2xhc3NlcyhodG1sQ29udGFpbmVyKS5hZGQoJ2Rqcy1vdmVybGF5LScgKyBvdmVybGF5LnR5cGUpO1xuICB9XG5cbiAgdmFyIGVsZW1lbnRSb290ID0gdGhpcy5fY2FudmFzLmZpbmRSb290KGVsZW1lbnQpO1xuICB2YXIgYWN0aXZlUm9vdCA9IHRoaXMuX2NhbnZhcy5nZXRSb290RWxlbWVudCgpO1xuXG4gIHNldFZpc2libGUoaHRtbENvbnRhaW5lciwgZWxlbWVudFJvb3QgPT09IGFjdGl2ZVJvb3QpO1xuXG4gIG92ZXJsYXkuaHRtbENvbnRhaW5lciA9IGh0bWxDb250YWluZXI7XG5cbiAgb3ZlcmxheUNvbnRhaW5lci5vdmVybGF5cy5wdXNoKG92ZXJsYXkpO1xuICBvdmVybGF5Q29udGFpbmVyLmh0bWwuYXBwZW5kQ2hpbGQoaHRtbENvbnRhaW5lcik7XG5cbiAgdGhpcy5fb3ZlcmxheXNbaWRdID0gb3ZlcmxheTtcblxuICB0aGlzLl91cGRhdGVPdmVybGF5KG92ZXJsYXkpO1xuICB0aGlzLl91cGRhdGVPdmVybGF5VmlzaWJpbHR5KG92ZXJsYXksIHRoaXMuX2NhbnZhcy52aWV3Ym94KCkpO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX3VwZGF0ZU92ZXJsYXlWaXNpYmlsdHkgPSBmdW5jdGlvbihvdmVybGF5LCB2aWV3Ym94KSB7XG4gIHZhciBzaG93ID0gb3ZlcmxheS5zaG93LFxuICAgICAgcm9vdEVsZW1lbnQgPSB0aGlzLl9jYW52YXMuZmluZFJvb3Qob3ZlcmxheS5lbGVtZW50KSxcbiAgICAgIG1pblpvb20gPSBzaG93ICYmIHNob3cubWluWm9vbSxcbiAgICAgIG1heFpvb20gPSBzaG93ICYmIHNob3cubWF4Wm9vbSxcbiAgICAgIGh0bWxDb250YWluZXIgPSBvdmVybGF5Lmh0bWxDb250YWluZXIsXG4gICAgICBhY3RpdmVSb290RWxlbWVudCA9IHRoaXMuX2NhbnZhcy5nZXRSb290RWxlbWVudCgpLFxuICAgICAgdmlzaWJsZSA9IHRydWU7XG5cbiAgaWYgKHJvb3RFbGVtZW50ICE9PSBhY3RpdmVSb290RWxlbWVudCkge1xuICAgIHZpc2libGUgPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChzaG93KSB7XG4gICAgaWYgKFxuICAgICAgKGlzRGVmaW5lZChtaW5ab29tKSAmJiBtaW5ab29tID4gdmlld2JveC5zY2FsZSkgfHxcbiAgICAgIChpc0RlZmluZWQobWF4Wm9vbSkgJiYgbWF4Wm9vbSA8IHZpZXdib3guc2NhbGUpXG4gICAgKSB7XG4gICAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2V0VmlzaWJsZShodG1sQ29udGFpbmVyLCB2aXNpYmxlKTtcblxuICB0aGlzLl91cGRhdGVPdmVybGF5U2NhbGUob3ZlcmxheSwgdmlld2JveCk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fdXBkYXRlT3ZlcmxheVNjYWxlID0gZnVuY3Rpb24ob3ZlcmxheSwgdmlld2JveCkge1xuICB2YXIgc2hvdWxkU2NhbGUgPSBvdmVybGF5LnNjYWxlLFxuICAgICAgbWluU2NhbGUsXG4gICAgICBtYXhTY2FsZSxcbiAgICAgIGh0bWxDb250YWluZXIgPSBvdmVybGF5Lmh0bWxDb250YWluZXI7XG5cbiAgdmFyIHNjYWxlLCB0cmFuc2Zvcm0gPSAnJztcblxuICBpZiAoc2hvdWxkU2NhbGUgIT09IHRydWUpIHtcblxuICAgIGlmIChzaG91bGRTY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgIG1pblNjYWxlID0gMTtcbiAgICAgIG1heFNjYWxlID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWluU2NhbGUgPSBzaG91bGRTY2FsZS5taW47XG4gICAgICBtYXhTY2FsZSA9IHNob3VsZFNjYWxlLm1heDtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZpbmVkKG1pblNjYWxlKSAmJiB2aWV3Ym94LnNjYWxlIDwgbWluU2NhbGUpIHtcbiAgICAgIHNjYWxlID0gKDEgLyB2aWV3Ym94LnNjYWxlIHx8IDEpICogbWluU2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChtYXhTY2FsZSkgJiYgdmlld2JveC5zY2FsZSA+IG1heFNjYWxlKSB7XG4gICAgICBzY2FsZSA9ICgxIC8gdmlld2JveC5zY2FsZSB8fCAxKSAqIG1heFNjYWxlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0RlZmluZWQoc2NhbGUpKSB7XG4gICAgdHJhbnNmb3JtID0gJ3NjYWxlKCcgKyBzY2FsZSArICcsJyArIHNjYWxlICsgJyknO1xuICB9XG5cbiAgc2V0VHJhbnNmb3JtKGh0bWxDb250YWluZXIsIHRyYW5zZm9ybSk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fdXBkYXRlT3ZlcmxheXNWaXNpYmlsdHkgPSBmdW5jdGlvbih2aWV3Ym94KSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZvckVhY2godGhpcy5fb3ZlcmxheXMsIGZ1bmN0aW9uKG92ZXJsYXkpIHtcbiAgICBzZWxmLl91cGRhdGVPdmVybGF5VmlzaWJpbHR5KG92ZXJsYXksIHZpZXdib3gpO1xuICB9KTtcbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cbiAgLy8gc2Nyb2xsL3pvb20gaW50ZWdyYXRpb25cblxuICBmdW5jdGlvbiB1cGRhdGVWaWV3Ym94KHZpZXdib3gpIHtcbiAgICBzZWxmLl91cGRhdGVSb290KHZpZXdib3gpO1xuICAgIHNlbGYuX3VwZGF0ZU92ZXJsYXlzVmlzaWJpbHR5KHZpZXdib3gpO1xuXG4gICAgc2VsZi5zaG93KCk7XG4gIH1cblxuICBldmVudEJ1cy5vbignY2FudmFzLnZpZXdib3guY2hhbmdpbmcnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYuaGlkZSgpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY2FudmFzLnZpZXdib3guY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdXBkYXRlVmlld2JveChldmVudC52aWV3Ym94KTtcbiAgfSk7XG5cblxuICAvLyByZW1vdmUgaW50ZWdyYXRpb25cblxuICBldmVudEJ1cy5vbihbICdzaGFwZS5yZW1vdmUnLCAnY29ubmVjdGlvbi5yZW1vdmUnIF0sIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZWxlbWVudCA9IGUuZWxlbWVudDtcbiAgICB2YXIgb3ZlcmxheXMgPSBzZWxmLmdldCh7IGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG5cbiAgICBmb3JFYWNoKG92ZXJsYXlzLCBmdW5jdGlvbihvKSB7XG4gICAgICBzZWxmLnJlbW92ZShvLmlkKTtcbiAgICB9KTtcblxuICAgIHZhciBjb250YWluZXIgPSBzZWxmLl9nZXRPdmVybGF5Q29udGFpbmVyKGVsZW1lbnQpO1xuXG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgZG9tUmVtb3ZlKGNvbnRhaW5lci5odG1sKTtcbiAgICAgIHZhciBpID0gc2VsZi5fb3ZlcmxheUNvbnRhaW5lcnMuaW5kZXhPZihjb250YWluZXIpO1xuICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgIHNlbGYuX292ZXJsYXlDb250YWluZXJzLnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG5cbiAgLy8gbW92ZSBpbnRlZ3JhdGlvblxuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50LmNoYW5nZWQnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZWxlbWVudCA9IGUuZWxlbWVudDtcblxuICAgIHZhciBjb250YWluZXIgPSBzZWxmLl9nZXRPdmVybGF5Q29udGFpbmVyKGVsZW1lbnQsIHRydWUpO1xuXG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgZm9yRWFjaChjb250YWluZXIub3ZlcmxheXMsIGZ1bmN0aW9uKG92ZXJsYXkpIHtcbiAgICAgICAgc2VsZi5fdXBkYXRlT3ZlcmxheShvdmVybGF5KTtcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLl91cGRhdGVPdmVybGF5Q29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgfVxuICB9KTtcblxuXG4gIC8vIG1hcmtlciBpbnRlZ3JhdGlvbiwgc2ltcGx5IGFkZCB0aGVtIG9uIHRoZSBvdmVybGF5cyBhcyBjbGFzc2VzLCB0b28uXG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQubWFya2VyLnVwZGF0ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY29udGFpbmVyID0gc2VsZi5fZ2V0T3ZlcmxheUNvbnRhaW5lcihlLmVsZW1lbnQsIHRydWUpO1xuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIGRvbUNsYXNzZXMoY29udGFpbmVyLmh0bWwpW2UuYWRkID8gJ2FkZCcgOiAncmVtb3ZlJ10oZS5tYXJrZXIpO1xuICAgIH1cbiAgfSk7XG5cblxuICBldmVudEJ1cy5vbigncm9vdC5zZXQnLCBmdW5jdGlvbigpIHtcbiAgICBzZWxmLl91cGRhdGVPdmVybGF5c1Zpc2liaWx0eShzZWxmLl9jYW52YXMudmlld2JveCgpKTtcbiAgfSk7XG5cbiAgLy8gY2xlYXIgb3ZlcmxheXMgd2l0aCBkaWFncmFtXG5cbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uY2xlYXInLCB0aGlzLmNsZWFyLCB0aGlzKTtcbn07XG5cblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGNyZWF0ZVJvb3QocGFyZW50Tm9kZSkge1xuICB2YXIgcm9vdCA9IGRvbWlmeShcbiAgICAnPGRpdiBjbGFzcz1cImRqcy1vdmVybGF5LWNvbnRhaW5lclwiIC8+J1xuICApO1xuXG4gIGFzc2lnblN0eWxlKHJvb3QsIHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDBcbiAgfSk7XG5cbiAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocm9vdCwgcGFyZW50Tm9kZS5maXJzdENoaWxkKTtcblxuICByZXR1cm4gcm9vdDtcbn1cblxuZnVuY3Rpb24gc2V0UG9zaXRpb24oZWwsIHgsIHkpIHtcbiAgYXNzaWduU3R5bGUoZWwsIHsgbGVmdDogeCArICdweCcsIHRvcDogeSArICdweCcgfSk7XG59XG5cbi8qKlxuICogU2V0IGVsZW1lbnQgdmlzaWJsZVxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV1cbiAqL1xuZnVuY3Rpb24gc2V0VmlzaWJsZShlbCwgdmlzaWJsZSkge1xuICBlbC5zdHlsZS5kaXNwbGF5ID0gdmlzaWJsZSA9PT0gZmFsc2UgPyAnbm9uZScgOiAnJztcbn1cblxuZnVuY3Rpb24gc2V0VHJhbnNmb3JtKGVsLCB0cmFuc2Zvcm0pIHtcblxuICBlbC5zdHlsZVsndHJhbnNmb3JtLW9yaWdpbiddID0gJ3RvcCBsZWZ0JztcblxuICBbICcnLCAnLW1zLScsICctd2Via2l0LScgXS5mb3JFYWNoKGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIGVsLnN0eWxlW3ByZWZpeCArICd0cmFuc2Zvcm0nXSA9IHRyYW5zZm9ybTtcbiAgfSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/overlays/Overlays.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/overlays/index.js":
/*!********************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/overlays/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Overlays__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Overlays */ \"(ssr)/../../node_modules/diagram-js/lib/features/overlays/Overlays.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'overlays' ],\n  overlays: [ 'type', _Overlays__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL292ZXJsYXlzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtDOzs7QUFHbEM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0Esc0JBQXNCLGlEQUFRO0FBQzlCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWFkZHJhLXdlYi8uLi8uLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3ZlcmxheXMvaW5kZXguanM/Y2I1NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT3ZlcmxheXMgZnJvbSAnLi9PdmVybGF5cyc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnb3ZlcmxheXMnIF0sXG4gIG92ZXJsYXlzOiBbICd0eXBlJywgT3ZlcmxheXMgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/overlays/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/root-elements/RootElementsBehavior.js":
/*!****************************************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/root-elements/RootElementsBehavior.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootElementsBehavior)\n/* harmony export */ });\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/../../node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../command/CommandInterceptor */ \"(ssr)/../../node_modules/diagram-js/lib/command/CommandInterceptor.js\");\n\n\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n */\n\n/**\n * A modeling behavior that ensures we set the correct root element\n * as we undo and redo commands.\n *\n * @param {Canvas} canvas\n * @param {Injector} injector\n */\nfunction RootElementsBehavior(canvas, injector) {\n\n  injector.invoke(_command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"], this);\n\n  this.executed(function(event) {\n    var context = event.context;\n\n    if (context.rootElement) {\n      canvas.setRootElement(context.rootElement);\n    } else {\n      context.rootElement = canvas.getRootElement();\n    }\n  });\n\n  this.revert(function(event) {\n    var context = event.context;\n\n    if (context.rootElement) {\n      canvas.setRootElement(context.rootElement);\n    }\n  });\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(RootElementsBehavior, _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\nRootElementsBehavior.$inject = [ 'canvas', 'injector' ];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jvb3QtZWxlbWVudHMvUm9vdEVsZW1lbnRzQmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdDOztBQUUwQjs7QUFFbEU7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBLGFBQWEscUNBQXFDO0FBQ2xEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNlOztBQUVmLGtCQUFrQixtRUFBa0I7O0FBRXBDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSw0REFBUSx1QkFBdUIsbUVBQWtCOztBQUVqRCIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yb290LWVsZW1lbnRzL1Jvb3RFbGVtZW50c0JlaGF2aW9yLmpzPzY3NTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzLWJyb3dzZXInO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJy4uLy4uL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWRpJykuSW5qZWN0b3J9IEluamVjdG9yXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqL1xuXG4vKipcbiAqIEEgbW9kZWxpbmcgYmVoYXZpb3IgdGhhdCBlbnN1cmVzIHdlIHNldCB0aGUgY29ycmVjdCByb290IGVsZW1lbnRcbiAqIGFzIHdlIHVuZG8gYW5kIHJlZG8gY29tbWFuZHMuXG4gKlxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdEVsZW1lbnRzQmVoYXZpb3IoY2FudmFzLCBpbmplY3Rvcikge1xuXG4gIGluamVjdG9yLmludm9rZShDb21tYW5kSW50ZXJjZXB0b3IsIHRoaXMpO1xuXG4gIHRoaXMuZXhlY3V0ZWQoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQ7XG5cbiAgICBpZiAoY29udGV4dC5yb290RWxlbWVudCkge1xuICAgICAgY2FudmFzLnNldFJvb3RFbGVtZW50KGNvbnRleHQucm9vdEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0LnJvb3RFbGVtZW50ID0gY2FudmFzLmdldFJvb3RFbGVtZW50KCk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnJldmVydChmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIGlmIChjb250ZXh0LnJvb3RFbGVtZW50KSB7XG4gICAgICBjYW52YXMuc2V0Um9vdEVsZW1lbnQoY29udGV4dC5yb290RWxlbWVudCk7XG4gICAgfVxuICB9KTtcbn1cblxuaW5oZXJpdHMoUm9vdEVsZW1lbnRzQmVoYXZpb3IsIENvbW1hbmRJbnRlcmNlcHRvcik7XG5cblJvb3RFbGVtZW50c0JlaGF2aW9yLiRpbmplY3QgPSBbICdjYW52YXMnLCAnaW5qZWN0b3InIF07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/root-elements/RootElementsBehavior.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/root-elements/index.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/root-elements/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _RootElementsBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RootElementsBehavior */ \"(ssr)/../../node_modules/diagram-js/lib/features/root-elements/RootElementsBehavior.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'rootElementsBehavior' ],\n  rootElementsBehavior: [ 'type', _RootElementsBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jvb3QtZWxlbWVudHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEQ7OztBQUcxRDtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxrQ0FBa0MsNkRBQW9CO0FBQ3RELENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yb290LWVsZW1lbnRzL2luZGV4LmpzP2ZhNjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvb3RFbGVtZW50c0JlaGF2aW9yIGZyb20gJy4vUm9vdEVsZW1lbnRzQmVoYXZpb3InO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ3Jvb3RFbGVtZW50c0JlaGF2aW9yJyBdLFxuICByb290RWxlbWVudHNCZWhhdmlvcjogWyAndHlwZScsIFJvb3RFbGVtZW50c0JlaGF2aW9yIF1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/root-elements/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/selection/Selection.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/selection/Selection.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Selection)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\n/**\n * A service that offers the current selection in a diagram.\n * Offers the api to control the selection, too.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nfunction Selection(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  /**\n   * @type {Object[]}\n   */\n  this._selectedElements = [];\n\n  var self = this;\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    self.deselect(element);\n  });\n\n  eventBus.on([ 'diagram.clear', 'root.set' ], function(e) {\n    self.select(null);\n  });\n}\n\nSelection.$inject = [ 'eventBus', 'canvas' ];\n\n/**\n * Deselect an element.\n *\n * @param {Object} element The element to deselect.\n */\nSelection.prototype.deselect = function(element) {\n  var selectedElements = this._selectedElements;\n\n  var idx = selectedElements.indexOf(element);\n\n  if (idx !== -1) {\n    var oldSelection = selectedElements.slice();\n\n    selectedElements.splice(idx, 1);\n\n    this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n  }\n};\n\n/**\n * Get the selected elements.\n *\n * @return {Object[]} The selected elements.\n */\nSelection.prototype.get = function() {\n  return this._selectedElements;\n};\n\n/**\n * Check whether an element is selected.\n *\n * @param {Object} element The element.\n *\n * @return {boolean} Whether the element is selected.\n */\nSelection.prototype.isSelected = function(element) {\n  return this._selectedElements.indexOf(element) !== -1;\n};\n\n\n/**\n * Select one or many elements.\n *\n * @param {Object|Object[]} elements The element(s) to select.\n * @param {boolean} [add] Whether to add the element(s) to the selected elements.\n * Defaults to `false`.\n */\nSelection.prototype.select = function(elements, add) {\n  var selectedElements = this._selectedElements,\n      oldSelection = selectedElements.slice();\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = elements ? [ elements ] : [];\n  }\n\n  var canvas = this._canvas;\n\n  var rootElement = canvas.getRootElement();\n\n  elements = elements.filter(function(element) {\n    var elementRoot = canvas.findRoot(element);\n\n    return rootElement === elementRoot;\n  });\n\n  // selection may be cleared by passing an empty array or null\n  // to the method\n  if (add) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n      if (selectedElements.indexOf(element) !== -1) {\n\n        // already selected\n        return;\n      } else {\n        selectedElements.push(element);\n      }\n    });\n  } else {\n    this._selectedElements = selectedElements = elements.slice();\n  }\n\n  this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbi9TZWxlY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFHa0I7O0FBRWxCO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx1Q0FBdUM7QUFDcEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CO0FBQ2U7O0FBRWY7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsK0NBQStDLDREQUE0RDtBQUMzRztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8saURBQU87QUFDZDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLElBQUksaURBQU87QUFDWDs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsNkNBQTZDLDREQUE0RDtBQUN6RyIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zZWxlY3Rpb24vU2VsZWN0aW9uLmpzPzAwYjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNBcnJheSxcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICovXG5cbi8qKlxuICogQSBzZXJ2aWNlIHRoYXQgb2ZmZXJzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpbiBhIGRpYWdyYW0uXG4gKiBPZmZlcnMgdGhlIGFwaSB0byBjb250cm9sIHRoZSBzZWxlY3Rpb24sIHRvby5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTZWxlY3Rpb24oZXZlbnRCdXMsIGNhbnZhcykge1xuXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcblxuICAvKipcbiAgICogQHR5cGUge09iamVjdFtdfVxuICAgKi9cbiAgdGhpcy5fc2VsZWN0ZWRFbGVtZW50cyA9IFtdO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbihbICdzaGFwZS5yZW1vdmUnLCAnY29ubmVjdGlvbi5yZW1vdmUnIF0sIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZWxlbWVudCA9IGUuZWxlbWVudDtcbiAgICBzZWxmLmRlc2VsZWN0KGVsZW1lbnQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdkaWFncmFtLmNsZWFyJywgJ3Jvb3Quc2V0JyBdLCBmdW5jdGlvbihlKSB7XG4gICAgc2VsZi5zZWxlY3QobnVsbCk7XG4gIH0pO1xufVxuXG5TZWxlY3Rpb24uJGluamVjdCA9IFsgJ2V2ZW50QnVzJywgJ2NhbnZhcycgXTtcblxuLyoqXG4gKiBEZXNlbGVjdCBhbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGRlc2VsZWN0LlxuICovXG5TZWxlY3Rpb24ucHJvdG90eXBlLmRlc2VsZWN0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IHRoaXMuX3NlbGVjdGVkRWxlbWVudHM7XG5cbiAgdmFyIGlkeCA9IHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihlbGVtZW50KTtcblxuICBpZiAoaWR4ICE9PSAtMSkge1xuICAgIHZhciBvbGRTZWxlY3Rpb24gPSBzZWxlY3RlZEVsZW1lbnRzLnNsaWNlKCk7XG5cbiAgICBzZWxlY3RlZEVsZW1lbnRzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnc2VsZWN0aW9uLmNoYW5nZWQnLCB7IG9sZFNlbGVjdGlvbjogb2xkU2VsZWN0aW9uLCBuZXdTZWxlY3Rpb246IHNlbGVjdGVkRWxlbWVudHMgfSk7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IHRoZSBzZWxlY3RlZCBlbGVtZW50cy5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3RbXX0gVGhlIHNlbGVjdGVkIGVsZW1lbnRzLlxuICovXG5TZWxlY3Rpb24ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRFbGVtZW50cztcbn07XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciBhbiBlbGVtZW50IGlzIHNlbGVjdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IFRoZSBlbGVtZW50LlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQuXG4gKi9cblNlbGVjdGlvbi5wcm90b3R5cGUuaXNTZWxlY3RlZCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihlbGVtZW50KSAhPT0gLTE7XG59O1xuXG5cbi8qKlxuICogU2VsZWN0IG9uZSBvciBtYW55IGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fE9iamVjdFtdfSBlbGVtZW50cyBUaGUgZWxlbWVudChzKSB0byBzZWxlY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthZGRdIFdoZXRoZXIgdG8gYWRkIHRoZSBlbGVtZW50KHMpIHRvIHRoZSBzZWxlY3RlZCBlbGVtZW50cy5cbiAqIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKi9cblNlbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24oZWxlbWVudHMsIGFkZCkge1xuICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IHRoaXMuX3NlbGVjdGVkRWxlbWVudHMsXG4gICAgICBvbGRTZWxlY3Rpb24gPSBzZWxlY3RlZEVsZW1lbnRzLnNsaWNlKCk7XG5cbiAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gZWxlbWVudHMgPyBbIGVsZW1lbnRzIF0gOiBbXTtcbiAgfVxuXG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG5cbiAgdmFyIHJvb3RFbGVtZW50ID0gY2FudmFzLmdldFJvb3RFbGVtZW50KCk7XG5cbiAgZWxlbWVudHMgPSBlbGVtZW50cy5maWx0ZXIoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBlbGVtZW50Um9vdCA9IGNhbnZhcy5maW5kUm9vdChlbGVtZW50KTtcblxuICAgIHJldHVybiByb290RWxlbWVudCA9PT0gZWxlbWVudFJvb3Q7XG4gIH0pO1xuXG4gIC8vIHNlbGVjdGlvbiBtYXkgYmUgY2xlYXJlZCBieSBwYXNzaW5nIGFuIGVtcHR5IGFycmF5IG9yIG51bGxcbiAgLy8gdG8gdGhlIG1ldGhvZFxuICBpZiAoYWRkKSB7XG4gICAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihlbGVtZW50KSAhPT0gLTEpIHtcblxuICAgICAgICAvLyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9zZWxlY3RlZEVsZW1lbnRzID0gc2VsZWN0ZWRFbGVtZW50cyA9IGVsZW1lbnRzLnNsaWNlKCk7XG4gIH1cblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdzZWxlY3Rpb24uY2hhbmdlZCcsIHsgb2xkU2VsZWN0aW9uOiBvbGRTZWxlY3Rpb24sIG5ld1NlbGVjdGlvbjogc2VsZWN0ZWRFbGVtZW50cyB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/selection/Selection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/selection/SelectionBehavior.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/selection/SelectionBehavior.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SelectionBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_Mouse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Mouse */ \"(ssr)/../../node_modules/diagram-js/lib/util/Mouse.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('./Selection').default} Selection\n */\n\n/**\n * @param {EventBus} eventBus\n * @param {Selection} selection\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n */\nfunction SelectionBehavior(eventBus, selection, canvas, elementRegistry) {\n\n  // Select elements on create\n  eventBus.on('create.end', 500, function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        elements = context.elements,\n        hints = context.hints || {},\n        autoSelect = hints.autoSelect;\n\n    if (canExecute) {\n      if (autoSelect === false) {\n\n        // Select no elements\n        return;\n      }\n\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(autoSelect)) {\n        selection.select(autoSelect);\n      } else {\n\n        // Select all elements by default\n        selection.select(elements.filter(isShown));\n      }\n    }\n  });\n\n  // Select connection targets on connect\n  eventBus.on('connect.end', 500, function(event) {\n    var context = event.context,\n        connection = context.connection;\n\n    if (connection) {\n      selection.select(connection);\n    }\n  });\n\n  // Select shapes on move\n  eventBus.on('shape.move.end', 500, function(event) {\n    var previousSelection = event.previousSelection || [];\n\n    var shape = elementRegistry.get(event.context.shape.id);\n\n    // Always select main shape on move\n    var isSelected = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(previousSelection, function(selectedShape) {\n      return shape.id === selectedShape.id;\n    });\n\n    if (!isSelected) {\n      selection.select(shape);\n    }\n  });\n\n  // Select elements on click\n  eventBus.on('element.click', function(event) {\n\n    if (!(0,_util_Mouse__WEBPACK_IMPORTED_MODULE_1__.isPrimaryButton)(event)) {\n      return;\n    }\n\n    var element = event.element;\n\n    if (element === canvas.getRootElement()) {\n      element = null;\n    }\n\n    var isSelected = selection.isSelected(element),\n        isMultiSelect = selection.get().length > 1;\n\n    // Add to selection if SHIFT pressed\n    var add = (0,_util_Mouse__WEBPACK_IMPORTED_MODULE_1__.hasSecondaryModifier)(event);\n\n    if (isSelected && isMultiSelect) {\n      if (add) {\n\n        // Deselect element\n        return selection.deselect(element);\n      } else {\n\n        // Select element only\n        return selection.select(element);\n      }\n    } else if (!isSelected) {\n\n      // Select element\n      selection.select(element, add);\n    } else {\n\n      // Deselect element\n      selection.deselect(element);\n    }\n  });\n}\n\nSelectionBehavior.$inject = [\n  'eventBus',\n  'selection',\n  'canvas',\n  'elementRegistry'\n];\n\n\nfunction isShown(element) {\n  return !element.hidden;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbi9TZWxlY3Rpb25CZWhhdmlvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFHMEI7O0FBS1I7O0FBRWxCO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSw4Q0FBOEM7QUFDM0QsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSwrQkFBK0I7QUFDNUM7O0FBRUE7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsUUFBUTtBQUNuQixXQUFXLGlCQUFpQjtBQUM1QjtBQUNlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxpREFBTztBQUNqQjtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EscUJBQXFCLDhDQUFJO0FBQ3pCO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUEsU0FBUyw0REFBZTtBQUN4QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxpRUFBb0I7O0FBRWxDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWFkZHJhLXdlYi8uLi8uLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VsZWN0aW9uL1NlbGVjdGlvbkJlaGF2aW9yLmpzPzA5NDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaGFzU2Vjb25kYXJ5TW9kaWZpZXIsXG4gIGlzUHJpbWFyeUJ1dHRvblxufSBmcm9tICcuLi8uLi91dGlsL01vdXNlJztcblxuaW1wb3J0IHtcbiAgZmluZCxcbiAgaXNBcnJheVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRWxlbWVudFJlZ2lzdHJ5JykuZGVmYXVsdH0gRWxlbWVudFJlZ2lzdHJ5XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vU2VsZWN0aW9uJykuZGVmYXVsdH0gU2VsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbGVjdGlvblxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTZWxlY3Rpb25CZWhhdmlvcihldmVudEJ1cywgc2VsZWN0aW9uLCBjYW52YXMsIGVsZW1lbnRSZWdpc3RyeSkge1xuXG4gIC8vIFNlbGVjdCBlbGVtZW50cyBvbiBjcmVhdGVcbiAgZXZlbnRCdXMub24oJ2NyZWF0ZS5lbmQnLCA1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlLFxuICAgICAgICBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHMsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fSxcbiAgICAgICAgYXV0b1NlbGVjdCA9IGhpbnRzLmF1dG9TZWxlY3Q7XG5cbiAgICBpZiAoY2FuRXhlY3V0ZSkge1xuICAgICAgaWYgKGF1dG9TZWxlY3QgPT09IGZhbHNlKSB7XG5cbiAgICAgICAgLy8gU2VsZWN0IG5vIGVsZW1lbnRzXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQXJyYXkoYXV0b1NlbGVjdCkpIHtcbiAgICAgICAgc2VsZWN0aW9uLnNlbGVjdChhdXRvU2VsZWN0KTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gU2VsZWN0IGFsbCBlbGVtZW50cyBieSBkZWZhdWx0XG4gICAgICAgIHNlbGVjdGlvbi5zZWxlY3QoZWxlbWVudHMuZmlsdGVyKGlzU2hvd24pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNlbGVjdCBjb25uZWN0aW9uIHRhcmdldHMgb24gY29ubmVjdFxuICBldmVudEJ1cy5vbignY29ubmVjdC5lbmQnLCA1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uO1xuXG4gICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgIHNlbGVjdGlvbi5zZWxlY3QoY29ubmVjdGlvbik7XG4gICAgfVxuICB9KTtcblxuICAvLyBTZWxlY3Qgc2hhcGVzIG9uIG1vdmVcbiAgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUuZW5kJywgNTAwLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBwcmV2aW91c1NlbGVjdGlvbiA9IGV2ZW50LnByZXZpb3VzU2VsZWN0aW9uIHx8IFtdO1xuXG4gICAgdmFyIHNoYXBlID0gZWxlbWVudFJlZ2lzdHJ5LmdldChldmVudC5jb250ZXh0LnNoYXBlLmlkKTtcblxuICAgIC8vIEFsd2F5cyBzZWxlY3QgbWFpbiBzaGFwZSBvbiBtb3ZlXG4gICAgdmFyIGlzU2VsZWN0ZWQgPSBmaW5kKHByZXZpb3VzU2VsZWN0aW9uLCBmdW5jdGlvbihzZWxlY3RlZFNoYXBlKSB7XG4gICAgICByZXR1cm4gc2hhcGUuaWQgPT09IHNlbGVjdGVkU2hhcGUuaWQ7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzU2VsZWN0ZWQpIHtcbiAgICAgIHNlbGVjdGlvbi5zZWxlY3Qoc2hhcGUpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU2VsZWN0IGVsZW1lbnRzIG9uIGNsaWNrXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50LmNsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIGlmICghaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudDtcblxuICAgIGlmIChlbGVtZW50ID09PSBjYW52YXMuZ2V0Um9vdEVsZW1lbnQoKSkge1xuICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGlzU2VsZWN0ZWQgPSBzZWxlY3Rpb24uaXNTZWxlY3RlZChlbGVtZW50KSxcbiAgICAgICAgaXNNdWx0aVNlbGVjdCA9IHNlbGVjdGlvbi5nZXQoKS5sZW5ndGggPiAxO1xuXG4gICAgLy8gQWRkIHRvIHNlbGVjdGlvbiBpZiBTSElGVCBwcmVzc2VkXG4gICAgdmFyIGFkZCA9IGhhc1NlY29uZGFyeU1vZGlmaWVyKGV2ZW50KTtcblxuICAgIGlmIChpc1NlbGVjdGVkICYmIGlzTXVsdGlTZWxlY3QpIHtcbiAgICAgIGlmIChhZGQpIHtcblxuICAgICAgICAvLyBEZXNlbGVjdCBlbGVtZW50XG4gICAgICAgIHJldHVybiBzZWxlY3Rpb24uZGVzZWxlY3QoZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIFNlbGVjdCBlbGVtZW50IG9ubHlcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbi5zZWxlY3QoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNTZWxlY3RlZCkge1xuXG4gICAgICAvLyBTZWxlY3QgZWxlbWVudFxuICAgICAgc2VsZWN0aW9uLnNlbGVjdChlbGVtZW50LCBhZGQpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vIERlc2VsZWN0IGVsZW1lbnRcbiAgICAgIHNlbGVjdGlvbi5kZXNlbGVjdChlbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufVxuXG5TZWxlY3Rpb25CZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnc2VsZWN0aW9uJyxcbiAgJ2NhbnZhcycsXG4gICdlbGVtZW50UmVnaXN0cnknXG5dO1xuXG5cbmZ1bmN0aW9uIGlzU2hvd24oZWxlbWVudCkge1xuICByZXR1cm4gIWVsZW1lbnQuaGlkZGVuO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/selection/SelectionBehavior.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/selection/SelectionVisuals.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/selection/SelectionVisuals.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SelectionVisuals)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar MARKER_HOVER = 'hover',\n    MARKER_SELECTED = 'selected';\n\n/**\n * A plugin that adds a visible selection UI to shapes and connections\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\n *\n * @class\n *\n * Makes elements selectable, too.\n *\n * @param {Canvas} canvas\n * @param {EventBus} eventBus\n */\nfunction SelectionVisuals(canvas, eventBus) {\n  this._canvas = canvas;\n\n  function addMarker(e, cls) {\n    canvas.addMarker(e, cls);\n  }\n\n  function removeMarker(e, cls) {\n    canvas.removeMarker(e, cls);\n  }\n\n  eventBus.on('element.hover', function(event) {\n    addMarker(event.element, MARKER_HOVER);\n  });\n\n  eventBus.on('element.out', function(event) {\n    removeMarker(event.element, MARKER_HOVER);\n  });\n\n  eventBus.on('selection.changed', function(event) {\n\n    function deselect(s) {\n      removeMarker(s, MARKER_SELECTED);\n    }\n\n    function select(s) {\n      addMarker(s, MARKER_SELECTED);\n    }\n\n    var oldSelection = event.oldSelection,\n        newSelection = event.newSelection;\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(oldSelection, function(e) {\n      if (newSelection.indexOf(e) === -1) {\n        deselect(e);\n      }\n    });\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(newSelection, function(e) {\n      if (oldSelection.indexOf(e) === -1) {\n        select(e);\n      }\n    });\n  });\n}\n\nSelectionVisuals.$inject = [\n  'canvas',\n  'eventBus'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbi9TZWxlY3Rpb25WaXN1YWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRWtCOztBQUVsQjtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsdUNBQXVDO0FBQ3BEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckI7QUFDZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUksaURBQU87QUFDWDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLElBQUksaURBQU87QUFDWDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbi9TZWxlY3Rpb25WaXN1YWxzLmpzP2FmZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICovXG5cbnZhciBNQVJLRVJfSE9WRVIgPSAnaG92ZXInLFxuICAgIE1BUktFUl9TRUxFQ1RFRCA9ICdzZWxlY3RlZCc7XG5cbi8qKlxuICogQSBwbHVnaW4gdGhhdCBhZGRzIGEgdmlzaWJsZSBzZWxlY3Rpb24gVUkgdG8gc2hhcGVzIGFuZCBjb25uZWN0aW9uc1xuICogYnkgYXBwZW5kaW5nIHRoZSA8Y29kZT5ob3ZlcjwvY29kZT4gYW5kIDxjb2RlPnNlbGVjdGVkPC9jb2RlPiBjbGFzc2VzIHRvIHRoZW0uXG4gKlxuICogQGNsYXNzXG4gKlxuICogTWFrZXMgZWxlbWVudHMgc2VsZWN0YWJsZSwgdG9vLlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlbGVjdGlvblZpc3VhbHMoY2FudmFzLCBldmVudEJ1cykge1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgZnVuY3Rpb24gYWRkTWFya2VyKGUsIGNscykge1xuICAgIGNhbnZhcy5hZGRNYXJrZXIoZSwgY2xzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZU1hcmtlcihlLCBjbHMpIHtcbiAgICBjYW52YXMucmVtb3ZlTWFya2VyKGUsIGNscyk7XG4gIH1cblxuICBldmVudEJ1cy5vbignZWxlbWVudC5ob3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgYWRkTWFya2VyKGV2ZW50LmVsZW1lbnQsIE1BUktFUl9IT1ZFUik7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm91dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmVtb3ZlTWFya2VyKGV2ZW50LmVsZW1lbnQsIE1BUktFUl9IT1ZFUik7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdzZWxlY3Rpb24uY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICBmdW5jdGlvbiBkZXNlbGVjdChzKSB7XG4gICAgICByZW1vdmVNYXJrZXIocywgTUFSS0VSX1NFTEVDVEVEKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZWxlY3Qocykge1xuICAgICAgYWRkTWFya2VyKHMsIE1BUktFUl9TRUxFQ1RFRCk7XG4gICAgfVxuXG4gICAgdmFyIG9sZFNlbGVjdGlvbiA9IGV2ZW50Lm9sZFNlbGVjdGlvbixcbiAgICAgICAgbmV3U2VsZWN0aW9uID0gZXZlbnQubmV3U2VsZWN0aW9uO1xuXG4gICAgZm9yRWFjaChvbGRTZWxlY3Rpb24sIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChuZXdTZWxlY3Rpb24uaW5kZXhPZihlKSA9PT0gLTEpIHtcbiAgICAgICAgZGVzZWxlY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmb3JFYWNoKG5ld1NlbGVjdGlvbiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKG9sZFNlbGVjdGlvbi5pbmRleE9mKGUpID09PSAtMSkge1xuICAgICAgICBzZWxlY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5TZWxlY3Rpb25WaXN1YWxzLiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnZXZlbnRCdXMnXG5dO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/selection/SelectionVisuals.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/features/selection/index.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/features/selection/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _interaction_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interaction-events */ \"(ssr)/../../node_modules/diagram-js/lib/features/interaction-events/index.js\");\n/* harmony import */ var _Selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Selection */ \"(ssr)/../../node_modules/diagram-js/lib/features/selection/Selection.js\");\n/* harmony import */ var _SelectionVisuals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SelectionVisuals */ \"(ssr)/../../node_modules/diagram-js/lib/features/selection/SelectionVisuals.js\");\n/* harmony import */ var _SelectionBehavior__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SelectionBehavior */ \"(ssr)/../../node_modules/diagram-js/lib/features/selection/SelectionBehavior.js\");\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'selectionVisuals', 'selectionBehavior' ],\n  __depends__: [\n    _interaction_events__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  ],\n  selection: [ 'type', _Selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ],\n  selectionVisuals: [ 'type', _SelectionVisuals__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ],\n  selectionBehavior: [ 'type', _SelectionBehavior__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0RDs7QUFFeEI7QUFDYztBQUNFOzs7QUFHcEQ7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0E7QUFDQSxJQUFJLDJEQUF1QjtBQUMzQjtBQUNBLHVCQUF1QixrREFBUztBQUNoQyw4QkFBOEIseURBQWdCO0FBQzlDLCtCQUErQiwwREFBaUI7QUFDaEQsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbi9pbmRleC5qcz9iN2I3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSBmcm9tICcuLi9pbnRlcmFjdGlvbi1ldmVudHMnO1xuXG5pbXBvcnQgU2VsZWN0aW9uIGZyb20gJy4vU2VsZWN0aW9uJztcbmltcG9ydCBTZWxlY3Rpb25WaXN1YWxzIGZyb20gJy4vU2VsZWN0aW9uVmlzdWFscyc7XG5pbXBvcnQgU2VsZWN0aW9uQmVoYXZpb3IgZnJvbSAnLi9TZWxlY3Rpb25CZWhhdmlvcic7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnc2VsZWN0aW9uVmlzdWFscycsICdzZWxlY3Rpb25CZWhhdmlvcicgXSxcbiAgX19kZXBlbmRzX186IFtcbiAgICBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSxcbiAgXSxcbiAgc2VsZWN0aW9uOiBbICd0eXBlJywgU2VsZWN0aW9uIF0sXG4gIHNlbGVjdGlvblZpc3VhbHM6IFsgJ3R5cGUnLCBTZWxlY3Rpb25WaXN1YWxzIF0sXG4gIHNlbGVjdGlvbkJlaGF2aW9yOiBbICd0eXBlJywgU2VsZWN0aW9uQmVoYXZpb3IgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/features/selection/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/i18n/translate/index.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/i18n/translate/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _translate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./translate */ \"(ssr)/../../node_modules/diagram-js/lib/i18n/translate/translate.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  translate: [ 'value', _translate__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2kxOG4vdHJhbnNsYXRlL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9DOzs7QUFHcEM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmLHdCQUF3QixrREFBUztBQUNqQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2kxOG4vdHJhbnNsYXRlL2luZGV4LmpzP2E2YTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRyYW5zbGF0ZSBmcm9tICcuL3RyYW5zbGF0ZSc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICB0cmFuc2xhdGU6IFsgJ3ZhbHVlJywgdHJhbnNsYXRlIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/i18n/translate/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/i18n/translate/translate.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/i18n/translate/translate.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ translate)\n/* harmony export */ });\n/**\n * @typedef { {\n *   [key: string]: string;\n * } } TranslateReplacements\n */\n\n/**\n * A simple translation stub to be used for multi-language support\n * in diagrams. Can be easily replaced with a more sophisticated\n * solution.\n *\n * @example\n *\n * ```javascript\n * // use it inside any diagram component by injecting `translate`.\n *\n * function MyService(translate) {\n *   alert(translate('HELLO {you}', { you: 'You!' }));\n * }\n * ```\n *\n * @param {string} template to interpolate\n * @param {TranslateReplacements} [replacements] a map with substitutes\n *\n * @return {string} the translated string\n */\nfunction translate(template, replacements) {\n\n  replacements = replacements || {};\n\n  return template.replace(/{([^}]+)}/g, function(_, key) {\n    return replacements[key] || '{' + key + '}';\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2kxOG4vdHJhbnNsYXRlL3RyYW5zbGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsSUFBSSxLQUFLLGFBQWE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsdUJBQXVCO0FBQ2xDO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ2U7O0FBRWY7O0FBRUEsNEJBQTRCLElBQUksSUFBSTtBQUNwQyxrQ0FBa0MsWUFBWTtBQUM5QyxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWFkZHJhLXdlYi8uLi8uLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvaTE4bi90cmFuc2xhdGUvdHJhbnNsYXRlLmpzP2U4YTgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xuICogfSB9IFRyYW5zbGF0ZVJlcGxhY2VtZW50c1xuICovXG5cbi8qKlxuICogQSBzaW1wbGUgdHJhbnNsYXRpb24gc3R1YiB0byBiZSB1c2VkIGZvciBtdWx0aS1sYW5ndWFnZSBzdXBwb3J0XG4gKiBpbiBkaWFncmFtcy4gQ2FuIGJlIGVhc2lseSByZXBsYWNlZCB3aXRoIGEgbW9yZSBzb3BoaXN0aWNhdGVkXG4gKiBzb2x1dGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHVzZSBpdCBpbnNpZGUgYW55IGRpYWdyYW0gY29tcG9uZW50IGJ5IGluamVjdGluZyBgdHJhbnNsYXRlYC5cbiAqXG4gKiBmdW5jdGlvbiBNeVNlcnZpY2UodHJhbnNsYXRlKSB7XG4gKiAgIGFsZXJ0KHRyYW5zbGF0ZSgnSEVMTE8ge3lvdX0nLCB7IHlvdTogJ1lvdSEnIH0pKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSB0byBpbnRlcnBvbGF0ZVxuICogQHBhcmFtIHtUcmFuc2xhdGVSZXBsYWNlbWVudHN9IFtyZXBsYWNlbWVudHNdIGEgbWFwIHdpdGggc3Vic3RpdHV0ZXNcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSB0cmFuc2xhdGVkIHN0cmluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0cmFuc2xhdGUodGVtcGxhdGUsIHJlcGxhY2VtZW50cykge1xuXG4gIHJlcGxhY2VtZW50cyA9IHJlcGxhY2VtZW50cyB8fCB7fTtcblxuICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgveyhbXn1dKyl9L2csIGZ1bmN0aW9uKF8sIGtleSkge1xuICAgIHJldHVybiByZXBsYWNlbWVudHNba2V5XSB8fCAneycgKyBrZXkgKyAnfSc7XG4gIH0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/i18n/translate/translate.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/layout/LayoutUtil.js":
/*!**************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/layout/LayoutUtil.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asBounds: () => (/* binding */ asBounds),\n/* harmony export */   asTRBL: () => (/* binding */ asTRBL),\n/* harmony export */   filterRedundantWaypoints: () => (/* binding */ filterRedundantWaypoints),\n/* harmony export */   getBoundsMid: () => (/* binding */ getBoundsMid),\n/* harmony export */   getConnectionMid: () => (/* binding */ getConnectionMid),\n/* harmony export */   getElementLineIntersection: () => (/* binding */ getElementLineIntersection),\n/* harmony export */   getIntersections: () => (/* binding */ getIntersections),\n/* harmony export */   getMid: () => (/* binding */ getMid),\n/* harmony export */   getOrientation: () => (/* binding */ getOrientation),\n/* harmony export */   roundBounds: () => (/* binding */ roundBounds),\n/* harmony export */   roundPoint: () => (/* binding */ roundPoint)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Geometry */ \"(ssr)/../../node_modules/diagram-js/lib/util/Geometry.js\");\n/* harmony import */ var path_intersection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path-intersection */ \"(ssr)/../../node_modules/path-intersection/intersect.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ModelUtil */ \"(ssr)/../../node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../core/Types').ElementLike} Element\n * @typedef {import('../core/Types').ConnectionLike} Connection\n *\n * @typedef {import('../util/Types').DirectionTRBL} DirectionTRBL\n * @typedef {import('../util/Types').Intersection} Intersection\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n * @typedef {import('../util/Types').RectTRBL} RectTRBL\n */\n\n/**\n * @param {Rect} bounds\n *\n * @returns {Rect}\n */\nfunction roundBounds(bounds) {\n  return {\n    x: Math.round(bounds.x),\n    y: Math.round(bounds.y),\n    width: Math.round(bounds.width),\n    height: Math.round(bounds.height)\n  };\n}\n\n/**\n * @param {Point} point\n *\n * @returns {Point}\n */\nfunction roundPoint(point) {\n\n  return {\n    x: Math.round(point.x),\n    y: Math.round(point.y)\n  };\n}\n\n\n/**\n * Convert the given bounds to a { top, left, bottom, right } descriptor.\n *\n * @param {Point|Rect} bounds\n *\n * @return {RectTRBL}\n */\nfunction asTRBL(bounds) {\n  return {\n    top: bounds.y,\n    right: bounds.x + (bounds.width || 0),\n    bottom: bounds.y + (bounds.height || 0),\n    left: bounds.x\n  };\n}\n\n\n/**\n * Convert a { top, left, bottom, right } to an objects bounds.\n *\n * @param {RectTRBL} trbl\n *\n * @return {Rect}\n */\nfunction asBounds(trbl) {\n  return {\n    x: trbl.left,\n    y: trbl.top,\n    width: trbl.right - trbl.left,\n    height: trbl.bottom - trbl.top\n  };\n}\n\n\n/**\n * Get the mid of the given bounds or point.\n *\n * @param {Point|Rect} bounds\n *\n * @return {Point}\n */\nfunction getBoundsMid(bounds) {\n  return roundPoint({\n    x: bounds.x + (bounds.width || 0) / 2,\n    y: bounds.y + (bounds.height || 0) / 2\n  });\n}\n\n\n/**\n * Get the mid of the given Connection.\n *\n * @param {Connection} connection\n *\n * @return {Point}\n */\nfunction getConnectionMid(connection) {\n  var waypoints = connection.waypoints;\n\n  // calculate total length and length of each segment\n  var parts = waypoints.reduce(function(parts, point, index) {\n\n    var lastPoint = waypoints[index - 1];\n\n    if (lastPoint) {\n      var lastPart = parts[parts.length - 1];\n\n      var startLength = lastPart && lastPart.endLength || 0;\n      var length = distance(lastPoint, point);\n\n      parts.push({\n        start: lastPoint,\n        end: point,\n        startLength: startLength,\n        endLength: startLength + length,\n        length: length\n      });\n    }\n\n    return parts;\n  }, []);\n\n  var totalLength = parts.reduce(function(length, part) {\n    return length + part.length;\n  }, 0);\n\n  // find which segement contains middle point\n  var midLength = totalLength / 2;\n\n  var i = 0;\n  var midSegment = parts[i];\n\n  while (midSegment.endLength < midLength) {\n    midSegment = parts[++i];\n  }\n\n  // calculate relative position on mid segment\n  var segmentProgress = (midLength - midSegment.startLength) / midSegment.length;\n\n  var midPoint = {\n    x: midSegment.start.x + (midSegment.end.x - midSegment.start.x) * segmentProgress,\n    y: midSegment.start.y + (midSegment.end.y - midSegment.start.y) * segmentProgress\n  };\n\n  return midPoint;\n}\n\n\n/**\n * Get the mid of the given Element.\n *\n * @param {Element} element\n *\n * @return {Point}\n */\nfunction getMid(element) {\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element)) {\n    return getConnectionMid(element);\n  }\n\n  return getBoundsMid(element);\n}\n\n// orientation utils //////////////////////\n\n/**\n * Get orientation of the given rectangle with respect to\n * the reference rectangle.\n *\n * A padding (positive or negative) may be passed to influence\n * horizontal / vertical orientation and intersection.\n *\n * @param {Rect} rect\n * @param {Rect} reference\n * @param {Point|number} padding\n *\n * @return {DirectionTRBL|Intersection} the orientation; one of top, top-left, left, ..., bottom, right or intersect.\n */\nfunction getOrientation(rect, reference, padding) {\n\n  padding = padding || 0;\n\n  // make sure we can use an object, too\n  // for individual { x, y } padding\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isObject)(padding)) {\n    padding = { x: padding, y: padding };\n  }\n\n\n  var rectOrientation = asTRBL(rect),\n      referenceOrientation = asTRBL(reference);\n\n  var top = rectOrientation.bottom + padding.y <= referenceOrientation.top,\n      right = rectOrientation.left - padding.x >= referenceOrientation.right,\n      bottom = rectOrientation.top - padding.y >= referenceOrientation.bottom,\n      left = rectOrientation.right + padding.x <= referenceOrientation.left;\n\n  var vertical = top ? 'top' : (bottom ? 'bottom' : null),\n      horizontal = left ? 'left' : (right ? 'right' : null);\n\n  if (horizontal && vertical) {\n    return vertical + '-' + horizontal;\n  } else {\n    return horizontal || vertical || 'intersect';\n  }\n}\n\n\n// intersection utils //////////////////////\n\n/**\n * Get intersection between an element and a line path.\n *\n * @param {string} elementPath\n * @param {string} linePath\n * @param {boolean} cropStart Whether to crop start or end.\n *\n * @return {Point}\n */\nfunction getElementLineIntersection(elementPath, linePath, cropStart) {\n\n  var intersections = getIntersections(elementPath, linePath);\n\n  // recognize intersections\n  // only one -> choose\n  // two close together -> choose first\n  // two or more distinct -> pull out appropriate one\n  // none -> ok (fallback to point itself)\n  if (intersections.length === 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length === 2 && (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointDistance)(intersections[0], intersections[1]) < 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length > 1) {\n\n    // sort by intersections based on connection segment +\n    // distance from start\n    intersections = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.sortBy)(intersections, function(i) {\n      var distance = Math.floor(i.t2 * 100) || 1;\n\n      distance = 100 - distance;\n\n      distance = (distance < 10 ? '0' : '') + distance;\n\n      // create a sort string that makes sure we sort\n      // line segment ASC + line segment position DESC (for cropStart)\n      // line segment ASC + line segment position ASC (for cropEnd)\n      return i.segment2 + '#' + distance;\n    });\n\n    return roundPoint(intersections[cropStart ? 0 : intersections.length - 1]);\n  }\n\n  return null;\n}\n\n\nfunction getIntersections(a, b) {\n  return (0,path_intersection__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(a, b);\n}\n\n\nfunction filterRedundantWaypoints(waypoints) {\n\n  // alter copy of waypoints, not original\n  waypoints = waypoints.slice();\n\n  var idx = 0,\n      point,\n      previousPoint,\n      nextPoint;\n\n  while (waypoints[idx]) {\n    point = waypoints[idx];\n    previousPoint = waypoints[idx - 1];\n    nextPoint = waypoints[idx + 1];\n\n    if ((0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointDistance)(point, nextPoint) === 0 ||\n        (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointsOnLine)(previousPoint, nextPoint, point)) {\n\n      // remove point, if overlapping with {nextPoint}\n      // or on line with {previousPoint} -> {point} -> {nextPoint}\n      waypoints.splice(idx, 1);\n    } else {\n      idx++;\n    }\n  }\n\n  return waypoints;\n}\n\n// helpers //////////////////////\n\nfunction distance(a, b) {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2xheW91dC9MYXlvdXRVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdrQjs7QUFLUTs7QUFFcUI7O0FBRUU7O0FBRWpEO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx3Q0FBd0M7QUFDckQ7QUFDQSxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLHNDQUFzQztBQUNuRCxhQUFhLCtCQUErQjtBQUM1QyxhQUFhLDhCQUE4QjtBQUMzQyxhQUFhLGtDQUFrQztBQUMvQzs7QUFFQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxhQUFhO0FBQ2I7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLG1DQUFtQywyQkFBMkI7QUFDOUQ7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLGVBQWUsMkJBQTJCO0FBQzFDO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxNQUFNLDZEQUFZO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCO0FBQ0EsWUFBWSw0QkFBNEIsaUJBQWlCO0FBQ3pEO0FBQ087O0FBRVA7O0FBRUE7QUFDQSxzQkFBc0IsT0FBTztBQUM3QixPQUFPLGtEQUFRO0FBQ2YsZ0JBQWdCO0FBQ2hCOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWTtBQUNaO0FBQ087O0FBRVA7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHVDQUF1Qyw2REFBYTtBQUN4RDtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLG9CQUFvQixnREFBTTtBQUMxQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOzs7QUFHTztBQUNQLFNBQVMsNkRBQWM7QUFDdkI7OztBQUdPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSw2REFBYTtBQUNyQixRQUFRLDREQUFZOztBQUVwQiw0Q0FBNEM7QUFDNUMsMEJBQTBCLGVBQWUsSUFBSSxPQUFPLElBQUk7QUFDeEQ7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2xheW91dC9MYXlvdXRVdGlsLmpzPzc2ZGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNPYmplY3QsXG4gIHNvcnRCeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIHBvaW50RGlzdGFuY2UsXG4gIHBvaW50c09uTGluZVxufSBmcm9tICcuLi91dGlsL0dlb21ldHJ5JztcblxuaW1wb3J0IGludGVyc2VjdFBhdGhzIGZyb20gJ3BhdGgtaW50ZXJzZWN0aW9uJztcblxuaW1wb3J0IHsgaXNDb25uZWN0aW9uIH0gZnJvbSAnLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvVHlwZXMnKS5FbGVtZW50TGlrZX0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9UeXBlcycpLkNvbm5lY3Rpb25MaWtlfSBDb25uZWN0aW9uXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLkRpcmVjdGlvblRSQkx9IERpcmVjdGlvblRSQkxcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5JbnRlcnNlY3Rpb259IEludGVyc2VjdGlvblxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlJlY3R9IFJlY3RcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5SZWN0VFJCTH0gUmVjdFRSQkxcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7UmVjdH0gYm91bmRzXG4gKlxuICogQHJldHVybnMge1JlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZEJvdW5kcyhib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBNYXRoLnJvdW5kKGJvdW5kcy54KSxcbiAgICB5OiBNYXRoLnJvdW5kKGJvdW5kcy55KSxcbiAgICB3aWR0aDogTWF0aC5yb3VuZChib3VuZHMud2lkdGgpLFxuICAgIGhlaWdodDogTWF0aC5yb3VuZChib3VuZHMuaGVpZ2h0KVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50XG4gKlxuICogQHJldHVybnMge1BvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmRQb2ludChwb2ludCkge1xuXG4gIHJldHVybiB7XG4gICAgeDogTWF0aC5yb3VuZChwb2ludC54KSxcbiAgICB5OiBNYXRoLnJvdW5kKHBvaW50LnkpXG4gIH07XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBib3VuZHMgdG8gYSB7IHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCB9IGRlc2NyaXB0b3IuXG4gKlxuICogQHBhcmFtIHtQb2ludHxSZWN0fSBib3VuZHNcbiAqXG4gKiBAcmV0dXJuIHtSZWN0VFJCTH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzVFJCTChib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IGJvdW5kcy55LFxuICAgIHJpZ2h0OiBib3VuZHMueCArIChib3VuZHMud2lkdGggfHwgMCksXG4gICAgYm90dG9tOiBib3VuZHMueSArIChib3VuZHMuaGVpZ2h0IHx8IDApLFxuICAgIGxlZnQ6IGJvdW5kcy54XG4gIH07XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0IGEgeyB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQgfSB0byBhbiBvYmplY3RzIGJvdW5kcy5cbiAqXG4gKiBAcGFyYW0ge1JlY3RUUkJMfSB0cmJsXG4gKlxuICogQHJldHVybiB7UmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQm91bmRzKHRyYmwpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiB0cmJsLmxlZnQsXG4gICAgeTogdHJibC50b3AsXG4gICAgd2lkdGg6IHRyYmwucmlnaHQgLSB0cmJsLmxlZnQsXG4gICAgaGVpZ2h0OiB0cmJsLmJvdHRvbSAtIHRyYmwudG9wXG4gIH07XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIG1pZCBvZiB0aGUgZ2l2ZW4gYm91bmRzIG9yIHBvaW50LlxuICpcbiAqIEBwYXJhbSB7UG9pbnR8UmVjdH0gYm91bmRzXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3VuZHNNaWQoYm91bmRzKSB7XG4gIHJldHVybiByb3VuZFBvaW50KHtcbiAgICB4OiBib3VuZHMueCArIChib3VuZHMud2lkdGggfHwgMCkgLyAyLFxuICAgIHk6IGJvdW5kcy55ICsgKGJvdW5kcy5oZWlnaHQgfHwgMCkgLyAyXG4gIH0pO1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBtaWQgb2YgdGhlIGdpdmVuIENvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtDb25uZWN0aW9ufSBjb25uZWN0aW9uXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25uZWN0aW9uTWlkKGNvbm5lY3Rpb24pIHtcbiAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuXG4gIC8vIGNhbGN1bGF0ZSB0b3RhbCBsZW5ndGggYW5kIGxlbmd0aCBvZiBlYWNoIHNlZ21lbnRcbiAgdmFyIHBhcnRzID0gd2F5cG9pbnRzLnJlZHVjZShmdW5jdGlvbihwYXJ0cywgcG9pbnQsIGluZGV4KSB7XG5cbiAgICB2YXIgbGFzdFBvaW50ID0gd2F5cG9pbnRzW2luZGV4IC0gMV07XG5cbiAgICBpZiAobGFzdFBvaW50KSB7XG4gICAgICB2YXIgbGFzdFBhcnQgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcblxuICAgICAgdmFyIHN0YXJ0TGVuZ3RoID0gbGFzdFBhcnQgJiYgbGFzdFBhcnQuZW5kTGVuZ3RoIHx8IDA7XG4gICAgICB2YXIgbGVuZ3RoID0gZGlzdGFuY2UobGFzdFBvaW50LCBwb2ludCk7XG5cbiAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICBzdGFydDogbGFzdFBvaW50LFxuICAgICAgICBlbmQ6IHBvaW50LFxuICAgICAgICBzdGFydExlbmd0aDogc3RhcnRMZW5ndGgsXG4gICAgICAgIGVuZExlbmd0aDogc3RhcnRMZW5ndGggKyBsZW5ndGgsXG4gICAgICAgIGxlbmd0aDogbGVuZ3RoXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFydHM7XG4gIH0sIFtdKTtcblxuICB2YXIgdG90YWxMZW5ndGggPSBwYXJ0cy5yZWR1Y2UoZnVuY3Rpb24obGVuZ3RoLCBwYXJ0KSB7XG4gICAgcmV0dXJuIGxlbmd0aCArIHBhcnQubGVuZ3RoO1xuICB9LCAwKTtcblxuICAvLyBmaW5kIHdoaWNoIHNlZ2VtZW50IGNvbnRhaW5zIG1pZGRsZSBwb2ludFxuICB2YXIgbWlkTGVuZ3RoID0gdG90YWxMZW5ndGggLyAyO1xuXG4gIHZhciBpID0gMDtcbiAgdmFyIG1pZFNlZ21lbnQgPSBwYXJ0c1tpXTtcblxuICB3aGlsZSAobWlkU2VnbWVudC5lbmRMZW5ndGggPCBtaWRMZW5ndGgpIHtcbiAgICBtaWRTZWdtZW50ID0gcGFydHNbKytpXTtcbiAgfVxuXG4gIC8vIGNhbGN1bGF0ZSByZWxhdGl2ZSBwb3NpdGlvbiBvbiBtaWQgc2VnbWVudFxuICB2YXIgc2VnbWVudFByb2dyZXNzID0gKG1pZExlbmd0aCAtIG1pZFNlZ21lbnQuc3RhcnRMZW5ndGgpIC8gbWlkU2VnbWVudC5sZW5ndGg7XG5cbiAgdmFyIG1pZFBvaW50ID0ge1xuICAgIHg6IG1pZFNlZ21lbnQuc3RhcnQueCArIChtaWRTZWdtZW50LmVuZC54IC0gbWlkU2VnbWVudC5zdGFydC54KSAqIHNlZ21lbnRQcm9ncmVzcyxcbiAgICB5OiBtaWRTZWdtZW50LnN0YXJ0LnkgKyAobWlkU2VnbWVudC5lbmQueSAtIG1pZFNlZ21lbnQuc3RhcnQueSkgKiBzZWdtZW50UHJvZ3Jlc3NcbiAgfTtcblxuICByZXR1cm4gbWlkUG9pbnQ7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIG1pZCBvZiB0aGUgZ2l2ZW4gRWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1pZChlbGVtZW50KSB7XG4gIGlmIChpc0Nvbm5lY3Rpb24oZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZ2V0Q29ubmVjdGlvbk1pZChlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBnZXRCb3VuZHNNaWQoZWxlbWVudCk7XG59XG5cbi8vIG9yaWVudGF0aW9uIHV0aWxzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBHZXQgb3JpZW50YXRpb24gb2YgdGhlIGdpdmVuIHJlY3RhbmdsZSB3aXRoIHJlc3BlY3QgdG9cbiAqIHRoZSByZWZlcmVuY2UgcmVjdGFuZ2xlLlxuICpcbiAqIEEgcGFkZGluZyAocG9zaXRpdmUgb3IgbmVnYXRpdmUpIG1heSBiZSBwYXNzZWQgdG8gaW5mbHVlbmNlXG4gKiBob3Jpem9udGFsIC8gdmVydGljYWwgb3JpZW50YXRpb24gYW5kIGludGVyc2VjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlY3R9IHJlY3RcbiAqIEBwYXJhbSB7UmVjdH0gcmVmZXJlbmNlXG4gKiBAcGFyYW0ge1BvaW50fG51bWJlcn0gcGFkZGluZ1xuICpcbiAqIEByZXR1cm4ge0RpcmVjdGlvblRSQkx8SW50ZXJzZWN0aW9ufSB0aGUgb3JpZW50YXRpb247IG9uZSBvZiB0b3AsIHRvcC1sZWZ0LCBsZWZ0LCAuLi4sIGJvdHRvbSwgcmlnaHQgb3IgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3JpZW50YXRpb24ocmVjdCwgcmVmZXJlbmNlLCBwYWRkaW5nKSB7XG5cbiAgcGFkZGluZyA9IHBhZGRpbmcgfHwgMDtcblxuICAvLyBtYWtlIHN1cmUgd2UgY2FuIHVzZSBhbiBvYmplY3QsIHRvb1xuICAvLyBmb3IgaW5kaXZpZHVhbCB7IHgsIHkgfSBwYWRkaW5nXG4gIGlmICghaXNPYmplY3QocGFkZGluZykpIHtcbiAgICBwYWRkaW5nID0geyB4OiBwYWRkaW5nLCB5OiBwYWRkaW5nIH07XG4gIH1cblxuXG4gIHZhciByZWN0T3JpZW50YXRpb24gPSBhc1RSQkwocmVjdCksXG4gICAgICByZWZlcmVuY2VPcmllbnRhdGlvbiA9IGFzVFJCTChyZWZlcmVuY2UpO1xuXG4gIHZhciB0b3AgPSByZWN0T3JpZW50YXRpb24uYm90dG9tICsgcGFkZGluZy55IDw9IHJlZmVyZW5jZU9yaWVudGF0aW9uLnRvcCxcbiAgICAgIHJpZ2h0ID0gcmVjdE9yaWVudGF0aW9uLmxlZnQgLSBwYWRkaW5nLnggPj0gcmVmZXJlbmNlT3JpZW50YXRpb24ucmlnaHQsXG4gICAgICBib3R0b20gPSByZWN0T3JpZW50YXRpb24udG9wIC0gcGFkZGluZy55ID49IHJlZmVyZW5jZU9yaWVudGF0aW9uLmJvdHRvbSxcbiAgICAgIGxlZnQgPSByZWN0T3JpZW50YXRpb24ucmlnaHQgKyBwYWRkaW5nLnggPD0gcmVmZXJlbmNlT3JpZW50YXRpb24ubGVmdDtcblxuICB2YXIgdmVydGljYWwgPSB0b3AgPyAndG9wJyA6IChib3R0b20gPyAnYm90dG9tJyA6IG51bGwpLFxuICAgICAgaG9yaXpvbnRhbCA9IGxlZnQgPyAnbGVmdCcgOiAocmlnaHQgPyAncmlnaHQnIDogbnVsbCk7XG5cbiAgaWYgKGhvcml6b250YWwgJiYgdmVydGljYWwpIHtcbiAgICByZXR1cm4gdmVydGljYWwgKyAnLScgKyBob3Jpem9udGFsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBob3Jpem9udGFsIHx8IHZlcnRpY2FsIHx8ICdpbnRlcnNlY3QnO1xuICB9XG59XG5cblxuLy8gaW50ZXJzZWN0aW9uIHV0aWxzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBHZXQgaW50ZXJzZWN0aW9uIGJldHdlZW4gYW4gZWxlbWVudCBhbmQgYSBsaW5lIHBhdGguXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnRQYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gbGluZVBhdGhcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY3JvcFN0YXJ0IFdoZXRoZXIgdG8gY3JvcCBzdGFydCBvciBlbmQuXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50TGluZUludGVyc2VjdGlvbihlbGVtZW50UGF0aCwgbGluZVBhdGgsIGNyb3BTdGFydCkge1xuXG4gIHZhciBpbnRlcnNlY3Rpb25zID0gZ2V0SW50ZXJzZWN0aW9ucyhlbGVtZW50UGF0aCwgbGluZVBhdGgpO1xuXG4gIC8vIHJlY29nbml6ZSBpbnRlcnNlY3Rpb25zXG4gIC8vIG9ubHkgb25lIC0+IGNob29zZVxuICAvLyB0d28gY2xvc2UgdG9nZXRoZXIgLT4gY2hvb3NlIGZpcnN0XG4gIC8vIHR3byBvciBtb3JlIGRpc3RpbmN0IC0+IHB1bGwgb3V0IGFwcHJvcHJpYXRlIG9uZVxuICAvLyBub25lIC0+IG9rIChmYWxsYmFjayB0byBwb2ludCBpdHNlbGYpXG4gIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiByb3VuZFBvaW50KGludGVyc2VjdGlvbnNbMF0pO1xuICB9IGVsc2UgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID09PSAyICYmIHBvaW50RGlzdGFuY2UoaW50ZXJzZWN0aW9uc1swXSwgaW50ZXJzZWN0aW9uc1sxXSkgPCAxKSB7XG4gICAgcmV0dXJuIHJvdW5kUG9pbnQoaW50ZXJzZWN0aW9uc1swXSk7XG4gIH0gZWxzZSBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPiAxKSB7XG5cbiAgICAvLyBzb3J0IGJ5IGludGVyc2VjdGlvbnMgYmFzZWQgb24gY29ubmVjdGlvbiBzZWdtZW50ICtcbiAgICAvLyBkaXN0YW5jZSBmcm9tIHN0YXJ0XG4gICAgaW50ZXJzZWN0aW9ucyA9IHNvcnRCeShpbnRlcnNlY3Rpb25zLCBmdW5jdGlvbihpKSB7XG4gICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmZsb29yKGkudDIgKiAxMDApIHx8IDE7XG5cbiAgICAgIGRpc3RhbmNlID0gMTAwIC0gZGlzdGFuY2U7XG5cbiAgICAgIGRpc3RhbmNlID0gKGRpc3RhbmNlIDwgMTAgPyAnMCcgOiAnJykgKyBkaXN0YW5jZTtcblxuICAgICAgLy8gY3JlYXRlIGEgc29ydCBzdHJpbmcgdGhhdCBtYWtlcyBzdXJlIHdlIHNvcnRcbiAgICAgIC8vIGxpbmUgc2VnbWVudCBBU0MgKyBsaW5lIHNlZ21lbnQgcG9zaXRpb24gREVTQyAoZm9yIGNyb3BTdGFydClcbiAgICAgIC8vIGxpbmUgc2VnbWVudCBBU0MgKyBsaW5lIHNlZ21lbnQgcG9zaXRpb24gQVNDIChmb3IgY3JvcEVuZClcbiAgICAgIHJldHVybiBpLnNlZ21lbnQyICsgJyMnICsgZGlzdGFuY2U7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcm91bmRQb2ludChpbnRlcnNlY3Rpb25zW2Nyb3BTdGFydCA/IDAgOiBpbnRlcnNlY3Rpb25zLmxlbmd0aCAtIDFdKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb25zKGEsIGIpIHtcbiAgcmV0dXJuIGludGVyc2VjdFBhdGhzKGEsIGIpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJSZWR1bmRhbnRXYXlwb2ludHMod2F5cG9pbnRzKSB7XG5cbiAgLy8gYWx0ZXIgY29weSBvZiB3YXlwb2ludHMsIG5vdCBvcmlnaW5hbFxuICB3YXlwb2ludHMgPSB3YXlwb2ludHMuc2xpY2UoKTtcblxuICB2YXIgaWR4ID0gMCxcbiAgICAgIHBvaW50LFxuICAgICAgcHJldmlvdXNQb2ludCxcbiAgICAgIG5leHRQb2ludDtcblxuICB3aGlsZSAod2F5cG9pbnRzW2lkeF0pIHtcbiAgICBwb2ludCA9IHdheXBvaW50c1tpZHhdO1xuICAgIHByZXZpb3VzUG9pbnQgPSB3YXlwb2ludHNbaWR4IC0gMV07XG4gICAgbmV4dFBvaW50ID0gd2F5cG9pbnRzW2lkeCArIDFdO1xuXG4gICAgaWYgKHBvaW50RGlzdGFuY2UocG9pbnQsIG5leHRQb2ludCkgPT09IDAgfHxcbiAgICAgICAgcG9pbnRzT25MaW5lKHByZXZpb3VzUG9pbnQsIG5leHRQb2ludCwgcG9pbnQpKSB7XG5cbiAgICAgIC8vIHJlbW92ZSBwb2ludCwgaWYgb3ZlcmxhcHBpbmcgd2l0aCB7bmV4dFBvaW50fVxuICAgICAgLy8gb3Igb24gbGluZSB3aXRoIHtwcmV2aW91c1BvaW50fSAtPiB7cG9pbnR9IC0+IHtuZXh0UG9pbnR9XG4gICAgICB3YXlwb2ludHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkeCsrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3YXlwb2ludHM7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYS54IC0gYi54LCAyKSArIE1hdGgucG93KGEueSAtIGIueSwgMikpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/layout/LayoutUtil.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/model/index.js":
/*!********************************************************!*\
  !*** ../../node_modules/diagram-js/lib/model/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   isModelElement: () => (/* binding */ isModelElement)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/../../node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var object_refs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! object-refs */ \"(ssr)/../../node_modules/object-refs/dist/index.js\");\n\n\n\n\n\nvar parentRefs = new object_refs__WEBPACK_IMPORTED_MODULE_0__.Refs({ name: 'children', enumerable: true, collection: true }, { name: 'parent' }),\n    labelRefs = new object_refs__WEBPACK_IMPORTED_MODULE_0__.Refs({ name: 'labels', enumerable: true, collection: true }, { name: 'labelTarget' }),\n    attacherRefs = new object_refs__WEBPACK_IMPORTED_MODULE_0__.Refs({ name: 'attachers', collection: true }, { name: 'host' }),\n    outgoingRefs = new object_refs__WEBPACK_IMPORTED_MODULE_0__.Refs({ name: 'outgoing', collection: true }, { name: 'source' }),\n    incomingRefs = new object_refs__WEBPACK_IMPORTED_MODULE_0__.Refs({ name: 'incoming', collection: true }, { name: 'target' });\n\n/**\n * @typedef {import('./Types').Element} Element\n * @typedef {import('./Types').Shape} Shape\n * @typedef {import('./Types').Root} Root\n * @typedef {import('./Types').Label} Label\n * @typedef {import('./Types').Connection} Connection\n */\n\n/**\n * The basic graphical representation\n *\n * @class\n * @constructor\n */\nfunction ElementImpl() {\n\n  /**\n   * The object that backs up the shape\n   *\n   * @name Element#businessObject\n   * @type Object\n   */\n  Object.defineProperty(this, 'businessObject', {\n    writable: true\n  });\n\n\n  /**\n   * Single label support, will mapped to multi label array\n   *\n   * @name Element#label\n   * @type Object\n   */\n  Object.defineProperty(this, 'label', {\n    get: function() {\n      return this.labels[0];\n    },\n    set: function(newLabel) {\n\n      var label = this.label,\n          labels = this.labels;\n\n      if (!newLabel && label) {\n        labels.remove(label);\n      } else {\n        labels.add(newLabel, 0);\n      }\n    }\n  });\n\n  /**\n   * The parent shape\n   *\n   * @name Element#parent\n   * @type Shape\n   */\n  parentRefs.bind(this, 'parent');\n\n  /**\n   * The list of labels\n   *\n   * @name Element#labels\n   * @type Label\n   */\n  labelRefs.bind(this, 'labels');\n\n  /**\n   * The list of outgoing connections\n   *\n   * @name Element#outgoing\n   * @type Array<Connection>\n   */\n  outgoingRefs.bind(this, 'outgoing');\n\n  /**\n   * The list of incoming connections\n   *\n   * @name Element#incoming\n   * @type Array<Connection>\n   */\n  incomingRefs.bind(this, 'incoming');\n}\n\n\n/**\n * A graphical object\n *\n * @class\n * @constructor\n *\n * @extends ElementImpl\n */\nfunction ShapeImpl() {\n  ElementImpl.call(this);\n\n  /**\n   * Indicates frame shapes\n   *\n   * @name ShapeImpl#isFrame\n   * @type boolean\n   */\n\n  /**\n   * The list of children\n   *\n   * @name ShapeImpl#children\n   * @type Element[]\n   */\n  parentRefs.bind(this, 'children');\n\n  /**\n   * @name ShapeImpl#host\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'host');\n\n  /**\n   * @name ShapeImpl#attachers\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'attachers');\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ShapeImpl, ElementImpl);\n\n\n/**\n * A root graphical object\n *\n * @class\n * @constructor\n *\n * @extends ElementImpl\n */\nfunction RootImpl() {\n  ElementImpl.call(this);\n\n  /**\n   * The list of children\n   *\n   * @name RootImpl#children\n   * @type Element[]\n   */\n  parentRefs.bind(this, 'children');\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(RootImpl, ShapeImpl);\n\n\n/**\n * A label for an element\n *\n * @class\n * @constructor\n *\n * @extends ShapeImpl\n */\nfunction LabelImpl() {\n  ShapeImpl.call(this);\n\n  /**\n   * The labeled element\n   *\n   * @name LabelImpl#labelTarget\n   * @type Element\n   */\n  labelRefs.bind(this, 'labelTarget');\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(LabelImpl, ShapeImpl);\n\n\n/**\n * A connection between two elements\n *\n * @class\n * @constructor\n *\n * @extends ElementImpl\n */\nfunction ConnectionImpl() {\n  ElementImpl.call(this);\n\n  /**\n   * The element this connection originates from\n   *\n   * @name ConnectionImpl#source\n   * @type Element\n   */\n  outgoingRefs.bind(this, 'source');\n\n  /**\n   * The element this connection points to\n   *\n   * @name ConnectionImpl#target\n   * @type Element\n   */\n  incomingRefs.bind(this, 'target');\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ConnectionImpl, ElementImpl);\n\n\nvar types = {\n  connection: ConnectionImpl,\n  shape: ShapeImpl,\n  label: LabelImpl,\n  root: RootImpl\n};\n\n/**\n * Creates a root element.\n *\n * @overlord\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const root = Model.create('root', {\n *   x: 100,\n *   y: 100,\n *   width: 100,\n *   height: 100\n * });\n * ```\n *\n * @param {'root'} type\n * @param {any} [attrs]\n *\n * @return {Root}\n */\n\n/**\n * Creates a connection.\n *\n * @overlord\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const connection = Model.create('connection', {\n *   waypoints: [\n *     { x: 100, y: 100 },\n *     { x: 200, y: 100 }\n *   ]\n * });\n * ```\n *\n * @param {'connection'} type\n * @param {any} [attrs]\n *\n * @return {Connection}\n */\n\n/**\n * Creates a shape.\n *\n * @overlord\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const shape = Model.create('shape', {\n *   x: 100,\n *   y: 100,\n *   width: 100,\n *   height: 100\n * });\n * ```\n *\n * @param {'shape'} type\n * @param {any} [attrs]\n *\n * @return {Shape}\n */\n\n/**\n * Creates a label.\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const label = Model.create('label', {\n *   x: 100,\n *   y: 100,\n *   width: 100,\n *   height: 100,\n *   labelTarget: shape\n * });\n * ```\n *\n * @param {'label'} type\n * @param {Object} [attrs]\n *\n * @return {Label}\n */\nfunction create(type, attrs) {\n  var Type = types[type];\n  if (!Type) {\n    throw new Error('unknown type: <' + type + '>');\n  }\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)(new Type(), attrs);\n}\n\n/**\n * Checks whether an object is a model instance.\n *\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isModelElement(obj) {\n  return obj instanceof ElementImpl;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL21vZGVsL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtDO0FBQ007O0FBRUw7O0FBRW5DLHFCQUFxQiw2Q0FBSSxHQUFHLHNEQUFzRCxJQUFJLGdCQUFnQjtBQUN0RyxvQkFBb0IsNkNBQUksR0FBRyxvREFBb0QsSUFBSSxxQkFBcUI7QUFDeEcsdUJBQXVCLDZDQUFJLEdBQUcscUNBQXFDLElBQUksY0FBYztBQUNyRix1QkFBdUIsNkNBQUksR0FBRyxvQ0FBb0MsSUFBSSxnQkFBZ0I7QUFDdEYsdUJBQXVCLDZDQUFJLEdBQUcsb0NBQW9DLElBQUksZ0JBQWdCOztBQUV0RjtBQUNBLGFBQWEsMkJBQTJCO0FBQ3hDLGFBQWEseUJBQXlCO0FBQ3RDLGFBQWEsd0JBQXdCO0FBQ3JDLGFBQWEseUJBQXlCO0FBQ3RDLGFBQWEsOEJBQThCO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUFROzs7QUFHUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUFROzs7QUFHUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUFROzs7QUFHUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUFROzs7QUFHUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0JBQWdCO0FBQ3pCLFNBQVM7QUFDVDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsS0FBSztBQUNoQjtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdEQUFNO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL21vZGVsL2luZGV4LmpzP2U0N2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnbWluLWRhc2gnO1xuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzLWJyb3dzZXInO1xuXG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnb2JqZWN0LXJlZnMnO1xuXG52YXIgcGFyZW50UmVmcyA9IG5ldyBSZWZzKHsgbmFtZTogJ2NoaWxkcmVuJywgZW51bWVyYWJsZTogdHJ1ZSwgY29sbGVjdGlvbjogdHJ1ZSB9LCB7IG5hbWU6ICdwYXJlbnQnIH0pLFxuICAgIGxhYmVsUmVmcyA9IG5ldyBSZWZzKHsgbmFtZTogJ2xhYmVscycsIGVudW1lcmFibGU6IHRydWUsIGNvbGxlY3Rpb246IHRydWUgfSwgeyBuYW1lOiAnbGFiZWxUYXJnZXQnIH0pLFxuICAgIGF0dGFjaGVyUmVmcyA9IG5ldyBSZWZzKHsgbmFtZTogJ2F0dGFjaGVycycsIGNvbGxlY3Rpb246IHRydWUgfSwgeyBuYW1lOiAnaG9zdCcgfSksXG4gICAgb3V0Z29pbmdSZWZzID0gbmV3IFJlZnMoeyBuYW1lOiAnb3V0Z29pbmcnLCBjb2xsZWN0aW9uOiB0cnVlIH0sIHsgbmFtZTogJ3NvdXJjZScgfSksXG4gICAgaW5jb21pbmdSZWZzID0gbmV3IFJlZnMoeyBuYW1lOiAnaW5jb21pbmcnLCBjb2xsZWN0aW9uOiB0cnVlIH0sIHsgbmFtZTogJ3RhcmdldCcgfSk7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vVHlwZXMnKS5TaGFwZX0gU2hhcGVcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vVHlwZXMnKS5Sb290fSBSb290XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1R5cGVzJykuTGFiZWx9IExhYmVsXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1R5cGVzJykuQ29ubmVjdGlvbn0gQ29ubmVjdGlvblxuICovXG5cbi8qKlxuICogVGhlIGJhc2ljIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvblxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEVsZW1lbnRJbXBsKCkge1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHRoYXQgYmFja3MgdXAgdGhlIHNoYXBlXG4gICAqXG4gICAqIEBuYW1lIEVsZW1lbnQjYnVzaW5lc3NPYmplY3RcbiAgICogQHR5cGUgT2JqZWN0XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2J1c2luZXNzT2JqZWN0Jywge1xuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pO1xuXG5cbiAgLyoqXG4gICAqIFNpbmdsZSBsYWJlbCBzdXBwb3J0LCB3aWxsIG1hcHBlZCB0byBtdWx0aSBsYWJlbCBhcnJheVxuICAgKlxuICAgKiBAbmFtZSBFbGVtZW50I2xhYmVsXG4gICAqIEB0eXBlIE9iamVjdFxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdsYWJlbCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGFiZWxzWzBdO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbihuZXdMYWJlbCkge1xuXG4gICAgICB2YXIgbGFiZWwgPSB0aGlzLmxhYmVsLFxuICAgICAgICAgIGxhYmVscyA9IHRoaXMubGFiZWxzO1xuXG4gICAgICBpZiAoIW5ld0xhYmVsICYmIGxhYmVsKSB7XG4gICAgICAgIGxhYmVscy5yZW1vdmUobGFiZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGFiZWxzLmFkZChuZXdMYWJlbCwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogVGhlIHBhcmVudCBzaGFwZVxuICAgKlxuICAgKiBAbmFtZSBFbGVtZW50I3BhcmVudFxuICAgKiBAdHlwZSBTaGFwZVxuICAgKi9cbiAgcGFyZW50UmVmcy5iaW5kKHRoaXMsICdwYXJlbnQnKTtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgbGFiZWxzXG4gICAqXG4gICAqIEBuYW1lIEVsZW1lbnQjbGFiZWxzXG4gICAqIEB0eXBlIExhYmVsXG4gICAqL1xuICBsYWJlbFJlZnMuYmluZCh0aGlzLCAnbGFiZWxzJyk7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIG91dGdvaW5nIGNvbm5lY3Rpb25zXG4gICAqXG4gICAqIEBuYW1lIEVsZW1lbnQjb3V0Z29pbmdcbiAgICogQHR5cGUgQXJyYXk8Q29ubmVjdGlvbj5cbiAgICovXG4gIG91dGdvaW5nUmVmcy5iaW5kKHRoaXMsICdvdXRnb2luZycpO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBpbmNvbWluZyBjb25uZWN0aW9uc1xuICAgKlxuICAgKiBAbmFtZSBFbGVtZW50I2luY29taW5nXG4gICAqIEB0eXBlIEFycmF5PENvbm5lY3Rpb24+XG4gICAqL1xuICBpbmNvbWluZ1JlZnMuYmluZCh0aGlzLCAnaW5jb21pbmcnKTtcbn1cblxuXG4vKipcbiAqIEEgZ3JhcGhpY2FsIG9iamVjdFxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGV4dGVuZHMgRWxlbWVudEltcGxcbiAqL1xuZnVuY3Rpb24gU2hhcGVJbXBsKCkge1xuICBFbGVtZW50SW1wbC5jYWxsKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgZnJhbWUgc2hhcGVzXG4gICAqXG4gICAqIEBuYW1lIFNoYXBlSW1wbCNpc0ZyYW1lXG4gICAqIEB0eXBlIGJvb2xlYW5cbiAgICovXG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGNoaWxkcmVuXG4gICAqXG4gICAqIEBuYW1lIFNoYXBlSW1wbCNjaGlsZHJlblxuICAgKiBAdHlwZSBFbGVtZW50W11cbiAgICovXG4gIHBhcmVudFJlZnMuYmluZCh0aGlzLCAnY2hpbGRyZW4nKTtcblxuICAvKipcbiAgICogQG5hbWUgU2hhcGVJbXBsI2hvc3RcbiAgICogQHR5cGUgU2hhcGVcbiAgICovXG4gIGF0dGFjaGVyUmVmcy5iaW5kKHRoaXMsICdob3N0Jyk7XG5cbiAgLyoqXG4gICAqIEBuYW1lIFNoYXBlSW1wbCNhdHRhY2hlcnNcbiAgICogQHR5cGUgU2hhcGVcbiAgICovXG4gIGF0dGFjaGVyUmVmcy5iaW5kKHRoaXMsICdhdHRhY2hlcnMnKTtcbn1cblxuaW5oZXJpdHMoU2hhcGVJbXBsLCBFbGVtZW50SW1wbCk7XG5cblxuLyoqXG4gKiBBIHJvb3QgZ3JhcGhpY2FsIG9iamVjdFxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGV4dGVuZHMgRWxlbWVudEltcGxcbiAqL1xuZnVuY3Rpb24gUm9vdEltcGwoKSB7XG4gIEVsZW1lbnRJbXBsLmNhbGwodGhpcyk7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGNoaWxkcmVuXG4gICAqXG4gICAqIEBuYW1lIFJvb3RJbXBsI2NoaWxkcmVuXG4gICAqIEB0eXBlIEVsZW1lbnRbXVxuICAgKi9cbiAgcGFyZW50UmVmcy5iaW5kKHRoaXMsICdjaGlsZHJlbicpO1xufVxuXG5pbmhlcml0cyhSb290SW1wbCwgU2hhcGVJbXBsKTtcblxuXG4vKipcbiAqIEEgbGFiZWwgZm9yIGFuIGVsZW1lbnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBleHRlbmRzIFNoYXBlSW1wbFxuICovXG5mdW5jdGlvbiBMYWJlbEltcGwoKSB7XG4gIFNoYXBlSW1wbC5jYWxsKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBUaGUgbGFiZWxlZCBlbGVtZW50XG4gICAqXG4gICAqIEBuYW1lIExhYmVsSW1wbCNsYWJlbFRhcmdldFxuICAgKiBAdHlwZSBFbGVtZW50XG4gICAqL1xuICBsYWJlbFJlZnMuYmluZCh0aGlzLCAnbGFiZWxUYXJnZXQnKTtcbn1cblxuaW5oZXJpdHMoTGFiZWxJbXBsLCBTaGFwZUltcGwpO1xuXG5cbi8qKlxuICogQSBjb25uZWN0aW9uIGJldHdlZW4gdHdvIGVsZW1lbnRzXG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAZXh0ZW5kcyBFbGVtZW50SW1wbFxuICovXG5mdW5jdGlvbiBDb25uZWN0aW9uSW1wbCgpIHtcbiAgRWxlbWVudEltcGwuY2FsbCh0aGlzKTtcblxuICAvKipcbiAgICogVGhlIGVsZW1lbnQgdGhpcyBjb25uZWN0aW9uIG9yaWdpbmF0ZXMgZnJvbVxuICAgKlxuICAgKiBAbmFtZSBDb25uZWN0aW9uSW1wbCNzb3VyY2VcbiAgICogQHR5cGUgRWxlbWVudFxuICAgKi9cbiAgb3V0Z29pbmdSZWZzLmJpbmQodGhpcywgJ3NvdXJjZScpO1xuXG4gIC8qKlxuICAgKiBUaGUgZWxlbWVudCB0aGlzIGNvbm5lY3Rpb24gcG9pbnRzIHRvXG4gICAqXG4gICAqIEBuYW1lIENvbm5lY3Rpb25JbXBsI3RhcmdldFxuICAgKiBAdHlwZSBFbGVtZW50XG4gICAqL1xuICBpbmNvbWluZ1JlZnMuYmluZCh0aGlzLCAndGFyZ2V0Jyk7XG59XG5cbmluaGVyaXRzKENvbm5lY3Rpb25JbXBsLCBFbGVtZW50SW1wbCk7XG5cblxudmFyIHR5cGVzID0ge1xuICBjb25uZWN0aW9uOiBDb25uZWN0aW9uSW1wbCxcbiAgc2hhcGU6IFNoYXBlSW1wbCxcbiAgbGFiZWw6IExhYmVsSW1wbCxcbiAgcm9vdDogUm9vdEltcGxcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHJvb3QgZWxlbWVudC5cbiAqXG4gKiBAb3ZlcmxvcmRcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGltcG9ydCAqIGFzIE1vZGVsIGZyb20gJ2RpYWdyYW0tanMvbGliL21vZGVsJztcbiAqXG4gKiBjb25zdCByb290ID0gTW9kZWwuY3JlYXRlKCdyb290Jywge1xuICogICB4OiAxMDAsXG4gKiAgIHk6IDEwMCxcbiAqICAgd2lkdGg6IDEwMCxcbiAqICAgaGVpZ2h0OiAxMDBcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHsncm9vdCd9IHR5cGVcbiAqIEBwYXJhbSB7YW55fSBbYXR0cnNdXG4gKlxuICogQHJldHVybiB7Um9vdH1cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb25uZWN0aW9uLlxuICpcbiAqIEBvdmVybG9yZFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogaW1wb3J0ICogYXMgTW9kZWwgZnJvbSAnZGlhZ3JhbS1qcy9saWIvbW9kZWwnO1xuICpcbiAqIGNvbnN0IGNvbm5lY3Rpb24gPSBNb2RlbC5jcmVhdGUoJ2Nvbm5lY3Rpb24nLCB7XG4gKiAgIHdheXBvaW50czogW1xuICogICAgIHsgeDogMTAwLCB5OiAxMDAgfSxcbiAqICAgICB7IHg6IDIwMCwgeTogMTAwIH1cbiAqICAgXVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geydjb25uZWN0aW9uJ30gdHlwZVxuICogQHBhcmFtIHthbnl9IFthdHRyc11cbiAqXG4gKiBAcmV0dXJuIHtDb25uZWN0aW9ufVxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIHNoYXBlLlxuICpcbiAqIEBvdmVybG9yZFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogaW1wb3J0ICogYXMgTW9kZWwgZnJvbSAnZGlhZ3JhbS1qcy9saWIvbW9kZWwnO1xuICpcbiAqIGNvbnN0IHNoYXBlID0gTW9kZWwuY3JlYXRlKCdzaGFwZScsIHtcbiAqICAgeDogMTAwLFxuICogICB5OiAxMDAsXG4gKiAgIHdpZHRoOiAxMDAsXG4gKiAgIGhlaWdodDogMTAwXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7J3NoYXBlJ30gdHlwZVxuICogQHBhcmFtIHthbnl9IFthdHRyc11cbiAqXG4gKiBAcmV0dXJuIHtTaGFwZX1cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBsYWJlbC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGltcG9ydCAqIGFzIE1vZGVsIGZyb20gJ2RpYWdyYW0tanMvbGliL21vZGVsJztcbiAqXG4gKiBjb25zdCBsYWJlbCA9IE1vZGVsLmNyZWF0ZSgnbGFiZWwnLCB7XG4gKiAgIHg6IDEwMCxcbiAqICAgeTogMTAwLFxuICogICB3aWR0aDogMTAwLFxuICogICBoZWlnaHQ6IDEwMCxcbiAqICAgbGFiZWxUYXJnZXQ6IHNoYXBlXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7J2xhYmVsJ30gdHlwZVxuICogQHBhcmFtIHtPYmplY3R9IFthdHRyc11cbiAqXG4gKiBAcmV0dXJuIHtMYWJlbH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSh0eXBlLCBhdHRycykge1xuICB2YXIgVHlwZSA9IHR5cGVzW3R5cGVdO1xuICBpZiAoIVR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gdHlwZTogPCcgKyB0eXBlICsgJz4nKTtcbiAgfVxuICByZXR1cm4gYXNzaWduKG5ldyBUeXBlKCksIGF0dHJzKTtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhbiBvYmplY3QgaXMgYSBtb2RlbCBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0ge2FueX0gb2JqXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTW9kZWxFbGVtZW50KG9iaikge1xuICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRWxlbWVudEltcGw7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/model/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/Collections.js":
/*!*************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/Collections.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   indexOf: () => (/* binding */ indexOf),\n/* harmony export */   remove: () => (/* binding */ remove)\n/* harmony export */ });\n/**\n * Failsafe remove an element from a collection\n *\n * @param {Array<Object>} [collection]\n * @param {Object} [element]\n *\n * @return {number} the previous index of the element\n */\nfunction remove(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  var idx = collection.indexOf(element);\n\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  }\n\n  return idx;\n}\n\n/**\n * Fail save add an element to the given connection, ensuring\n * it does not yet exist.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n * @param {number} [idx]\n */\nfunction add(collection, element, idx) {\n\n  if (!collection || !element) {\n    return;\n  }\n\n  if (typeof idx !== 'number') {\n    idx = -1;\n  }\n\n  var currentIdx = collection.indexOf(element);\n\n  if (currentIdx !== -1) {\n\n    if (currentIdx === idx) {\n\n      // nothing to do, position has not changed\n      return;\n    } else {\n\n      if (idx !== -1) {\n\n        // remove from current position\n        collection.splice(currentIdx, 1);\n      } else {\n\n        // already exists in collection\n        return;\n      }\n    }\n  }\n\n  if (idx !== -1) {\n\n    // insert at specified position\n    collection.splice(idx, 0, element);\n  } else {\n\n    // push to end\n    collection.push(element);\n  }\n}\n\n\n/**\n * Fail save get the index of an element in a collection.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n *\n * @return {number} the index or -1 if collection or element do\n *                  not exist or the element is not contained.\n */\nfunction indexOf(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  return collection.indexOf(element);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvQ29sbGVjdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ087O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjs7QUFFQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0NvbGxlY3Rpb25zLmpzPzlkZDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGYWlsc2FmZSByZW1vdmUgYW4gZWxlbWVudCBmcm9tIGEgY29sbGVjdGlvblxuICpcbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gW2NvbGxlY3Rpb25dXG4gKiBAcGFyYW0ge09iamVjdH0gW2VsZW1lbnRdXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgcHJldmlvdXMgaW5kZXggb2YgdGhlIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShjb2xsZWN0aW9uLCBlbGVtZW50KSB7XG5cbiAgaWYgKCFjb2xsZWN0aW9uIHx8ICFlbGVtZW50KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgdmFyIGlkeCA9IGNvbGxlY3Rpb24uaW5kZXhPZihlbGVtZW50KTtcblxuICBpZiAoaWR4ICE9PSAtMSkge1xuICAgIGNvbGxlY3Rpb24uc3BsaWNlKGlkeCwgMSk7XG4gIH1cblxuICByZXR1cm4gaWR4O1xufVxuXG4vKipcbiAqIEZhaWwgc2F2ZSBhZGQgYW4gZWxlbWVudCB0byB0aGUgZ2l2ZW4gY29ubmVjdGlvbiwgZW5zdXJpbmdcbiAqIGl0IGRvZXMgbm90IHlldCBleGlzdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gW2lkeF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChjb2xsZWN0aW9uLCBlbGVtZW50LCBpZHgpIHtcblxuICBpZiAoIWNvbGxlY3Rpb24gfHwgIWVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodHlwZW9mIGlkeCAhPT0gJ251bWJlcicpIHtcbiAgICBpZHggPSAtMTtcbiAgfVxuXG4gIHZhciBjdXJyZW50SWR4ID0gY29sbGVjdGlvbi5pbmRleE9mKGVsZW1lbnQpO1xuXG4gIGlmIChjdXJyZW50SWR4ICE9PSAtMSkge1xuXG4gICAgaWYgKGN1cnJlbnRJZHggPT09IGlkeCkge1xuXG4gICAgICAvLyBub3RoaW5nIHRvIGRvLCBwb3NpdGlvbiBoYXMgbm90IGNoYW5nZWRcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuXG4gICAgICBpZiAoaWR4ICE9PSAtMSkge1xuXG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgY29sbGVjdGlvbi5zcGxpY2UoY3VycmVudElkeCwgMSk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIGFscmVhZHkgZXhpc3RzIGluIGNvbGxlY3Rpb25cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChpZHggIT09IC0xKSB7XG5cbiAgICAvLyBpbnNlcnQgYXQgc3BlY2lmaWVkIHBvc2l0aW9uXG4gICAgY29sbGVjdGlvbi5zcGxpY2UoaWR4LCAwLCBlbGVtZW50KTtcbiAgfSBlbHNlIHtcblxuICAgIC8vIHB1c2ggdG8gZW5kXG4gICAgY29sbGVjdGlvbi5wdXNoKGVsZW1lbnQpO1xuICB9XG59XG5cblxuLyoqXG4gKiBGYWlsIHNhdmUgZ2V0IHRoZSBpbmRleCBvZiBhbiBlbGVtZW50IGluIGEgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgaW5kZXggb3IgLTEgaWYgY29sbGVjdGlvbiBvciBlbGVtZW50IGRvXG4gKiAgICAgICAgICAgICAgICAgIG5vdCBleGlzdCBvciB0aGUgZWxlbWVudCBpcyBub3QgY29udGFpbmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihjb2xsZWN0aW9uLCBlbGVtZW50KSB7XG5cbiAgaWYgKCFjb2xsZWN0aW9uIHx8ICFlbGVtZW50KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgcmV0dXJuIGNvbGxlY3Rpb24uaW5kZXhPZihlbGVtZW50KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/Collections.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/Elements.js":
/*!**********************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/Elements.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   eachElement: () => (/* binding */ eachElement),\n/* harmony export */   getBBox: () => (/* binding */ getBBox),\n/* harmony export */   getClosure: () => (/* binding */ getClosure),\n/* harmony export */   getEnclosedElements: () => (/* binding */ getEnclosedElements),\n/* harmony export */   getParents: () => (/* binding */ getParents),\n/* harmony export */   getType: () => (/* binding */ getType),\n/* harmony export */   isFrameElement: () => (/* binding */ isFrameElement),\n/* harmony export */   selfAndAllChildren: () => (/* binding */ selfAndAllChildren),\n/* harmony export */   selfAndChildren: () => (/* binding */ selfAndChildren),\n/* harmony export */   selfAndDirectChildren: () => (/* binding */ selfAndDirectChildren)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../model/Types').Connection} Connection\n * @typedef {import('../model/Types').Element} Element\n * @typedef {import('../model/Types').Shape} Shape\n *\n * @typedef {import('../util/Types').Rect} Rect\n *\n * @typedef { {\n *   allShapes: Record<string, Shape>,\n *   allConnections: Record<string, Connection>,\n *   topLevel: Record<string, Element>,\n *   enclosedConnections: Record<string, Connection>,\n *   enclosedElements: Record<string, Element>\n * } } Closure\n */\n\n/**\n * Get parent elements.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]}\n */\nfunction getParents(elements) {\n\n  // find elements that are not children of any other elements\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(elements, function(element) {\n    return !(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, function(e) {\n      return e !== element && getParent(element, e);\n    });\n  });\n}\n\n\nfunction getParent(element, parent) {\n  if (!parent) {\n    return;\n  }\n\n  if (element === parent) {\n    return parent;\n  }\n\n  if (!element.parent) {\n    return;\n  }\n\n  return getParent(element.parent, parent);\n}\n\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Object[]} elements\n * @param {Object} element\n * @param {boolean} [unique]\n */\nfunction add(elements, element, unique) {\n  var canAdd = !unique || elements.indexOf(element) === -1;\n\n  if (canAdd) {\n    elements.push(element);\n  }\n\n  return canAdd;\n}\n\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param {Element|Element[]} elements\n * @param {(element: Element, index: number, depth: number) => Element[] | boolean | undefined} fn\n * @param {number} [depth] maximum recursion depth\n */\nfunction eachElement(elements, fn, depth) {\n\n  depth = depth || 0;\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = [ elements ];\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(s, i) {\n    var filter = fn(s, i, depth);\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n\n/**\n * Collects self + child elements up to a given depth from a list of elements.\n *\n * @param {Element|Element[]} elements the elements to select the children from\n * @param {boolean} unique whether to return a unique result set (no duplicates)\n * @param {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Element[]} found elements\n */\nfunction selfAndChildren(elements, unique, maxDepth) {\n  var result = [],\n      processedChildren = [];\n\n  eachElement(elements, function(element, i, depth) {\n    add(result, element, unique);\n\n    var children = element.children;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n\n      // children exist && children not yet processed\n      if (children && add(processedChildren, children, unique)) {\n        return children;\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return self + direct children for a number of elements\n *\n * @param {Element[]} elements to query\n * @param {boolean} [allowDuplicates] to allow duplicates in the result set\n *\n * @return {Element[]} the collected elements\n */\nfunction selfAndDirectChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, 1);\n}\n\n\n/**\n * Return self + ALL children for a number of elements\n *\n * @param {Element[]} elements to query\n * @param {boolean} [allowDuplicates] to allow duplicates in the result set\n *\n * @return {Element[]} the collected elements\n */\nfunction selfAndAllChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, -1);\n}\n\n\n/**\n * Gets the the closure for all selected elements,\n * their enclosed children and connections.\n *\n * @param {Element[]} elements\n * @param {boolean} [isTopLevel=true]\n * @param {Closure} [closure]\n *\n * @return {Closure} newClosure\n */\nfunction getClosure(elements, isTopLevel, closure) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(isTopLevel)) {\n    isTopLevel = true;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(isTopLevel)) {\n    closure = isTopLevel;\n    isTopLevel = true;\n  }\n\n\n  closure = closure || {};\n\n  var allShapes = copyObject(closure.allShapes),\n      allConnections = copyObject(closure.allConnections),\n      enclosedElements = copyObject(closure.enclosedElements),\n      enclosedConnections = copyObject(closure.enclosedConnections);\n\n  var topLevel = copyObject(\n    closure.topLevel,\n    isTopLevel && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.groupBy)(elements, function(e) { return e.id; })\n  );\n\n\n  function handleConnection(c) {\n    if (topLevel[c.source.id] && topLevel[c.target.id]) {\n      topLevel[c.id] = [ c ];\n    }\n\n    // not enclosed as a child, but maybe logically\n    // (connecting two moved elements?)\n    if (allShapes[c.source.id] && allShapes[c.target.id]) {\n      enclosedConnections[c.id] = enclosedElements[c.id] = c;\n    }\n\n    allConnections[c.id] = c;\n  }\n\n  function handleElement(element) {\n\n    enclosedElements[element.id] = element;\n\n    if (element.waypoints) {\n\n      // remember connection\n      enclosedConnections[element.id] = allConnections[element.id] = element;\n    } else {\n\n      // remember shape\n      allShapes[element.id] = element;\n\n      // remember all connections\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(element.incoming, handleConnection);\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(element.outgoing, handleConnection);\n\n      // recurse into children\n      return element.children;\n    }\n  }\n\n  eachElement(elements, handleElement);\n\n  return {\n    allShapes: allShapes,\n    allConnections: allConnections,\n    topLevel: topLevel,\n    enclosedConnections: enclosedConnections,\n    enclosedElements: enclosedElements\n  };\n}\n\n/**\n * Returns the surrounding bbox for all elements in\n * the array or the element primitive.\n *\n * @param {Element|Element[]} elements\n * @param {boolean} [stopRecursion=false]\n *\n * @return {Rect}\n */\nfunction getBBox(elements, stopRecursion) {\n\n  stopRecursion = !!stopRecursion;\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = [ elements ];\n  }\n\n  var minX,\n      minY,\n      maxX,\n      maxY;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n\n    // If element is a connection the bbox must be computed first\n    var bbox = element;\n    if (element.waypoints && !stopRecursion) {\n      bbox = getBBox(element.waypoints, true);\n    }\n\n    var x = bbox.x,\n        y = bbox.y,\n        height = bbox.height || 0,\n        width = bbox.width || 0;\n\n    if (x < minX || minX === undefined) {\n      minX = x;\n    }\n    if (y < minY || minY === undefined) {\n      minY = y;\n    }\n\n    if ((x + width) > maxX || maxX === undefined) {\n      maxX = x + width;\n    }\n    if ((y + height) > maxY || maxY === undefined) {\n      maxY = y + height;\n    }\n  });\n\n  return {\n    x: minX,\n    y: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n}\n\n\n/**\n * Returns all elements that are enclosed from the bounding box.\n *\n *   * If bbox.(width|height) is not specified the method returns\n *     all elements with element.x/y > bbox.x/y\n *   * If only bbox.x or bbox.y is specified, method return all elements with\n *     e.x > bbox.x or e.y > bbox.y\n *\n * @param {Element[]} elements List of Elements to search through\n * @param {Rect} bbox the enclosing bbox.\n *\n * @return {Element[]} enclosed elements\n */\nfunction getEnclosedElements(elements, bbox) {\n\n  var filteredElements = {};\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n\n    var e = element;\n\n    if (e.waypoints) {\n      e = getBBox(e);\n    }\n\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.y) && (e.x > bbox.x)) {\n      filteredElements[element.id] = element;\n    }\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.x) && (e.y > bbox.y)) {\n      filteredElements[element.id] = element;\n    }\n    if (e.x > bbox.x && e.y > bbox.y) {\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.width) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.height) &&\n          e.width + e.x < bbox.width + bbox.x &&\n          e.height + e.y < bbox.height + bbox.y) {\n\n        filteredElements[element.id] = element;\n      } else if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.width) || !(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.height)) {\n        filteredElements[element.id] = element;\n      }\n    }\n  });\n\n  return filteredElements;\n}\n\n/**\n * Get the element's type\n *\n * @param {Element} element\n *\n * @return {'connection' | 'shape' | 'root'}\n */\nfunction getType(element) {\n\n  if ('waypoints' in element) {\n    return 'connection';\n  }\n\n  if ('x' in element) {\n    return 'shape';\n  }\n\n  return 'root';\n}\n\n/**\n * @param {Element} element\n *\n * @return {boolean}\n */\nfunction isFrameElement(element) {\n  return !!(element && element.isFrame);\n}\n\n// helpers ///////////////////////////////\n\nfunction copyObject(src1, src2) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, src1 || {}, src2 || {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvRWxlbWVudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBVWtCOztBQUVsQjtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsa0NBQWtDO0FBQy9DLGFBQWEsZ0NBQWdDO0FBQzdDO0FBQ0EsYUFBYSw4QkFBOEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWTtBQUNaO0FBQ087O0FBRVA7QUFDQSxTQUFTLGdEQUFNO0FBQ2YsWUFBWSw4Q0FBSTtBQUNoQjtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQjtBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCLFdBQVcscUZBQXFGO0FBQ2hHLFdBQVcsUUFBUTtBQUNuQjtBQUNPOztBQUVQOztBQUVBLE9BQU8saURBQU87QUFDZDtBQUNBOztBQUVBLEVBQUUsaURBQU87QUFDVDs7QUFFQSxRQUFRLGlEQUFPO0FBQ2Y7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ087QUFDUDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ087QUFDUDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ087O0FBRVAsTUFBTSxxREFBVztBQUNqQjtBQUNBOztBQUVBLE1BQU0sa0RBQVE7QUFDZDtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsaURBQU8seUJBQXlCLGNBQWM7QUFDaEU7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBOztBQUVBO0FBQ0EsTUFBTSxpREFBTzs7QUFFYixNQUFNLGlEQUFPOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBLE9BQU8saURBQU87QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUsaURBQU87O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLE1BQU07QUFDakI7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDTzs7QUFFUDs7QUFFQSxFQUFFLGlEQUFPOztBQUVUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLGtEQUFRO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTLGtEQUFRO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0RBQVEsZ0JBQWdCLGtEQUFRO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLFVBQVUsa0RBQVEsaUJBQWlCLGtEQUFRO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTLGdEQUFNLEdBQUcsWUFBWSxZQUFZO0FBQzFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvRWxlbWVudHMuanM/OGNkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZpbHRlcixcbiAgZmluZCxcbiAgaXNBcnJheSxcbiAgaXNOdW1iZXIsXG4gIGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZCxcbiAgZ3JvdXBCeSxcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWwvVHlwZXMnKS5Db25uZWN0aW9ufSBDb25uZWN0aW9uXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuU2hhcGV9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlJlY3R9IFJlY3RcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgYWxsU2hhcGVzOiBSZWNvcmQ8c3RyaW5nLCBTaGFwZT4sXG4gKiAgIGFsbENvbm5lY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBDb25uZWN0aW9uPixcbiAqICAgdG9wTGV2ZWw6IFJlY29yZDxzdHJpbmcsIEVsZW1lbnQ+LFxuICogICBlbmNsb3NlZENvbm5lY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBDb25uZWN0aW9uPixcbiAqICAgZW5jbG9zZWRFbGVtZW50czogUmVjb3JkPHN0cmluZywgRWxlbWVudD5cbiAqIH0gfSBDbG9zdXJlXG4gKi9cblxuLyoqXG4gKiBHZXQgcGFyZW50IGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50c1xuICpcbiAqIEByZXR1cm4ge0VsZW1lbnRbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudHMoZWxlbWVudHMpIHtcblxuICAvLyBmaW5kIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCBjaGlsZHJlbiBvZiBhbnkgb3RoZXIgZWxlbWVudHNcbiAgcmV0dXJuIGZpbHRlcihlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiAhZmluZChlbGVtZW50cywgZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIGUgIT09IGVsZW1lbnQgJiYgZ2V0UGFyZW50KGVsZW1lbnQsIGUpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBnZXRQYXJlbnQoZWxlbWVudCwgcGFyZW50KSB7XG4gIGlmICghcGFyZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQgPT09IHBhcmVudCkge1xuICAgIHJldHVybiBwYXJlbnQ7XG4gIH1cblxuICBpZiAoIWVsZW1lbnQucGFyZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIGdldFBhcmVudChlbGVtZW50LnBhcmVudCwgcGFyZW50KTtcbn1cblxuXG4vKipcbiAqIEFkZHMgYW4gZWxlbWVudCB0byBhIGNvbGxlY3Rpb24gYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGVcbiAqIGVsZW1lbnQgd2FzIGFkZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0W119IGVsZW1lbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICogQHBhcmFtIHtib29sZWFufSBbdW5pcXVlXVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGVsZW1lbnRzLCBlbGVtZW50LCB1bmlxdWUpIHtcbiAgdmFyIGNhbkFkZCA9ICF1bmlxdWUgfHwgZWxlbWVudHMuaW5kZXhPZihlbGVtZW50KSA9PT0gLTE7XG5cbiAgaWYgKGNhbkFkZCkge1xuICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gY2FuQWRkO1xufVxuXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24sIGNhbGxpbmcgdGhlIGl0ZXJhdG9yIGZ1bmN0aW9uIGBmbmBcbiAqIHdpdGggKGVsZW1lbnQsIGluZGV4LCByZWN1cnNpb25EZXB0aCkuXG4gKlxuICogUmVjdXJzZSBpbnRvIGFsbCBlbGVtZW50cyB0aGF0IGFyZSByZXR1cm5lZCBieSBgZm5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IGVsZW1lbnRzXG4gKiBAcGFyYW0geyhlbGVtZW50OiBFbGVtZW50LCBpbmRleDogbnVtYmVyLCBkZXB0aDogbnVtYmVyKSA9PiBFbGVtZW50W10gfCBib29sZWFuIHwgdW5kZWZpbmVkfSBmblxuICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aF0gbWF4aW11bSByZWN1cnNpb24gZGVwdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhY2hFbGVtZW50KGVsZW1lbnRzLCBmbiwgZGVwdGgpIHtcblxuICBkZXB0aCA9IGRlcHRoIHx8IDA7XG5cbiAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gWyBlbGVtZW50cyBdO1xuICB9XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24ocywgaSkge1xuICAgIHZhciBmaWx0ZXIgPSBmbihzLCBpLCBkZXB0aCk7XG5cbiAgICBpZiAoaXNBcnJheShmaWx0ZXIpICYmIGZpbHRlci5sZW5ndGgpIHtcbiAgICAgIGVhY2hFbGVtZW50KGZpbHRlciwgZm4sIGRlcHRoICsgMSk7XG4gICAgfVxuICB9KTtcbn1cblxuXG4vKipcbiAqIENvbGxlY3RzIHNlbGYgKyBjaGlsZCBlbGVtZW50cyB1cCB0byBhIGdpdmVuIGRlcHRoIGZyb20gYSBsaXN0IG9mIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IGVsZW1lbnRzIHRoZSBlbGVtZW50cyB0byBzZWxlY3QgdGhlIGNoaWxkcmVuIGZyb21cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdW5pcXVlIHdoZXRoZXIgdG8gcmV0dXJuIGEgdW5pcXVlIHJlc3VsdCBzZXQgKG5vIGR1cGxpY2F0ZXMpXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVwdGggdGhlIGRlcHRoIHRvIHNlYXJjaCB0aHJvdWdoIG9yIC0xIGZvciBpbmZpbml0ZVxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnRbXX0gZm91bmQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGZBbmRDaGlsZHJlbihlbGVtZW50cywgdW5pcXVlLCBtYXhEZXB0aCkge1xuICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICBwcm9jZXNzZWRDaGlsZHJlbiA9IFtdO1xuXG4gIGVhY2hFbGVtZW50KGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50LCBpLCBkZXB0aCkge1xuICAgIGFkZChyZXN1bHQsIGVsZW1lbnQsIHVuaXF1ZSk7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuO1xuXG4gICAgLy8gbWF4IHRyYXZlcnNhbCBkZXB0aCBub3QgcmVhY2hlZCB5ZXRcbiAgICBpZiAobWF4RGVwdGggPT09IC0xIHx8IGRlcHRoIDwgbWF4RGVwdGgpIHtcblxuICAgICAgLy8gY2hpbGRyZW4gZXhpc3QgJiYgY2hpbGRyZW4gbm90IHlldCBwcm9jZXNzZWRcbiAgICAgIGlmIChjaGlsZHJlbiAmJiBhZGQocHJvY2Vzc2VkQ2hpbGRyZW4sIGNoaWxkcmVuLCB1bmlxdWUpKSB7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUmV0dXJuIHNlbGYgKyBkaXJlY3QgY2hpbGRyZW4gZm9yIGEgbnVtYmVyIG9mIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzIHRvIHF1ZXJ5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthbGxvd0R1cGxpY2F0ZXNdIHRvIGFsbG93IGR1cGxpY2F0ZXMgaW4gdGhlIHJlc3VsdCBzZXRcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50W119IHRoZSBjb2xsZWN0ZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGZBbmREaXJlY3RDaGlsZHJlbihlbGVtZW50cywgYWxsb3dEdXBsaWNhdGVzKSB7XG4gIHJldHVybiBzZWxmQW5kQ2hpbGRyZW4oZWxlbWVudHMsICFhbGxvd0R1cGxpY2F0ZXMsIDEpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHNlbGYgKyBBTEwgY2hpbGRyZW4gZm9yIGEgbnVtYmVyIG9mIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzIHRvIHF1ZXJ5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthbGxvd0R1cGxpY2F0ZXNdIHRvIGFsbG93IGR1cGxpY2F0ZXMgaW4gdGhlIHJlc3VsdCBzZXRcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50W119IHRoZSBjb2xsZWN0ZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGZBbmRBbGxDaGlsZHJlbihlbGVtZW50cywgYWxsb3dEdXBsaWNhdGVzKSB7XG4gIHJldHVybiBzZWxmQW5kQ2hpbGRyZW4oZWxlbWVudHMsICFhbGxvd0R1cGxpY2F0ZXMsIC0xKTtcbn1cblxuXG4vKipcbiAqIEdldHMgdGhlIHRoZSBjbG9zdXJlIGZvciBhbGwgc2VsZWN0ZWQgZWxlbWVudHMsXG4gKiB0aGVpciBlbmNsb3NlZCBjaGlsZHJlbiBhbmQgY29ubmVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1RvcExldmVsPXRydWVdXG4gKiBAcGFyYW0ge0Nsb3N1cmV9IFtjbG9zdXJlXVxuICpcbiAqIEByZXR1cm4ge0Nsb3N1cmV9IG5ld0Nsb3N1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENsb3N1cmUoZWxlbWVudHMsIGlzVG9wTGV2ZWwsIGNsb3N1cmUpIHtcblxuICBpZiAoaXNVbmRlZmluZWQoaXNUb3BMZXZlbCkpIHtcbiAgICBpc1RvcExldmVsID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChpc09iamVjdChpc1RvcExldmVsKSkge1xuICAgIGNsb3N1cmUgPSBpc1RvcExldmVsO1xuICAgIGlzVG9wTGV2ZWwgPSB0cnVlO1xuICB9XG5cblxuICBjbG9zdXJlID0gY2xvc3VyZSB8fCB7fTtcblxuICB2YXIgYWxsU2hhcGVzID0gY29weU9iamVjdChjbG9zdXJlLmFsbFNoYXBlcyksXG4gICAgICBhbGxDb25uZWN0aW9ucyA9IGNvcHlPYmplY3QoY2xvc3VyZS5hbGxDb25uZWN0aW9ucyksXG4gICAgICBlbmNsb3NlZEVsZW1lbnRzID0gY29weU9iamVjdChjbG9zdXJlLmVuY2xvc2VkRWxlbWVudHMpLFxuICAgICAgZW5jbG9zZWRDb25uZWN0aW9ucyA9IGNvcHlPYmplY3QoY2xvc3VyZS5lbmNsb3NlZENvbm5lY3Rpb25zKTtcblxuICB2YXIgdG9wTGV2ZWwgPSBjb3B5T2JqZWN0KFxuICAgIGNsb3N1cmUudG9wTGV2ZWwsXG4gICAgaXNUb3BMZXZlbCAmJiBncm91cEJ5KGVsZW1lbnRzLCBmdW5jdGlvbihlKSB7IHJldHVybiBlLmlkOyB9KVxuICApO1xuXG5cbiAgZnVuY3Rpb24gaGFuZGxlQ29ubmVjdGlvbihjKSB7XG4gICAgaWYgKHRvcExldmVsW2Muc291cmNlLmlkXSAmJiB0b3BMZXZlbFtjLnRhcmdldC5pZF0pIHtcbiAgICAgIHRvcExldmVsW2MuaWRdID0gWyBjIF07XG4gICAgfVxuXG4gICAgLy8gbm90IGVuY2xvc2VkIGFzIGEgY2hpbGQsIGJ1dCBtYXliZSBsb2dpY2FsbHlcbiAgICAvLyAoY29ubmVjdGluZyB0d28gbW92ZWQgZWxlbWVudHM/KVxuICAgIGlmIChhbGxTaGFwZXNbYy5zb3VyY2UuaWRdICYmIGFsbFNoYXBlc1tjLnRhcmdldC5pZF0pIHtcbiAgICAgIGVuY2xvc2VkQ29ubmVjdGlvbnNbYy5pZF0gPSBlbmNsb3NlZEVsZW1lbnRzW2MuaWRdID0gYztcbiAgICB9XG5cbiAgICBhbGxDb25uZWN0aW9uc1tjLmlkXSA9IGM7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVFbGVtZW50KGVsZW1lbnQpIHtcblxuICAgIGVuY2xvc2VkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuXG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG5cbiAgICAgIC8vIHJlbWVtYmVyIGNvbm5lY3Rpb25cbiAgICAgIGVuY2xvc2VkQ29ubmVjdGlvbnNbZWxlbWVudC5pZF0gPSBhbGxDb25uZWN0aW9uc1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gcmVtZW1iZXIgc2hhcGVcbiAgICAgIGFsbFNoYXBlc1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG5cbiAgICAgIC8vIHJlbWVtYmVyIGFsbCBjb25uZWN0aW9uc1xuICAgICAgZm9yRWFjaChlbGVtZW50LmluY29taW5nLCBoYW5kbGVDb25uZWN0aW9uKTtcblxuICAgICAgZm9yRWFjaChlbGVtZW50Lm91dGdvaW5nLCBoYW5kbGVDb25uZWN0aW9uKTtcblxuICAgICAgLy8gcmVjdXJzZSBpbnRvIGNoaWxkcmVuXG4gICAgICByZXR1cm4gZWxlbWVudC5jaGlsZHJlbjtcbiAgICB9XG4gIH1cblxuICBlYWNoRWxlbWVudChlbGVtZW50cywgaGFuZGxlRWxlbWVudCk7XG5cbiAgcmV0dXJuIHtcbiAgICBhbGxTaGFwZXM6IGFsbFNoYXBlcyxcbiAgICBhbGxDb25uZWN0aW9uczogYWxsQ29ubmVjdGlvbnMsXG4gICAgdG9wTGV2ZWw6IHRvcExldmVsLFxuICAgIGVuY2xvc2VkQ29ubmVjdGlvbnM6IGVuY2xvc2VkQ29ubmVjdGlvbnMsXG4gICAgZW5jbG9zZWRFbGVtZW50czogZW5jbG9zZWRFbGVtZW50c1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHN1cnJvdW5kaW5nIGJib3ggZm9yIGFsbCBlbGVtZW50cyBpblxuICogdGhlIGFycmF5IG9yIHRoZSBlbGVtZW50IHByaW1pdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8RWxlbWVudFtdfSBlbGVtZW50c1xuICogQHBhcmFtIHtib29sZWFufSBbc3RvcFJlY3Vyc2lvbj1mYWxzZV1cbiAqXG4gKiBAcmV0dXJuIHtSZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QkJveChlbGVtZW50cywgc3RvcFJlY3Vyc2lvbikge1xuXG4gIHN0b3BSZWN1cnNpb24gPSAhIXN0b3BSZWN1cnNpb247XG4gIGlmICghaXNBcnJheShlbGVtZW50cykpIHtcbiAgICBlbGVtZW50cyA9IFsgZWxlbWVudHMgXTtcbiAgfVxuXG4gIHZhciBtaW5YLFxuICAgICAgbWluWSxcbiAgICAgIG1heFgsXG4gICAgICBtYXhZO1xuXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgIC8vIElmIGVsZW1lbnQgaXMgYSBjb25uZWN0aW9uIHRoZSBiYm94IG11c3QgYmUgY29tcHV0ZWQgZmlyc3RcbiAgICB2YXIgYmJveCA9IGVsZW1lbnQ7XG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzICYmICFzdG9wUmVjdXJzaW9uKSB7XG4gICAgICBiYm94ID0gZ2V0QkJveChlbGVtZW50LndheXBvaW50cywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdmFyIHggPSBiYm94LngsXG4gICAgICAgIHkgPSBiYm94LnksXG4gICAgICAgIGhlaWdodCA9IGJib3guaGVpZ2h0IHx8IDAsXG4gICAgICAgIHdpZHRoID0gYmJveC53aWR0aCB8fCAwO1xuXG4gICAgaWYgKHggPCBtaW5YIHx8IG1pblggPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWluWCA9IHg7XG4gICAgfVxuICAgIGlmICh5IDwgbWluWSB8fCBtaW5ZID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblkgPSB5O1xuICAgIH1cblxuICAgIGlmICgoeCArIHdpZHRoKSA+IG1heFggfHwgbWF4WCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtYXhYID0geCArIHdpZHRoO1xuICAgIH1cbiAgICBpZiAoKHkgKyBoZWlnaHQpID4gbWF4WSB8fCBtYXhZID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1heFkgPSB5ICsgaGVpZ2h0O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBtaW5YLFxuICAgIHk6IG1pblksXG4gICAgaGVpZ2h0OiBtYXhZIC0gbWluWSxcbiAgICB3aWR0aDogbWF4WCAtIG1pblhcbiAgfTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIGVuY2xvc2VkIGZyb20gdGhlIGJvdW5kaW5nIGJveC5cbiAqXG4gKiAgICogSWYgYmJveC4od2lkdGh8aGVpZ2h0KSBpcyBub3Qgc3BlY2lmaWVkIHRoZSBtZXRob2QgcmV0dXJuc1xuICogICAgIGFsbCBlbGVtZW50cyB3aXRoIGVsZW1lbnQueC95ID4gYmJveC54L3lcbiAqICAgKiBJZiBvbmx5IGJib3gueCBvciBiYm94LnkgaXMgc3BlY2lmaWVkLCBtZXRob2QgcmV0dXJuIGFsbCBlbGVtZW50cyB3aXRoXG4gKiAgICAgZS54ID4gYmJveC54IG9yIGUueSA+IGJib3gueVxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50cyBMaXN0IG9mIEVsZW1lbnRzIHRvIHNlYXJjaCB0aHJvdWdoXG4gKiBAcGFyYW0ge1JlY3R9IGJib3ggdGhlIGVuY2xvc2luZyBiYm94LlxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnRbXX0gZW5jbG9zZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVuY2xvc2VkRWxlbWVudHMoZWxlbWVudHMsIGJib3gpIHtcblxuICB2YXIgZmlsdGVyZWRFbGVtZW50cyA9IHt9O1xuXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgIHZhciBlID0gZWxlbWVudDtcblxuICAgIGlmIChlLndheXBvaW50cykge1xuICAgICAgZSA9IGdldEJCb3goZSk7XG4gICAgfVxuXG4gICAgaWYgKCFpc051bWJlcihiYm94LnkpICYmIChlLnggPiBiYm94LngpKSB7XG4gICAgICBmaWx0ZXJlZEVsZW1lbnRzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcbiAgICB9XG4gICAgaWYgKCFpc051bWJlcihiYm94LngpICYmIChlLnkgPiBiYm94LnkpKSB7XG4gICAgICBmaWx0ZXJlZEVsZW1lbnRzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcbiAgICB9XG4gICAgaWYgKGUueCA+IGJib3gueCAmJiBlLnkgPiBiYm94LnkpIHtcbiAgICAgIGlmIChpc051bWJlcihiYm94LndpZHRoKSAmJiBpc051bWJlcihiYm94LmhlaWdodCkgJiZcbiAgICAgICAgICBlLndpZHRoICsgZS54IDwgYmJveC53aWR0aCArIGJib3gueCAmJlxuICAgICAgICAgIGUuaGVpZ2h0ICsgZS55IDwgYmJveC5oZWlnaHQgKyBiYm94LnkpIHtcblxuICAgICAgICBmaWx0ZXJlZEVsZW1lbnRzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcbiAgICAgIH0gZWxzZSBpZiAoIWlzTnVtYmVyKGJib3gud2lkdGgpIHx8ICFpc051bWJlcihiYm94LmhlaWdodCkpIHtcbiAgICAgICAgZmlsdGVyZWRFbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZmlsdGVyZWRFbGVtZW50cztcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGVsZW1lbnQncyB0eXBlXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7J2Nvbm5lY3Rpb24nIHwgJ3NoYXBlJyB8ICdyb290J31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGUoZWxlbWVudCkge1xuXG4gIGlmICgnd2F5cG9pbnRzJyBpbiBlbGVtZW50KSB7XG4gICAgcmV0dXJuICdjb25uZWN0aW9uJztcbiAgfVxuXG4gIGlmICgneCcgaW4gZWxlbWVudCkge1xuICAgIHJldHVybiAnc2hhcGUnO1xuICB9XG5cbiAgcmV0dXJuICdyb290Jztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGcmFtZUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gISEoZWxlbWVudCAmJiBlbGVtZW50LmlzRnJhbWUpO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gY29weU9iamVjdChzcmMxLCBzcmMyKSB7XG4gIHJldHVybiBhc3NpZ24oe30sIHNyYzEgfHwge30sIHNyYzIgfHwge30pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/Elements.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/EscapeUtil.js":
/*!************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/EscapeUtil.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   escapeCSS: () => (/* binding */ escapeCSS),\n/* harmony export */   escapeHTML: () => (/* binding */ escapeHTML)\n/* harmony export */ });\n/**\n * @param {string} str\n *\n * @return {string}\n */\nfunction escapeCSS(str) {\n  return CSS.escape(str);\n}\n\nvar HTML_ESCAPE_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\n/**\n * @param {string} str\n *\n * @return {string}\n */\nfunction escapeHTML(str) {\n  str = '' + str;\n\n  return str && str.replace(/[&<>\"']/g, function(match) {\n    return HTML_ESCAPE_MAP[match];\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvRXNjYXBlVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiLFlBQVk7QUFDWixZQUFZO0FBQ1osY0FBYztBQUNkLGNBQWM7QUFDZDs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0VzY2FwZVV0aWwuanM/OTllZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDU1Moc3RyKSB7XG4gIHJldHVybiBDU1MuZXNjYXBlKHN0cik7XG59XG5cbnZhciBIVE1MX0VTQ0FQRV9NQVAgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgJ1xcJyc6ICcmIzM5Oydcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUhUTUwoc3RyKSB7XG4gIHN0ciA9ICcnICsgc3RyO1xuXG4gIHJldHVybiBzdHIgJiYgc3RyLnJlcGxhY2UoL1smPD5cIiddL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIEhUTUxfRVNDQVBFX01BUFttYXRjaF07XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/EscapeUtil.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/Event.js":
/*!*******************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/Event.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getOriginal: () => (/* binding */ getOriginal),\n/* harmony export */   stopPropagation: () => (/* binding */ stopPropagation),\n/* harmony export */   toPoint: () => (/* binding */ toPoint)\n/* harmony export */ });\n/**\n * @typedef {import('../util/Types').Point} Point\n */\n\nfunction __stopPropagation(event) {\n  if (!event || typeof event.stopPropagation !== 'function') {\n    return;\n  }\n\n  event.stopPropagation();\n}\n\n/**\n * @param {import('../core/EventBus').Event} event\n *\n * @return {Event}\n */\nfunction getOriginal(event) {\n  return event.originalEvent || event.srcEvent;\n}\n\n/**\n * @param {Event|import('../core/EventBus').Event} event\n */\nfunction stopPropagation(event) {\n  __stopPropagation(event);\n  __stopPropagation(getOriginal(event));\n}\n\n/**\n * @param {Event} event\n *\n * @return {Point|null}\n */\nfunction toPoint(event) {\n\n  if (event.pointers && event.pointers.length) {\n    event = event.pointers[0];\n  }\n\n  if (event.touches && event.touches.length) {\n    event = event.touches[0];\n  }\n\n  return event ? {\n    x: event.clientX,\n    y: event.clientY\n  } : null;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvRXZlbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQSxhQUFhLCtCQUErQjtBQUM1Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxrQ0FBa0M7QUFDN0M7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLHdDQUF3QztBQUNuRDtBQUNPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ087O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWFkZHJhLXdlYi8uLi8uLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9FdmVudC5qcz80MzcwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICovXG5cbmZ1bmN0aW9uIF9fc3RvcFByb3BhZ2F0aW9uKGV2ZW50KSB7XG4gIGlmICghZXZlbnQgfHwgdHlwZW9mIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9jb3JlL0V2ZW50QnVzJykuRXZlbnR9IGV2ZW50XG4gKlxuICogQHJldHVybiB7RXZlbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmlnaW5hbChldmVudCkge1xuICByZXR1cm4gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudC5zcmNFdmVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fGltcG9ydCgnLi4vY29yZS9FdmVudEJ1cycpLkV2ZW50fSBldmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGV2ZW50KSB7XG4gIF9fc3RvcFByb3BhZ2F0aW9uKGV2ZW50KTtcbiAgX19zdG9wUHJvcGFnYXRpb24oZ2V0T3JpZ2luYWwoZXZlbnQpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICpcbiAqIEByZXR1cm4ge1BvaW50fG51bGx9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1BvaW50KGV2ZW50KSB7XG5cbiAgaWYgKGV2ZW50LnBvaW50ZXJzICYmIGV2ZW50LnBvaW50ZXJzLmxlbmd0aCkge1xuICAgIGV2ZW50ID0gZXZlbnQucG9pbnRlcnNbMF07XG4gIH1cblxuICBpZiAoZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCkge1xuICAgIGV2ZW50ID0gZXZlbnQudG91Y2hlc1swXTtcbiAgfVxuXG4gIHJldHVybiBldmVudCA/IHtcbiAgICB4OiBldmVudC5jbGllbnRYLFxuICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgfSA6IG51bGw7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/Event.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/Geometry.js":
/*!**********************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/Geometry.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMidPoint: () => (/* binding */ getMidPoint),\n/* harmony export */   pointDistance: () => (/* binding */ pointDistance),\n/* harmony export */   pointInRect: () => (/* binding */ pointInRect),\n/* harmony export */   pointsAligned: () => (/* binding */ pointsAligned),\n/* harmony export */   pointsAlignedOnAxis: () => (/* binding */ pointsAlignedOnAxis),\n/* harmony export */   pointsOnLine: () => (/* binding */ pointsOnLine)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../util/Types').Axis} Axis\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n */\n\n/**\n * Computes the distance between two points.\n *\n * @param {Point} a\n * @param {Point} b\n *\n * @return {number} The distance between the two points.\n */\nfunction pointDistance(a, b) {\n  if (!a || !b) {\n    return -1;\n  }\n\n  return Math.sqrt(\n    Math.pow(a.x - b.x, 2) +\n    Math.pow(a.y - b.y, 2)\n  );\n}\n\n\n/**\n * Returns true if the point r is on the line between p and q.\n *\n * @param {Point} p\n * @param {Point} q\n * @param {Point} r\n * @param {number} [accuracy=5] The accuracy with which to check (lower is better).\n *\n * @return {boolean}\n */\nfunction pointsOnLine(p, q, r, accuracy) {\n\n  if (typeof accuracy === 'undefined') {\n    accuracy = 5;\n  }\n\n  if (!p || !q || !r) {\n    return false;\n  }\n\n  var val = (q.x - p.x) * (r.y - p.y) - (q.y - p.y) * (r.x - p.x),\n      dist = pointDistance(p, q);\n\n  // @see http://stackoverflow.com/a/907491/412190\n  return Math.abs(val / dist) <= accuracy;\n}\n\n\nvar ALIGNED_THRESHOLD = 2;\n\n/**\n * Check whether two points are horizontally or vertically aligned.\n *\n * @param {Point[]|Point} a\n * @param {Point} [b]\n *\n * @return {string|boolean} If and how the two points are aligned ('h', 'v' or `false`).\n */\nfunction pointsAligned(a, b) {\n  var points = Array.from(arguments).flat();\n\n  const axisMap = {\n    'x': 'v',\n    'y': 'h'\n  };\n\n  for (const [ axis, orientation ] of Object.entries(axisMap)) {\n    if (pointsAlignedOnAxis(axis, points)) {\n      return orientation;\n    }\n  }\n\n  return false;\n}\n\n/**\n * @param {Axis} axis\n * @param {Point[]} points\n *\n * @return {boolean}\n */\nfunction pointsAlignedOnAxis(axis, points) {\n  const referencePoint = points[0];\n\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(points, function(point) {\n    return Math.abs(referencePoint[axis] - point[axis]) <= ALIGNED_THRESHOLD;\n  });\n}\n\n/**\n * Returns true if the point p is inside the rectangle rect\n *\n * @param {Point} p\n * @param {Rect} rect\n * @param {number} tolerance\n *\n * @return {boolean}\n */\nfunction pointInRect(p, rect, tolerance) {\n  tolerance = tolerance || 0;\n\n  return p.x > rect.x - tolerance &&\n         p.y > rect.y - tolerance &&\n         p.x < rect.x + rect.width + tolerance &&\n         p.y < rect.y + rect.height + tolerance;\n}\n\n/**\n * Returns a point in the middle of points p and q\n *\n * @param {Point} p\n * @param {Point} q\n *\n * @return {Point} The mid point between the two points.\n */\nfunction getMidPoint(p, q) {\n  return {\n    x: Math.round(p.x + ((q.x - p.x) / 2.0)),\n    y: Math.round(p.y + ((q.y - p.y) / 2.0))\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvR2VvbWV0cnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVrQjs7QUFFbEI7QUFDQSxhQUFhLDhCQUE4QjtBQUMzQyxhQUFhLCtCQUErQjtBQUM1QyxhQUFhLDhCQUE4QjtBQUMzQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ087QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ087O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ087QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDs7QUFFQSxTQUFTLCtDQUFLO0FBQ2Q7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0dlb21ldHJ5LmpzPzY1YTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZXZlcnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5BeGlzfSBBeGlzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUmVjdH0gUmVjdFxuICovXG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBhXG4gKiBAcGFyYW0ge1BvaW50fSBiXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHBvaW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50RGlzdGFuY2UoYSwgYikge1xuICBpZiAoIWEgfHwgIWIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICByZXR1cm4gTWF0aC5zcXJ0KFxuICAgIE1hdGgucG93KGEueCAtIGIueCwgMikgK1xuICAgIE1hdGgucG93KGEueSAtIGIueSwgMilcbiAgKTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcG9pbnQgciBpcyBvbiB0aGUgbGluZSBiZXR3ZWVuIHAgYW5kIHEuXG4gKlxuICogQHBhcmFtIHtQb2ludH0gcFxuICogQHBhcmFtIHtQb2ludH0gcVxuICogQHBhcmFtIHtQb2ludH0gclxuICogQHBhcmFtIHtudW1iZXJ9IFthY2N1cmFjeT01XSBUaGUgYWNjdXJhY3kgd2l0aCB3aGljaCB0byBjaGVjayAobG93ZXIgaXMgYmV0dGVyKS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzT25MaW5lKHAsIHEsIHIsIGFjY3VyYWN5KSB7XG5cbiAgaWYgKHR5cGVvZiBhY2N1cmFjeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBhY2N1cmFjeSA9IDU7XG4gIH1cblxuICBpZiAoIXAgfHwgIXEgfHwgIXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgdmFsID0gKHEueCAtIHAueCkgKiAoci55IC0gcC55KSAtIChxLnkgLSBwLnkpICogKHIueCAtIHAueCksXG4gICAgICBkaXN0ID0gcG9pbnREaXN0YW5jZShwLCBxKTtcblxuICAvLyBAc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzkwNzQ5MS80MTIxOTBcbiAgcmV0dXJuIE1hdGguYWJzKHZhbCAvIGRpc3QpIDw9IGFjY3VyYWN5O1xufVxuXG5cbnZhciBBTElHTkVEX1RIUkVTSE9MRCA9IDI7XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0d28gcG9pbnRzIGFyZSBob3Jpem9udGFsbHkgb3IgdmVydGljYWxseSBhbGlnbmVkLlxuICpcbiAqIEBwYXJhbSB7UG9pbnRbXXxQb2ludH0gYVxuICogQHBhcmFtIHtQb2ludH0gW2JdXG4gKlxuICogQHJldHVybiB7c3RyaW5nfGJvb2xlYW59IElmIGFuZCBob3cgdGhlIHR3byBwb2ludHMgYXJlIGFsaWduZWQgKCdoJywgJ3YnIG9yIGBmYWxzZWApLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzQWxpZ25lZChhLCBiKSB7XG4gIHZhciBwb2ludHMgPSBBcnJheS5mcm9tKGFyZ3VtZW50cykuZmxhdCgpO1xuXG4gIGNvbnN0IGF4aXNNYXAgPSB7XG4gICAgJ3gnOiAndicsXG4gICAgJ3knOiAnaCdcbiAgfTtcblxuICBmb3IgKGNvbnN0IFsgYXhpcywgb3JpZW50YXRpb24gXSBvZiBPYmplY3QuZW50cmllcyhheGlzTWFwKSkge1xuICAgIGlmIChwb2ludHNBbGlnbmVkT25BeGlzKGF4aXMsIHBvaW50cykpIHtcbiAgICAgIHJldHVybiBvcmllbnRhdGlvbjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBeGlzfSBheGlzXG4gKiBAcGFyYW0ge1BvaW50W119IHBvaW50c1xuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNBbGlnbmVkT25BeGlzKGF4aXMsIHBvaW50cykge1xuICBjb25zdCByZWZlcmVuY2VQb2ludCA9IHBvaW50c1swXTtcblxuICByZXR1cm4gZXZlcnkocG9pbnRzLCBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBNYXRoLmFicyhyZWZlcmVuY2VQb2ludFtheGlzXSAtIHBvaW50W2F4aXNdKSA8PSBBTElHTkVEX1RIUkVTSE9MRDtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwb2ludCBwIGlzIGluc2lkZSB0aGUgcmVjdGFuZ2xlIHJlY3RcbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwXG4gKiBAcGFyYW0ge1JlY3R9IHJlY3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2VcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRJblJlY3QocCwgcmVjdCwgdG9sZXJhbmNlKSB7XG4gIHRvbGVyYW5jZSA9IHRvbGVyYW5jZSB8fCAwO1xuXG4gIHJldHVybiBwLnggPiByZWN0LnggLSB0b2xlcmFuY2UgJiZcbiAgICAgICAgIHAueSA+IHJlY3QueSAtIHRvbGVyYW5jZSAmJlxuICAgICAgICAgcC54IDwgcmVjdC54ICsgcmVjdC53aWR0aCArIHRvbGVyYW5jZSAmJlxuICAgICAgICAgcC55IDwgcmVjdC55ICsgcmVjdC5oZWlnaHQgKyB0b2xlcmFuY2U7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHBvaW50IGluIHRoZSBtaWRkbGUgb2YgcG9pbnRzIHAgYW5kIHFcbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwXG4gKiBAcGFyYW0ge1BvaW50fSBxXG4gKlxuICogQHJldHVybiB7UG9pbnR9IFRoZSBtaWQgcG9pbnQgYmV0d2VlbiB0aGUgdHdvIHBvaW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1pZFBvaW50KHAsIHEpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBNYXRoLnJvdW5kKHAueCArICgocS54IC0gcC54KSAvIDIuMCkpLFxuICAgIHk6IE1hdGgucm91bmQocC55ICsgKChxLnkgLSBwLnkpIC8gMi4wKSlcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/Geometry.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/GraphicsUtil.js":
/*!**************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/GraphicsUtil.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getChildren: () => (/* binding */ getChildren),\n/* harmony export */   getVisual: () => (/* binding */ getVisual)\n/* harmony export */ });\n/**\n * SVGs for elements are generated by the {@link GraphicsFactory}.\n *\n * This utility gives quick access to the important semantic\n * parts of an element.\n */\n\n/**\n * Returns the visual part of a diagram element.\n *\n * @param {SVGElement} gfx\n *\n * @return {SVGElement}\n */\nfunction getVisual(gfx) {\n  return gfx.childNodes[0];\n}\n\n/**\n * Returns the children for a given diagram element.\n *\n * @param {SVGElement} gfx\n * @return {SVGElement}\n */\nfunction getChildren(gfx) {\n  return gfx.parentNode.childNodes[1];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvR3JhcGhpY3NVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQSwyQ0FBMkMsc0JBQXNCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvR3JhcGhpY3NVdGlsLmpzPzg4YmYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTVkdzIGZvciBlbGVtZW50cyBhcmUgZ2VuZXJhdGVkIGJ5IHRoZSB7QGxpbmsgR3JhcGhpY3NGYWN0b3J5fS5cbiAqXG4gKiBUaGlzIHV0aWxpdHkgZ2l2ZXMgcXVpY2sgYWNjZXNzIHRvIHRoZSBpbXBvcnRhbnQgc2VtYW50aWNcbiAqIHBhcnRzIG9mIGFuIGVsZW1lbnQuXG4gKi9cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2aXN1YWwgcGFydCBvZiBhIGRpYWdyYW0gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaXN1YWwoZ2Z4KSB7XG4gIHJldHVybiBnZnguY2hpbGROb2Rlc1swXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjaGlsZHJlbiBmb3IgYSBnaXZlbiBkaWFncmFtIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGlsZHJlbihnZngpIHtcbiAgcmV0dXJuIGdmeC5wYXJlbnROb2RlLmNoaWxkTm9kZXNbMV07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/GraphicsUtil.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/IdGenerator.js":
/*!*************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/IdGenerator.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IdGenerator)\n/* harmony export */ });\n/**\n * Util that provides unique IDs.\n *\n * @class\n * @constructor\n *\n * The ids can be customized via a given prefix and contain a random value to avoid collisions.\n *\n * @param {string} [prefix] a prefix to prepend to generated ids (for better readability)\n */\nfunction IdGenerator(prefix) {\n\n  this._counter = 0;\n  this._prefix = (prefix ? prefix + '-' : '') + Math.floor(Math.random() * 1000000000) + '-';\n}\n\n/**\n * Returns a next unique ID.\n *\n * @return {string} the id\n */\nIdGenerator.prototype.next = function() {\n  return this._prefix + (++this._counter);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvSWRHZW5lcmF0b3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDZTs7QUFFZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvSWRHZW5lcmF0b3IuanM/NWM3YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFV0aWwgdGhhdCBwcm92aWRlcyB1bmlxdWUgSURzLlxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogVGhlIGlkcyBjYW4gYmUgY3VzdG9taXplZCB2aWEgYSBnaXZlbiBwcmVmaXggYW5kIGNvbnRhaW4gYSByYW5kb20gdmFsdWUgdG8gYXZvaWQgY29sbGlzaW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeF0gYSBwcmVmaXggdG8gcHJlcGVuZCB0byBnZW5lcmF0ZWQgaWRzIChmb3IgYmV0dGVyIHJlYWRhYmlsaXR5KVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJZEdlbmVyYXRvcihwcmVmaXgpIHtcblxuICB0aGlzLl9jb3VudGVyID0gMDtcbiAgdGhpcy5fcHJlZml4ID0gKHByZWZpeCA/IHByZWZpeCArICctJyA6ICcnKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwMDApICsgJy0nO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBuZXh0IHVuaXF1ZSBJRC5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBpZFxuICovXG5JZEdlbmVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fcHJlZml4ICsgKCsrdGhpcy5fY291bnRlcik7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/IdGenerator.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/ModelUtil.js":
/*!***********************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/ModelUtil.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isConnection: () => (/* binding */ isConnection),\n/* harmony export */   isLabel: () => (/* binding */ isLabel),\n/* harmony export */   isRoot: () => (/* binding */ isRoot)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * Checks whether a value is an instance of Connection.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isConnection(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.has)(value, 'waypoints');\n}\n\n/**\n * Checks whether a value is an instance of Label.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isLabel(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.has)(value, 'labelTarget');\n}\n\n/**\n * Checks whether a value is an instance of Root.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isRoot(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNil)(value.parent);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvTW9kZWxVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJa0I7O0FBRWxCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1AsU0FBUyxrREFBUSxXQUFXLDZDQUFHO0FBQy9COztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1AsU0FBUyxrREFBUSxXQUFXLDZDQUFHO0FBQy9COztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1AsU0FBUyxrREFBUSxXQUFXLCtDQUFLO0FBQ2pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvTW9kZWxVdGlsLmpzP2IxNTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaGFzLFxuICBpc05pbCxcbiAgaXNPYmplY3Rcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgdmFsdWUgaXMgYW4gaW5zdGFuY2Ugb2YgQ29ubmVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb25uZWN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgaGFzKHZhbHVlLCAnd2F5cG9pbnRzJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBMYWJlbC5cbiAqXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMYWJlbCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIGhhcyh2YWx1ZSwgJ2xhYmVsVGFyZ2V0Jyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBSb290LlxuICpcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Jvb3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiBpc05pbCh2YWx1ZS5wYXJlbnQpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/ModelUtil.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/Mouse.js":
/*!*******************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/Mouse.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasPrimaryModifier: () => (/* binding */ hasPrimaryModifier),\n/* harmony export */   hasSecondaryModifier: () => (/* binding */ hasSecondaryModifier),\n/* harmony export */   isAuxiliaryButton: () => (/* binding */ isAuxiliaryButton),\n/* harmony export */   isButton: () => (/* binding */ isButton),\n/* harmony export */   isMac: () => (/* reexport safe */ _Platform__WEBPACK_IMPORTED_MODULE_0__.isMac),\n/* harmony export */   isPrimaryButton: () => (/* binding */ isPrimaryButton),\n/* harmony export */   isSecondaryButton: () => (/* binding */ isSecondaryButton)\n/* harmony export */ });\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"(ssr)/../../node_modules/diagram-js/lib/util/Event.js\");\n/* harmony import */ var _Platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Platform */ \"(ssr)/../../node_modules/diagram-js/lib/util/Platform.js\");\n\n\n\n\n\n\n/**\n * @param {MouseEvent} event\n * @param {string} button\n *\n * @return {boolean}\n */\nfunction isButton(event, button) {\n  return ((0,_Event__WEBPACK_IMPORTED_MODULE_1__.getOriginal)(event) || event).button === button;\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction isPrimaryButton(event) {\n\n  // button === 0 -> left ka primary mouse button\n  return isButton(event, 0);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction isAuxiliaryButton(event) {\n\n  // button === 1 -> auxiliary ka wheel button\n  return isButton(event, 1);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction isSecondaryButton(event) {\n\n  // button === 2 -> right ka secondary button\n  return isButton(event, 2);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction hasPrimaryModifier(event) {\n  var originalEvent = (0,_Event__WEBPACK_IMPORTED_MODULE_1__.getOriginal)(event) || event;\n\n  if (!isPrimaryButton(event)) {\n    return false;\n  }\n\n  // Use cmd as primary modifier key for mac OS\n  if ((0,_Platform__WEBPACK_IMPORTED_MODULE_0__.isMac)()) {\n    return originalEvent.metaKey;\n  } else {\n    return originalEvent.ctrlKey;\n  }\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction hasSecondaryModifier(event) {\n  var originalEvent = (0,_Event__WEBPACK_IMPORTED_MODULE_1__.getOriginal)(event) || event;\n\n  return isPrimaryButton(event) && originalEvent.shiftKey;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvTW91c2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRWlCOztBQUlHOztBQUlBOztBQUVwQjtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQLFVBQVUsbURBQWdCO0FBQzFCOztBQUVBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ087O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ087O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ087O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxzQkFBc0IsbURBQWdCOztBQUV0QztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGdEQUFLO0FBQ1g7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxzQkFBc0IsbURBQWdCOztBQUV0QztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvTW91c2UuanM/ZDJjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBnZXRPcmlnaW5hbCBhcyBnZXRPcmlnaW5hbEV2ZW50XG59IGZyb20gJy4vRXZlbnQnO1xuXG5pbXBvcnQge1xuICBpc01hY1xufSBmcm9tICcuL1BsYXRmb3JtJztcblxuZXhwb3J0IHtcbiAgaXNNYWNcbn0gZnJvbSAnLi9QbGF0Zm9ybSc7XG5cbi8qKlxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvblxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0J1dHRvbihldmVudCwgYnV0dG9uKSB7XG4gIHJldHVybiAoZ2V0T3JpZ2luYWxFdmVudChldmVudCkgfHwgZXZlbnQpLmJ1dHRvbiA9PT0gYnV0dG9uO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSB7XG5cbiAgLy8gYnV0dG9uID09PSAwIC0+IGxlZnQgw6FrYSBwcmltYXJ5IG1vdXNlIGJ1dHRvblxuICByZXR1cm4gaXNCdXR0b24oZXZlbnQsIDApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBdXhpbGlhcnlCdXR0b24oZXZlbnQpIHtcblxuICAvLyBidXR0b24gPT09IDEgLT4gYXV4aWxpYXJ5IMOha2Egd2hlZWwgYnV0dG9uXG4gIHJldHVybiBpc0J1dHRvbihldmVudCwgMSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NlY29uZGFyeUJ1dHRvbihldmVudCkge1xuXG4gIC8vIGJ1dHRvbiA9PT0gMiAtPiByaWdodCDDoWthIHNlY29uZGFyeSBidXR0b25cbiAgcmV0dXJuIGlzQnV0dG9uKGV2ZW50LCAyKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1ByaW1hcnlNb2RpZmllcihldmVudCkge1xuICB2YXIgb3JpZ2luYWxFdmVudCA9IGdldE9yaWdpbmFsRXZlbnQoZXZlbnQpIHx8IGV2ZW50O1xuXG4gIGlmICghaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFVzZSBjbWQgYXMgcHJpbWFyeSBtb2RpZmllciBrZXkgZm9yIG1hYyBPU1xuICBpZiAoaXNNYWMoKSkge1xuICAgIHJldHVybiBvcmlnaW5hbEV2ZW50Lm1ldGFLZXk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9yaWdpbmFsRXZlbnQuY3RybEtleTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzU2Vjb25kYXJ5TW9kaWZpZXIoZXZlbnQpIHtcbiAgdmFyIG9yaWdpbmFsRXZlbnQgPSBnZXRPcmlnaW5hbEV2ZW50KGV2ZW50KSB8fCBldmVudDtcblxuICByZXR1cm4gaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSAmJiBvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/Mouse.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/Platform.js":
/*!**********************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/Platform.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isMac: () => (/* binding */ isMac)\n/* harmony export */ });\nfunction isMac() {\n  return (/mac/i).test(navigator.platform);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvUGxhdGZvcm0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1BsYXRmb3JtLmpzPzU3NzEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzTWFjKCkge1xuICByZXR1cm4gKC9tYWMvaSkudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/Platform.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/RenderUtil.js":
/*!************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/RenderUtil.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   componentsToPath: () => (/* binding */ componentsToPath),\n/* harmony export */   createLine: () => (/* binding */ createLine),\n/* harmony export */   toSVGPoints: () => (/* binding */ toSVGPoints),\n/* harmony export */   updateLine: () => (/* binding */ updateLine)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/../../node_modules/tiny-svg/dist/index.esm.js\");\n\n\n\n\n\n/**\n * @typedef {(string|number)[]} Component\n *\n * @typedef {import('../util/Types').Point} Point\n */\n\n/**\n * @param {Component[] | Component[][]} elements\n *\n * @return {string}\n */\nfunction componentsToPath(elements) {\n  return elements.flat().join(',').replace(/,?([A-Za-z]),?/g, '$1');\n}\n\n/**\n * @param {Point[]} points\n *\n * @return {string}\n */\nfunction toSVGPoints(points) {\n  var result = '';\n\n  for (var i = 0, p; (p = points[i]); i++) {\n    result += p.x + ',' + p.y + ' ';\n  }\n\n  return result;\n}\n\n/**\n * @param {Point} point\n *\n * @return {Component[]}\n */\nfunction move(point) {\n  return [ 'M', point.x, point.y ];\n}\n\n/**\n * @param {Point} point\n *\n * @return {Component[]}\n */\nfunction lineTo(point) {\n  return [ 'L', point.x, point.y ];\n}\n\n/**\n * @param {Point} p1\n * @param {Point} p2\n * @param {Point} p3\n *\n * @return {Component[]}\n */\nfunction curveTo(p1, p2, p3) {\n  return [ 'C', p1.x, p1.y, p2.x, p2.y, p3.x, p3.y ];\n}\n\n/**\n * @param {Point[]} waypoints\n * @param {number} [cornerRadius]\n * @return {Component[][]}\n */\nfunction drawPath(waypoints, cornerRadius) {\n  const pointCount = waypoints.length;\n\n  const path = [ move(waypoints[0]) ];\n\n  for (let i = 1; i < pointCount; i++) {\n\n    const pointBefore = waypoints[i - 1];\n    const point = waypoints[i];\n    const pointAfter = waypoints[i + 1];\n\n    if (!pointAfter || !cornerRadius) {\n      path.push(lineTo(point));\n\n      continue;\n    }\n\n    const effectiveRadius = Math.min(\n      cornerRadius,\n      vectorLength(point.x - pointBefore.x, point.y - pointBefore.y),\n      vectorLength(pointAfter.x - point.x, pointAfter.y - point.y)\n    );\n\n    if (!effectiveRadius) {\n      path.push(lineTo(point));\n\n      continue;\n    }\n\n    const beforePoint = getPointAtLength(point, pointBefore, effectiveRadius);\n    const beforePoint2 = getPointAtLength(point, pointBefore, effectiveRadius * .5);\n\n    const afterPoint = getPointAtLength(point, pointAfter, effectiveRadius);\n    const afterPoint2 = getPointAtLength(point, pointAfter, effectiveRadius * .5);\n\n    path.push(lineTo(beforePoint));\n    path.push(curveTo(beforePoint2, afterPoint2, afterPoint));\n  }\n\n  return path;\n}\n\nfunction getPointAtLength(start, end, length) {\n\n  const deltaX = end.x - start.x;\n  const deltaY = end.y - start.y;\n\n  const totalLength = vectorLength(deltaX, deltaY);\n\n  const percent = length / totalLength;\n\n  return {\n    x: start.x + deltaX * percent,\n    y: start.y + deltaY * percent\n  };\n}\n\nfunction vectorLength(x, y) {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n}\n\n/**\n * @param {Point[]} points\n * @param {number|Object} [attrs]\n * @param {number} [radius]\n *\n * @return {SVGElement}\n */\nfunction createLine(points, attrs, radius) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(attrs)) {\n    radius = attrs;\n    attrs = null;\n  }\n\n  if (!attrs) {\n    attrs = {};\n  }\n\n  const line = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('path', attrs);\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(radius)) {\n    line.dataset.cornerRadius = String(radius);\n  }\n\n  return updateLine(line, points);\n}\n\n/**\n * @param {SVGElement} gfx\n * @param {Point[]} points\n *\n * @return {SVGElement}\n */\nfunction updateLine(gfx, points) {\n\n  const cornerRadius = parseInt(gfx.dataset.cornerRadius, 10) || 0;\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(gfx, {\n    d: componentsToPath(drawPath(points, cornerRadius))\n  });\n\n  return gfx;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvUmVuZGVyVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFa0I7O0FBS0E7OztBQUdsQjtBQUNBLGFBQWEsbUJBQW1CO0FBQ2hDO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUM7O0FBRUE7QUFDQSxXQUFXLDZCQUE2QjtBQUN4QztBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7O0FBRUEscUJBQXFCLGlCQUFpQjtBQUN0QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrQkFBa0IsZ0JBQWdCOztBQUVsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsZUFBZTtBQUMxQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUCxNQUFNLGtEQUFRO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLGdEQUFTOztBQUV4QixNQUFNLGtEQUFRO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNPOztBQUVQOztBQUVBLEVBQUUsOENBQU87QUFDVDtBQUNBLEdBQUc7O0FBRUg7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1JlbmRlclV0aWwuanM/OWUwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc051bWJlclxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7KHN0cmluZ3xudW1iZXIpW119IENvbXBvbmVudFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7Q29tcG9uZW50W10gfCBDb21wb25lbnRbXVtdfSBlbGVtZW50c1xuICpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudHNUb1BhdGgoZWxlbWVudHMpIHtcbiAgcmV0dXJuIGVsZW1lbnRzLmZsYXQoKS5qb2luKCcsJykucmVwbGFjZSgvLD8oW0EtWmEtel0pLD8vZywgJyQxJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtQb2ludFtdfSBwb2ludHNcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1NWR1BvaW50cyhwb2ludHMpIHtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwLCBwOyAocCA9IHBvaW50c1tpXSk7IGkrKykge1xuICAgIHJlc3VsdCArPSBwLnggKyAnLCcgKyBwLnkgKyAnICc7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50XG4gKlxuICogQHJldHVybiB7Q29tcG9uZW50W119XG4gKi9cbmZ1bmN0aW9uIG1vdmUocG9pbnQpIHtcbiAgcmV0dXJuIFsgJ00nLCBwb2ludC54LCBwb2ludC55IF07XG59XG5cbi8qKlxuICogQHBhcmFtIHtQb2ludH0gcG9pbnRcbiAqXG4gKiBAcmV0dXJuIHtDb21wb25lbnRbXX1cbiAqL1xuZnVuY3Rpb24gbGluZVRvKHBvaW50KSB7XG4gIHJldHVybiBbICdMJywgcG9pbnQueCwgcG9pbnQueSBdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UG9pbnR9IHAxXG4gKiBAcGFyYW0ge1BvaW50fSBwMlxuICogQHBhcmFtIHtQb2ludH0gcDNcbiAqXG4gKiBAcmV0dXJuIHtDb21wb25lbnRbXX1cbiAqL1xuZnVuY3Rpb24gY3VydmVUbyhwMSwgcDIsIHAzKSB7XG4gIHJldHVybiBbICdDJywgcDEueCwgcDEueSwgcDIueCwgcDIueSwgcDMueCwgcDMueSBdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UG9pbnRbXX0gd2F5cG9pbnRzXG4gKiBAcGFyYW0ge251bWJlcn0gW2Nvcm5lclJhZGl1c11cbiAqIEByZXR1cm4ge0NvbXBvbmVudFtdW119XG4gKi9cbmZ1bmN0aW9uIGRyYXdQYXRoKHdheXBvaW50cywgY29ybmVyUmFkaXVzKSB7XG4gIGNvbnN0IHBvaW50Q291bnQgPSB3YXlwb2ludHMubGVuZ3RoO1xuXG4gIGNvbnN0IHBhdGggPSBbIG1vdmUod2F5cG9pbnRzWzBdKSBdO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRDb3VudDsgaSsrKSB7XG5cbiAgICBjb25zdCBwb2ludEJlZm9yZSA9IHdheXBvaW50c1tpIC0gMV07XG4gICAgY29uc3QgcG9pbnQgPSB3YXlwb2ludHNbaV07XG4gICAgY29uc3QgcG9pbnRBZnRlciA9IHdheXBvaW50c1tpICsgMV07XG5cbiAgICBpZiAoIXBvaW50QWZ0ZXIgfHwgIWNvcm5lclJhZGl1cykge1xuICAgICAgcGF0aC5wdXNoKGxpbmVUbyhwb2ludCkpO1xuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBlZmZlY3RpdmVSYWRpdXMgPSBNYXRoLm1pbihcbiAgICAgIGNvcm5lclJhZGl1cyxcbiAgICAgIHZlY3Rvckxlbmd0aChwb2ludC54IC0gcG9pbnRCZWZvcmUueCwgcG9pbnQueSAtIHBvaW50QmVmb3JlLnkpLFxuICAgICAgdmVjdG9yTGVuZ3RoKHBvaW50QWZ0ZXIueCAtIHBvaW50LngsIHBvaW50QWZ0ZXIueSAtIHBvaW50LnkpXG4gICAgKTtcblxuICAgIGlmICghZWZmZWN0aXZlUmFkaXVzKSB7XG4gICAgICBwYXRoLnB1c2gobGluZVRvKHBvaW50KSk7XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGJlZm9yZVBvaW50ID0gZ2V0UG9pbnRBdExlbmd0aChwb2ludCwgcG9pbnRCZWZvcmUsIGVmZmVjdGl2ZVJhZGl1cyk7XG4gICAgY29uc3QgYmVmb3JlUG9pbnQyID0gZ2V0UG9pbnRBdExlbmd0aChwb2ludCwgcG9pbnRCZWZvcmUsIGVmZmVjdGl2ZVJhZGl1cyAqIC41KTtcblxuICAgIGNvbnN0IGFmdGVyUG9pbnQgPSBnZXRQb2ludEF0TGVuZ3RoKHBvaW50LCBwb2ludEFmdGVyLCBlZmZlY3RpdmVSYWRpdXMpO1xuICAgIGNvbnN0IGFmdGVyUG9pbnQyID0gZ2V0UG9pbnRBdExlbmd0aChwb2ludCwgcG9pbnRBZnRlciwgZWZmZWN0aXZlUmFkaXVzICogLjUpO1xuXG4gICAgcGF0aC5wdXNoKGxpbmVUbyhiZWZvcmVQb2ludCkpO1xuICAgIHBhdGgucHVzaChjdXJ2ZVRvKGJlZm9yZVBvaW50MiwgYWZ0ZXJQb2ludDIsIGFmdGVyUG9pbnQpKTtcbiAgfVxuXG4gIHJldHVybiBwYXRoO1xufVxuXG5mdW5jdGlvbiBnZXRQb2ludEF0TGVuZ3RoKHN0YXJ0LCBlbmQsIGxlbmd0aCkge1xuXG4gIGNvbnN0IGRlbHRhWCA9IGVuZC54IC0gc3RhcnQueDtcbiAgY29uc3QgZGVsdGFZID0gZW5kLnkgLSBzdGFydC55O1xuXG4gIGNvbnN0IHRvdGFsTGVuZ3RoID0gdmVjdG9yTGVuZ3RoKGRlbHRhWCwgZGVsdGFZKTtcblxuICBjb25zdCBwZXJjZW50ID0gbGVuZ3RoIC8gdG90YWxMZW5ndGg7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBzdGFydC54ICsgZGVsdGFYICogcGVyY2VudCxcbiAgICB5OiBzdGFydC55ICsgZGVsdGFZICogcGVyY2VudFxuICB9O1xufVxuXG5mdW5jdGlvbiB2ZWN0b3JMZW5ndGgoeCwgeSkge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHgsIDIpICsgTWF0aC5wb3coeSwgMikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UG9pbnRbXX0gcG9pbnRzXG4gKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IFthdHRyc11cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzXVxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMaW5lKHBvaW50cywgYXR0cnMsIHJhZGl1cykge1xuXG4gIGlmIChpc051bWJlcihhdHRycykpIHtcbiAgICByYWRpdXMgPSBhdHRycztcbiAgICBhdHRycyA9IG51bGw7XG4gIH1cblxuICBpZiAoIWF0dHJzKSB7XG4gICAgYXR0cnMgPSB7fTtcbiAgfVxuXG4gIGNvbnN0IGxpbmUgPSBzdmdDcmVhdGUoJ3BhdGgnLCBhdHRycyk7XG5cbiAgaWYgKGlzTnVtYmVyKHJhZGl1cykpIHtcbiAgICBsaW5lLmRhdGFzZXQuY29ybmVyUmFkaXVzID0gU3RyaW5nKHJhZGl1cyk7XG4gIH1cblxuICByZXR1cm4gdXBkYXRlTGluZShsaW5lLCBwb2ludHMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcGFyYW0ge1BvaW50W119IHBvaW50c1xuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVMaW5lKGdmeCwgcG9pbnRzKSB7XG5cbiAgY29uc3QgY29ybmVyUmFkaXVzID0gcGFyc2VJbnQoZ2Z4LmRhdGFzZXQuY29ybmVyUmFkaXVzLCAxMCkgfHwgMDtcblxuICBzdmdBdHRyKGdmeCwge1xuICAgIGQ6IGNvbXBvbmVudHNUb1BhdGgoZHJhd1BhdGgocG9pbnRzLCBjb3JuZXJSYWRpdXMpKVxuICB9KTtcblxuICByZXR1cm4gZ2Z4O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/RenderUtil.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/SvgTransformUtil.js":
/*!******************************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/SvgTransformUtil.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   transform: () => (/* binding */ transform),\n/* harmony export */   translate: () => (/* binding */ translate)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/../../node_modules/tiny-svg/dist/index.esm.js\");\n\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} x\r\n * @param {number} y\r\n * @param {number} [angle]\r\n * @param {number} [amount]\r\n */\r\nfunction transform(gfx, x, y, angle, amount) {\r\n  var translate = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  translate.setTranslate(x, y);\r\n\r\n  var rotate = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  rotate.setRotate(angle || 0, 0, 0);\r\n\r\n  var scale = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  scale.setScale(amount || 1, amount || 1);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.transform)(gfx, [ translate, rotate, scale ]);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} x\r\n * @param {number} y\r\n */\r\nfunction translate(gfx, x, y) {\r\n  var translate = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  translate.setTranslate(x, y);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.transform)(gfx, translate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} angle\r\n */\r\nfunction rotate(gfx, angle) {\r\n  var rotate = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  rotate.setRotate(angle, 0, 0);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.transform)(gfx, rotate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} amount\r\n */\r\nfunction scale(gfx, amount) {\r\n  var scale = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  scale.setScale(amount, amount);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.transform)(gfx, scale);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ087QUFDUCxrQkFBa0IseURBQWU7QUFDakM7QUFDQTtBQUNBLGVBQWUseURBQWU7QUFDOUI7QUFDQTtBQUNBLGNBQWMseURBQWU7QUFDN0I7QUFDQTtBQUNBLEVBQUUsbURBQVk7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ087QUFDUCxrQkFBa0IseURBQWU7QUFDakM7QUFDQTtBQUNBLEVBQUUsbURBQVk7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkI7QUFDTztBQUNQLGVBQWUseURBQWU7QUFDOUI7QUFDQTtBQUNBLEVBQUUsbURBQVk7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkI7QUFDTztBQUNQLGNBQWMseURBQWU7QUFDN0I7QUFDQTtBQUNBLEVBQUUsbURBQVk7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWRkcmEtd2ViLy4uLy4uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwuanM/OTAwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIHRyYW5zZm9ybSBhcyBzdmdUcmFuc2Zvcm0sXHJcbiAgY3JlYXRlVHJhbnNmb3JtXHJcbn0gZnJvbSAndGlueS1zdmcnO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxyXG4gKiBAcGFyYW0ge251bWJlcn0geFxyXG4gKiBAcGFyYW0ge251bWJlcn0geVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW2FuZ2xlXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW2Ftb3VudF1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm0oZ2Z4LCB4LCB5LCBhbmdsZSwgYW1vdW50KSB7XHJcbiAgdmFyIHRyYW5zbGF0ZSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xyXG4gIHRyYW5zbGF0ZS5zZXRUcmFuc2xhdGUoeCwgeSk7XHJcblxyXG4gIHZhciByb3RhdGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICByb3RhdGUuc2V0Um90YXRlKGFuZ2xlIHx8IDAsIDAsIDApO1xyXG5cclxuICB2YXIgc2NhbGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICBzY2FsZS5zZXRTY2FsZShhbW91bnQgfHwgMSwgYW1vdW50IHx8IDEpO1xyXG5cclxuICBzdmdUcmFuc2Zvcm0oZ2Z4LCBbIHRyYW5zbGF0ZSwgcm90YXRlLCBzY2FsZSBdKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxyXG4gKiBAcGFyYW0ge251bWJlcn0geFxyXG4gKiBAcGFyYW0ge251bWJlcn0geVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShnZngsIHgsIHkpIHtcclxuICB2YXIgdHJhbnNsYXRlID0gY3JlYXRlVHJhbnNmb3JtKCk7XHJcbiAgdHJhbnNsYXRlLnNldFRyYW5zbGF0ZSh4LCB5KTtcclxuXHJcbiAgc3ZnVHJhbnNmb3JtKGdmeCwgdHJhbnNsYXRlKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxyXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUoZ2Z4LCBhbmdsZSkge1xyXG4gIHZhciByb3RhdGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICByb3RhdGUuc2V0Um90YXRlKGFuZ2xlLCAwLCAwKTtcclxuXHJcbiAgc3ZnVHJhbnNmb3JtKGdmeCwgcm90YXRlKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxyXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUoZ2Z4LCBhbW91bnQpIHtcclxuICB2YXIgc2NhbGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICBzY2FsZS5zZXRTY2FsZShhbW91bnQsIGFtb3VudCk7XHJcblxyXG4gIHN2Z1RyYW5zZm9ybShnZngsIHNjYWxlKTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/SvgTransformUtil.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/diagram-js/lib/util/Text.js":
/*!******************************************************!*\
  !*** ../../node_modules/diagram-js/lib/util/Text.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Text)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/../../node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/../../node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"(ssr)/../../node_modules/min-dom/dist/index.esm.js\");\n\n\n\n\n\n\n\n/**\n * @typedef {import('../util/Types').Dimensions} Dimensions\n *\n * @typedef { {\n *   top: number;\n *   left: number;\n *   right: number;\n *   bottom: number;\n * } } Padding\n *\n * @typedef { number | Partial<Padding> } PaddingConfig\n *\n * @typedef { {\n *   horizontal: 'center' | 'left' | 'right';\n *   vertical: 'top' | 'middle';\n * } } Alignment\n *\n *  @typedef { 'center-middle' | 'center-top' } AlignmentConfig\n *\n * @typedef { Partial<{\n *   align: AlignmentConfig;\n *   style: Record<string, number | string>;\n *   padding: PaddingConfig;\n * }> } BaseTextConfig\n *\n * @typedef { BaseTextConfig & Partial<{\n *   size: Dimensions;\n * }> } TextConfig\n *\n * @typedef { BaseTextConfig & Partial<{\n *   box: Dimensions;\n *   fitBox: boolean;\n * }> } TextLayoutConfig\n *\n *  @typedef { Dimensions & {\n *  text: string;\n * } } LineDescriptor\n */\n\nvar DEFAULT_BOX_PADDING = 0;\n\nvar DEFAULT_LABEL_SIZE = {\n  width: 150,\n  height: 50\n};\n\n\n/**\n * @param {AlignmentConfig} align\n * @return {Alignment}\n */\nfunction parseAlign(align) {\n\n  var parts = align.split('-');\n\n  return {\n    horizontal: parts[0] || 'center',\n    vertical: parts[1] || 'top'\n  };\n}\n\n/**\n * @param {PaddingConfig} padding\n *\n * @return {Padding}\n */\nfunction parsePadding(padding) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(padding)) {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({ top: 0, left: 0, right: 0, bottom: 0 }, padding);\n  } else {\n    return {\n      top: padding,\n      left: padding,\n      right: padding,\n      bottom: padding\n    };\n  }\n}\n\n/**\n * @param {string} text\n * @param {SVGTextElement} fakeText\n *\n * @return {import('../util/Types').Dimensions}\n */\nfunction getTextBBox(text, fakeText) {\n\n  fakeText.textContent = text;\n\n  var textBBox;\n\n  try {\n    var bbox,\n        emptyLine = text === '';\n\n    // add dummy text, when line is empty to\n    // determine correct height\n    fakeText.textContent = emptyLine ? 'dummy' : text;\n\n    textBBox = fakeText.getBBox();\n\n    // take text rendering related horizontal\n    // padding into account\n    bbox = {\n      width: textBBox.width + textBBox.x * 2,\n      height: textBBox.height\n    };\n\n    if (emptyLine) {\n\n      // correct width\n      bbox.width = 0;\n    }\n\n    return bbox;\n  } catch (e) {\n    console.log(e);\n\n    return { width: 0, height: 0 };\n  }\n}\n\n\n/**\n * Layout the next line and return the layouted element.\n *\n * Alters the lines passed.\n *\n * @param {string[]} lines\n * @param {number} maxWidth\n * @param {SVGTextElement} fakeText\n *\n * @return {LineDescriptor} the line descriptor\n */\nfunction layoutNext(lines, maxWidth, fakeText) {\n\n  var originalLine = lines.shift(),\n      fitLine = originalLine;\n\n  var textBBox;\n\n  for (;;) {\n    textBBox = getTextBBox(fitLine, fakeText);\n\n    textBBox.width = fitLine ? textBBox.width : 0;\n\n    // try to fit\n    if (fitLine === ' ' || fitLine === '' || textBBox.width < Math.round(maxWidth) || fitLine.length < 2) {\n      return fit(lines, fitLine, originalLine, textBBox);\n    }\n\n    fitLine = shortenLine(fitLine, textBBox.width, maxWidth);\n  }\n}\n\n/**\n * @param {string[]} lines\n * @param {string} fitLine\n * @param {string} originalLine\n * @param {Dimensions} textBBox\n *\n * @return {LineDescriptor}\n */\nfunction fit(lines, fitLine, originalLine, textBBox) {\n  if (fitLine.length < originalLine.length) {\n    var remainder = originalLine.slice(fitLine.length).trim();\n\n    lines.unshift(remainder);\n  }\n\n  return {\n    width: textBBox.width,\n    height: textBBox.height,\n    text: fitLine\n  };\n}\n\nvar SOFT_BREAK = '\\u00AD';\n\n\n/**\n * Shortens a line based on spacing and hyphens.\n * Returns the shortened result on success.\n *\n * @param {string} line\n * @param {number} maxLength the maximum characters of the string\n *\n * @return {string} the shortened string\n */\nfunction semanticShorten(line, maxLength) {\n\n  var parts = line.split(/(\\s|-|\\u00AD)/g),\n      part,\n      shortenedParts = [],\n      length = 0;\n\n  // try to shorten via break chars\n  if (parts.length > 1) {\n\n    while ((part = parts.shift())) {\n      if (part.length + length < maxLength) {\n        shortenedParts.push(part);\n        length += part.length;\n      } else {\n\n        // remove previous part, too if hyphen does not fit anymore\n        if (part === '-' || part === SOFT_BREAK) {\n          shortenedParts.pop();\n        }\n\n        break;\n      }\n    }\n  }\n\n  var last = shortenedParts[shortenedParts.length - 1];\n\n  // translate trailing soft break to actual hyphen\n  if (last && last === SOFT_BREAK) {\n    shortenedParts[shortenedParts.length - 1] = '-';\n  }\n\n  return shortenedParts.join('');\n}\n\n\n/**\n * @param {string} line\n * @param {number} width\n * @param {number} maxWidth\n *\n * @return {string}\n */\nfunction shortenLine(line, width, maxWidth) {\n  var length = Math.max(line.length * (maxWidth / width), 1);\n\n  // try to shorten semantically (i.e. based on spaces and hyphens)\n  var shortenedLine = semanticShorten(line, length);\n\n  if (!shortenedLine) {\n\n    // force shorten by cutting the long word\n    shortenedLine = line.slice(0, Math.max(Math.round(length - 1), 1));\n  }\n\n  return shortenedLine;\n}\n\n\n/**\n * @return {SVGSVGElement}\n */\nfunction getHelperSvg() {\n  var helperSvg = document.getElementById('helper-svg');\n\n  if (!helperSvg) {\n    helperSvg = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('svg');\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(helperSvg, {\n      id: 'helper-svg'\n    });\n\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.assignStyle)(helperSvg, {\n      visibility: 'hidden',\n      position: 'fixed',\n      width: 0,\n      height: 0\n    });\n\n    document.body.appendChild(helperSvg);\n  }\n\n  return helperSvg;\n}\n\n\n/**\n * Creates a new label utility\n *\n * @param {TextConfig} [config]\n */\nfunction Text(config) {\n\n  this._config = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, {\n    size: DEFAULT_LABEL_SIZE,\n    padding: DEFAULT_BOX_PADDING,\n    style: {},\n    align: 'center-top'\n  }, config || {});\n}\n\n/**\n * Returns the layouted text as an SVG element.\n *\n * @param {string} text\n * @param {TextLayoutConfig} options\n *\n * @return {SVGElement}\n */\nText.prototype.createText = function(text, options) {\n  return this.layoutText(text, options).element;\n};\n\n/**\n * Returns a labels layouted dimensions.\n *\n * @param {string} text to layout\n * @param {TextLayoutConfig} options\n *\n * @return {Dimensions}\n */\nText.prototype.getDimensions = function(text, options) {\n  return this.layoutText(text, options).dimensions;\n};\n\n/**\n * Creates and returns a label and its bounding box.\n *\n * @param {string} text the text to render on the label\n * @param {TextLayoutConfig} options\n *\n * @return { {\n *   element: SVGElement,\n *   dimensions: Dimensions\n * } }\n */\nText.prototype.layoutText = function(text, options) {\n  var box = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, this._config.size, options.box),\n      style = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, this._config.style, options.style),\n      align = parseAlign(options.align || this._config.align),\n      padding = parsePadding(options.padding !== undefined ? options.padding : this._config.padding),\n      fitBox = options.fitBox || false;\n\n  var lineHeight = getLineHeight(style);\n\n  // we split text by lines and normalize\n  // {soft break} + {line break} => { line break }\n  var lines = text.split(/\\u00AD?\\r?\\n/),\n      layouted = [];\n\n  var maxWidth = box.width - padding.left - padding.right;\n\n  // ensure correct rendering by attaching helper text node to invisible SVG\n  var helperText = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('text');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(helperText, { x: 0, y: 0 });\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(helperText, style);\n\n  var helperSvg = getHelperSvg();\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(helperSvg, helperText);\n\n  while (lines.length) {\n    layouted.push(layoutNext(lines, maxWidth, helperText));\n  }\n\n  if (align.vertical === 'middle') {\n    padding.top = padding.bottom = 0;\n  }\n\n  var totalHeight = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.reduce)(layouted, function(sum, line, idx) {\n    return sum + (lineHeight || line.height);\n  }, 0) + padding.top + padding.bottom;\n\n  var maxLineWidth = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.reduce)(layouted, function(sum, line, idx) {\n    return line.width > sum ? line.width : sum;\n  }, 0);\n\n  // the y position of the next line\n  var y = padding.top;\n\n  if (align.vertical === 'middle') {\n    y += (box.height - totalHeight) / 2;\n  }\n\n  // magic number initial offset\n  y -= (lineHeight || layouted[0].height) / 4;\n\n\n  var textElement = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('text');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(textElement, style);\n\n  // layout each line taking into account that parent\n  // shape might resize to fit text size\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(layouted, function(line) {\n\n    var x;\n\n    y += (lineHeight || line.height);\n\n    switch (align.horizontal) {\n    case 'left':\n      x = padding.left;\n      break;\n\n    case 'right':\n      x = ((fitBox ? maxLineWidth : maxWidth)\n        - padding.right - line.width);\n      break;\n\n    default:\n\n      // aka center\n      x = Math.max((((fitBox ? maxLineWidth : maxWidth)\n        - line.width) / 2 + padding.left), 0);\n    }\n\n    var tspan = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('tspan');\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(tspan, { x: x, y: y });\n\n    tspan.textContent = line.text;\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(textElement, tspan);\n  });\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(helperText);\n\n  var dimensions = {\n    width: maxLineWidth,\n    height: totalHeight\n  };\n\n  return {\n    dimensions: dimensions,\n    element: textElement\n  };\n};\n\n\nfunction getLineHeight(style) {\n  if ('fontSize' in style && 'lineHeight' in style) {\n    return style.lineHeight * parseInt(style.fontSize, 10);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvVGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBS2tCOztBQU9BOztBQUlEOzs7QUFHakI7QUFDQSxhQUFhLG9DQUFvQztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxjQUFjLDRCQUE0QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLGVBQWUsaUNBQWlDO0FBQ2hEO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSO0FBQ0EsY0FBYztBQUNkO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsT0FBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFlBQVk7QUFDWjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQSxNQUFNLGtEQUFRO0FBQ2QsV0FBVyxnREFBTSxHQUFHLHNDQUFzQztBQUMxRCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQSxhQUFhO0FBQ2I7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsU0FBUztBQUNUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLGdEQUFTOztBQUV6QixJQUFJLDhDQUFPO0FBQ1g7QUFDQSxLQUFLOztBQUVMLElBQUksb0RBQVc7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDZTs7QUFFZixpQkFBaUIsZ0RBQU0sR0FBRztBQUMxQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsR0FBRyxjQUFjO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGtCQUFrQjtBQUM3QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBTSxHQUFHO0FBQ3JCLGNBQWMsZ0RBQU0sR0FBRztBQUN2QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxNQUFNLFlBQVksR0FBRyxZQUFZLEtBQUs7QUFDdEM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG1CQUFtQixnREFBUztBQUM1QixFQUFFLDhDQUFPLGVBQWUsWUFBWTtBQUNwQyxFQUFFLDhDQUFPOztBQUVUOztBQUVBLEVBQUUsZ0RBQVM7O0FBRVg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsZ0RBQU07QUFDMUI7QUFDQSxHQUFHOztBQUVILHFCQUFxQixnREFBTTtBQUMzQjtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0Esb0JBQW9CLGdEQUFTOztBQUU3QixFQUFFLDhDQUFPOztBQUVUO0FBQ0E7QUFDQSxFQUFFLGlEQUFPOztBQUVUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixnREFBUztBQUN6QixJQUFJLDhDQUFPLFVBQVUsWUFBWTs7QUFFakM7O0FBRUEsSUFBSSxnREFBUztBQUNiLEdBQUc7O0FBRUgsRUFBRSxnREFBUzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhZGRyYS13ZWIvLi4vLi4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvVGV4dC5qcz9jMjRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGlzT2JqZWN0LFxuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIHJlZHVjZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIGFzc2lnblN0eWxlXG59IGZyb20gJ21pbi1kb20nO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLkRpbWVuc2lvbnN9IERpbWVuc2lvbnNcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgdG9wOiBudW1iZXI7XG4gKiAgIGxlZnQ6IG51bWJlcjtcbiAqICAgcmlnaHQ6IG51bWJlcjtcbiAqICAgYm90dG9tOiBudW1iZXI7XG4gKiB9IH0gUGFkZGluZ1xuICpcbiAqIEB0eXBlZGVmIHsgbnVtYmVyIHwgUGFydGlhbDxQYWRkaW5nPiB9IFBhZGRpbmdDb25maWdcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgaG9yaXpvbnRhbDogJ2NlbnRlcicgfCAnbGVmdCcgfCAncmlnaHQnO1xuICogICB2ZXJ0aWNhbDogJ3RvcCcgfCAnbWlkZGxlJztcbiAqIH0gfSBBbGlnbm1lbnRcbiAqXG4gKiAgQHR5cGVkZWYgeyAnY2VudGVyLW1pZGRsZScgfCAnY2VudGVyLXRvcCcgfSBBbGlnbm1lbnRDb25maWdcbiAqXG4gKiBAdHlwZWRlZiB7IFBhcnRpYWw8e1xuICogICBhbGlnbjogQWxpZ25tZW50Q29uZmlnO1xuICogICBzdHlsZTogUmVjb3JkPHN0cmluZywgbnVtYmVyIHwgc3RyaW5nPjtcbiAqICAgcGFkZGluZzogUGFkZGluZ0NvbmZpZztcbiAqIH0+IH0gQmFzZVRleHRDb25maWdcbiAqXG4gKiBAdHlwZWRlZiB7IEJhc2VUZXh0Q29uZmlnICYgUGFydGlhbDx7XG4gKiAgIHNpemU6IERpbWVuc2lvbnM7XG4gKiB9PiB9IFRleHRDb25maWdcbiAqXG4gKiBAdHlwZWRlZiB7IEJhc2VUZXh0Q29uZmlnICYgUGFydGlhbDx7XG4gKiAgIGJveDogRGltZW5zaW9ucztcbiAqICAgZml0Qm94OiBib29sZWFuO1xuICogfT4gfSBUZXh0TGF5b3V0Q29uZmlnXG4gKlxuICogIEB0eXBlZGVmIHsgRGltZW5zaW9ucyAmIHtcbiAqICB0ZXh0OiBzdHJpbmc7XG4gKiB9IH0gTGluZURlc2NyaXB0b3JcbiAqL1xuXG52YXIgREVGQVVMVF9CT1hfUEFERElORyA9IDA7XG5cbnZhciBERUZBVUxUX0xBQkVMX1NJWkUgPSB7XG4gIHdpZHRoOiAxNTAsXG4gIGhlaWdodDogNTBcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FsaWdubWVudENvbmZpZ30gYWxpZ25cbiAqIEByZXR1cm4ge0FsaWdubWVudH1cbiAqL1xuZnVuY3Rpb24gcGFyc2VBbGlnbihhbGlnbikge1xuXG4gIHZhciBwYXJ0cyA9IGFsaWduLnNwbGl0KCctJyk7XG5cbiAgcmV0dXJuIHtcbiAgICBob3Jpem9udGFsOiBwYXJ0c1swXSB8fCAnY2VudGVyJyxcbiAgICB2ZXJ0aWNhbDogcGFydHNbMV0gfHwgJ3RvcCdcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BhZGRpbmdDb25maWd9IHBhZGRpbmdcbiAqXG4gKiBAcmV0dXJuIHtQYWRkaW5nfVxuICovXG5mdW5jdGlvbiBwYXJzZVBhZGRpbmcocGFkZGluZykge1xuXG4gIGlmIChpc09iamVjdChwYWRkaW5nKSkge1xuICAgIHJldHVybiBhc3NpZ24oeyB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAgfSwgcGFkZGluZyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogcGFkZGluZyxcbiAgICAgIGxlZnQ6IHBhZGRpbmcsXG4gICAgICByaWdodDogcGFkZGluZyxcbiAgICAgIGJvdHRvbTogcGFkZGluZ1xuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHBhcmFtIHtTVkdUZXh0RWxlbWVudH0gZmFrZVRleHRcbiAqXG4gKiBAcmV0dXJuIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5EaW1lbnNpb25zfVxuICovXG5mdW5jdGlvbiBnZXRUZXh0QkJveCh0ZXh0LCBmYWtlVGV4dCkge1xuXG4gIGZha2VUZXh0LnRleHRDb250ZW50ID0gdGV4dDtcblxuICB2YXIgdGV4dEJCb3g7XG5cbiAgdHJ5IHtcbiAgICB2YXIgYmJveCxcbiAgICAgICAgZW1wdHlMaW5lID0gdGV4dCA9PT0gJyc7XG5cbiAgICAvLyBhZGQgZHVtbXkgdGV4dCwgd2hlbiBsaW5lIGlzIGVtcHR5IHRvXG4gICAgLy8gZGV0ZXJtaW5lIGNvcnJlY3QgaGVpZ2h0XG4gICAgZmFrZVRleHQudGV4dENvbnRlbnQgPSBlbXB0eUxpbmUgPyAnZHVtbXknIDogdGV4dDtcblxuICAgIHRleHRCQm94ID0gZmFrZVRleHQuZ2V0QkJveCgpO1xuXG4gICAgLy8gdGFrZSB0ZXh0IHJlbmRlcmluZyByZWxhdGVkIGhvcml6b250YWxcbiAgICAvLyBwYWRkaW5nIGludG8gYWNjb3VudFxuICAgIGJib3ggPSB7XG4gICAgICB3aWR0aDogdGV4dEJCb3gud2lkdGggKyB0ZXh0QkJveC54ICogMixcbiAgICAgIGhlaWdodDogdGV4dEJCb3guaGVpZ2h0XG4gICAgfTtcblxuICAgIGlmIChlbXB0eUxpbmUpIHtcblxuICAgICAgLy8gY29ycmVjdCB3aWR0aFxuICAgICAgYmJveC53aWR0aCA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJib3g7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcblxuICAgIHJldHVybiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgfVxufVxuXG5cbi8qKlxuICogTGF5b3V0IHRoZSBuZXh0IGxpbmUgYW5kIHJldHVybiB0aGUgbGF5b3V0ZWQgZWxlbWVudC5cbiAqXG4gKiBBbHRlcnMgdGhlIGxpbmVzIHBhc3NlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lc1xuICogQHBhcmFtIHtudW1iZXJ9IG1heFdpZHRoXG4gKiBAcGFyYW0ge1NWR1RleHRFbGVtZW50fSBmYWtlVGV4dFxuICpcbiAqIEByZXR1cm4ge0xpbmVEZXNjcmlwdG9yfSB0aGUgbGluZSBkZXNjcmlwdG9yXG4gKi9cbmZ1bmN0aW9uIGxheW91dE5leHQobGluZXMsIG1heFdpZHRoLCBmYWtlVGV4dCkge1xuXG4gIHZhciBvcmlnaW5hbExpbmUgPSBsaW5lcy5zaGlmdCgpLFxuICAgICAgZml0TGluZSA9IG9yaWdpbmFsTGluZTtcblxuICB2YXIgdGV4dEJCb3g7XG5cbiAgZm9yICg7Oykge1xuICAgIHRleHRCQm94ID0gZ2V0VGV4dEJCb3goZml0TGluZSwgZmFrZVRleHQpO1xuXG4gICAgdGV4dEJCb3gud2lkdGggPSBmaXRMaW5lID8gdGV4dEJCb3gud2lkdGggOiAwO1xuXG4gICAgLy8gdHJ5IHRvIGZpdFxuICAgIGlmIChmaXRMaW5lID09PSAnICcgfHwgZml0TGluZSA9PT0gJycgfHwgdGV4dEJCb3gud2lkdGggPCBNYXRoLnJvdW5kKG1heFdpZHRoKSB8fCBmaXRMaW5lLmxlbmd0aCA8IDIpIHtcbiAgICAgIHJldHVybiBmaXQobGluZXMsIGZpdExpbmUsIG9yaWdpbmFsTGluZSwgdGV4dEJCb3gpO1xuICAgIH1cblxuICAgIGZpdExpbmUgPSBzaG9ydGVuTGluZShmaXRMaW5lLCB0ZXh0QkJveC53aWR0aCwgbWF4V2lkdGgpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaXRMaW5lXG4gKiBAcGFyYW0ge3N0cmluZ30gb3JpZ2luYWxMaW5lXG4gKiBAcGFyYW0ge0RpbWVuc2lvbnN9IHRleHRCQm94XG4gKlxuICogQHJldHVybiB7TGluZURlc2NyaXB0b3J9XG4gKi9cbmZ1bmN0aW9uIGZpdChsaW5lcywgZml0TGluZSwgb3JpZ2luYWxMaW5lLCB0ZXh0QkJveCkge1xuICBpZiAoZml0TGluZS5sZW5ndGggPCBvcmlnaW5hbExpbmUubGVuZ3RoKSB7XG4gICAgdmFyIHJlbWFpbmRlciA9IG9yaWdpbmFsTGluZS5zbGljZShmaXRMaW5lLmxlbmd0aCkudHJpbSgpO1xuXG4gICAgbGluZXMudW5zaGlmdChyZW1haW5kZXIpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogdGV4dEJCb3gud2lkdGgsXG4gICAgaGVpZ2h0OiB0ZXh0QkJveC5oZWlnaHQsXG4gICAgdGV4dDogZml0TGluZVxuICB9O1xufVxuXG52YXIgU09GVF9CUkVBSyA9ICdcXHUwMEFEJztcblxuXG4vKipcbiAqIFNob3J0ZW5zIGEgbGluZSBiYXNlZCBvbiBzcGFjaW5nIGFuZCBoeXBoZW5zLlxuICogUmV0dXJucyB0aGUgc2hvcnRlbmVkIHJlc3VsdCBvbiBzdWNjZXNzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4TGVuZ3RoIHRoZSBtYXhpbXVtIGNoYXJhY3RlcnMgb2YgdGhlIHN0cmluZ1xuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIHNob3J0ZW5lZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gc2VtYW50aWNTaG9ydGVuKGxpbmUsIG1heExlbmd0aCkge1xuXG4gIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoLyhcXHN8LXxcXHUwMEFEKS9nKSxcbiAgICAgIHBhcnQsXG4gICAgICBzaG9ydGVuZWRQYXJ0cyA9IFtdLFxuICAgICAgbGVuZ3RoID0gMDtcblxuICAvLyB0cnkgdG8gc2hvcnRlbiB2aWEgYnJlYWsgY2hhcnNcbiAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblxuICAgIHdoaWxlICgocGFydCA9IHBhcnRzLnNoaWZ0KCkpKSB7XG4gICAgICBpZiAocGFydC5sZW5ndGggKyBsZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgc2hvcnRlbmVkUGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgbGVuZ3RoICs9IHBhcnQubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyByZW1vdmUgcHJldmlvdXMgcGFydCwgdG9vIGlmIGh5cGhlbiBkb2VzIG5vdCBmaXQgYW55bW9yZVxuICAgICAgICBpZiAocGFydCA9PT0gJy0nIHx8IHBhcnQgPT09IFNPRlRfQlJFQUspIHtcbiAgICAgICAgICBzaG9ydGVuZWRQYXJ0cy5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBsYXN0ID0gc2hvcnRlbmVkUGFydHNbc2hvcnRlbmVkUGFydHMubGVuZ3RoIC0gMV07XG5cbiAgLy8gdHJhbnNsYXRlIHRyYWlsaW5nIHNvZnQgYnJlYWsgdG8gYWN0dWFsIGh5cGhlblxuICBpZiAobGFzdCAmJiBsYXN0ID09PSBTT0ZUX0JSRUFLKSB7XG4gICAgc2hvcnRlbmVkUGFydHNbc2hvcnRlbmVkUGFydHMubGVuZ3RoIC0gMV0gPSAnLSc7XG4gIH1cblxuICByZXR1cm4gc2hvcnRlbmVkUGFydHMuam9pbignJyk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbGluZVxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4V2lkdGhcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHNob3J0ZW5MaW5lKGxpbmUsIHdpZHRoLCBtYXhXaWR0aCkge1xuICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgobGluZS5sZW5ndGggKiAobWF4V2lkdGggLyB3aWR0aCksIDEpO1xuXG4gIC8vIHRyeSB0byBzaG9ydGVuIHNlbWFudGljYWxseSAoaS5lLiBiYXNlZCBvbiBzcGFjZXMgYW5kIGh5cGhlbnMpXG4gIHZhciBzaG9ydGVuZWRMaW5lID0gc2VtYW50aWNTaG9ydGVuKGxpbmUsIGxlbmd0aCk7XG5cbiAgaWYgKCFzaG9ydGVuZWRMaW5lKSB7XG5cbiAgICAvLyBmb3JjZSBzaG9ydGVuIGJ5IGN1dHRpbmcgdGhlIGxvbmcgd29yZFxuICAgIHNob3J0ZW5lZExpbmUgPSBsaW5lLnNsaWNlKDAsIE1hdGgubWF4KE1hdGgucm91bmQobGVuZ3RoIC0gMSksIDEpKTtcbiAgfVxuXG4gIHJldHVybiBzaG9ydGVuZWRMaW5lO1xufVxuXG5cbi8qKlxuICogQHJldHVybiB7U1ZHU1ZHRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gZ2V0SGVscGVyU3ZnKCkge1xuICB2YXIgaGVscGVyU3ZnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlbHBlci1zdmcnKTtcblxuICBpZiAoIWhlbHBlclN2Zykge1xuICAgIGhlbHBlclN2ZyA9IHN2Z0NyZWF0ZSgnc3ZnJyk7XG5cbiAgICBzdmdBdHRyKGhlbHBlclN2Zywge1xuICAgICAgaWQ6ICdoZWxwZXItc3ZnJ1xuICAgIH0pO1xuXG4gICAgYXNzaWduU3R5bGUoaGVscGVyU3ZnLCB7XG4gICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaGVscGVyU3ZnKTtcbiAgfVxuXG4gIHJldHVybiBoZWxwZXJTdmc7XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGxhYmVsIHV0aWxpdHlcbiAqXG4gKiBAcGFyYW0ge1RleHRDb25maWd9IFtjb25maWddXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRleHQoY29uZmlnKSB7XG5cbiAgdGhpcy5fY29uZmlnID0gYXNzaWduKHt9LCB7XG4gICAgc2l6ZTogREVGQVVMVF9MQUJFTF9TSVpFLFxuICAgIHBhZGRpbmc6IERFRkFVTFRfQk9YX1BBRERJTkcsXG4gICAgc3R5bGU6IHt9LFxuICAgIGFsaWduOiAnY2VudGVyLXRvcCdcbiAgfSwgY29uZmlnIHx8IHt9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsYXlvdXRlZCB0ZXh0IGFzIGFuIFNWRyBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcGFyYW0ge1RleHRMYXlvdXRDb25maWd9IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICovXG5UZXh0LnByb3RvdHlwZS5jcmVhdGVUZXh0ID0gZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICByZXR1cm4gdGhpcy5sYXlvdXRUZXh0KHRleHQsIG9wdGlvbnMpLmVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBsYWJlbHMgbGF5b3V0ZWQgZGltZW5zaW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCB0byBsYXlvdXRcbiAqIEBwYXJhbSB7VGV4dExheW91dENvbmZpZ30gb3B0aW9uc1xuICpcbiAqIEByZXR1cm4ge0RpbWVuc2lvbnN9XG4gKi9cblRleHQucHJvdG90eXBlLmdldERpbWVuc2lvbnMgPSBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gIHJldHVybiB0aGlzLmxheW91dFRleHQodGV4dCwgb3B0aW9ucykuZGltZW5zaW9ucztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGxhYmVsIGFuZCBpdHMgYm91bmRpbmcgYm94LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IHRoZSB0ZXh0IHRvIHJlbmRlciBvbiB0aGUgbGFiZWxcbiAqIEBwYXJhbSB7VGV4dExheW91dENvbmZpZ30gb3B0aW9uc1xuICpcbiAqIEByZXR1cm4geyB7XG4gKiAgIGVsZW1lbnQ6IFNWR0VsZW1lbnQsXG4gKiAgIGRpbWVuc2lvbnM6IERpbWVuc2lvbnNcbiAqIH0gfVxuICovXG5UZXh0LnByb3RvdHlwZS5sYXlvdXRUZXh0ID0gZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICB2YXIgYm94ID0gYXNzaWduKHt9LCB0aGlzLl9jb25maWcuc2l6ZSwgb3B0aW9ucy5ib3gpLFxuICAgICAgc3R5bGUgPSBhc3NpZ24oe30sIHRoaXMuX2NvbmZpZy5zdHlsZSwgb3B0aW9ucy5zdHlsZSksXG4gICAgICBhbGlnbiA9IHBhcnNlQWxpZ24ob3B0aW9ucy5hbGlnbiB8fCB0aGlzLl9jb25maWcuYWxpZ24pLFxuICAgICAgcGFkZGluZyA9IHBhcnNlUGFkZGluZyhvcHRpb25zLnBhZGRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGFkZGluZyA6IHRoaXMuX2NvbmZpZy5wYWRkaW5nKSxcbiAgICAgIGZpdEJveCA9IG9wdGlvbnMuZml0Qm94IHx8IGZhbHNlO1xuXG4gIHZhciBsaW5lSGVpZ2h0ID0gZ2V0TGluZUhlaWdodChzdHlsZSk7XG5cbiAgLy8gd2Ugc3BsaXQgdGV4dCBieSBsaW5lcyBhbmQgbm9ybWFsaXplXG4gIC8vIHtzb2Z0IGJyZWFrfSArIHtsaW5lIGJyZWFrfSA9PiB7IGxpbmUgYnJlYWsgfVxuICB2YXIgbGluZXMgPSB0ZXh0LnNwbGl0KC9cXHUwMEFEP1xccj9cXG4vKSxcbiAgICAgIGxheW91dGVkID0gW107XG5cbiAgdmFyIG1heFdpZHRoID0gYm94LndpZHRoIC0gcGFkZGluZy5sZWZ0IC0gcGFkZGluZy5yaWdodDtcblxuICAvLyBlbnN1cmUgY29ycmVjdCByZW5kZXJpbmcgYnkgYXR0YWNoaW5nIGhlbHBlciB0ZXh0IG5vZGUgdG8gaW52aXNpYmxlIFNWR1xuICB2YXIgaGVscGVyVGV4dCA9IHN2Z0NyZWF0ZSgndGV4dCcpO1xuICBzdmdBdHRyKGhlbHBlclRleHQsIHsgeDogMCwgeTogMCB9KTtcbiAgc3ZnQXR0cihoZWxwZXJUZXh0LCBzdHlsZSk7XG5cbiAgdmFyIGhlbHBlclN2ZyA9IGdldEhlbHBlclN2ZygpO1xuXG4gIHN2Z0FwcGVuZChoZWxwZXJTdmcsIGhlbHBlclRleHQpO1xuXG4gIHdoaWxlIChsaW5lcy5sZW5ndGgpIHtcbiAgICBsYXlvdXRlZC5wdXNoKGxheW91dE5leHQobGluZXMsIG1heFdpZHRoLCBoZWxwZXJUZXh0KSk7XG4gIH1cblxuICBpZiAoYWxpZ24udmVydGljYWwgPT09ICdtaWRkbGUnKSB7XG4gICAgcGFkZGluZy50b3AgPSBwYWRkaW5nLmJvdHRvbSA9IDA7XG4gIH1cblxuICB2YXIgdG90YWxIZWlnaHQgPSByZWR1Y2UobGF5b3V0ZWQsIGZ1bmN0aW9uKHN1bSwgbGluZSwgaWR4KSB7XG4gICAgcmV0dXJuIHN1bSArIChsaW5lSGVpZ2h0IHx8IGxpbmUuaGVpZ2h0KTtcbiAgfSwgMCkgKyBwYWRkaW5nLnRvcCArIHBhZGRpbmcuYm90dG9tO1xuXG4gIHZhciBtYXhMaW5lV2lkdGggPSByZWR1Y2UobGF5b3V0ZWQsIGZ1bmN0aW9uKHN1bSwgbGluZSwgaWR4KSB7XG4gICAgcmV0dXJuIGxpbmUud2lkdGggPiBzdW0gPyBsaW5lLndpZHRoIDogc3VtO1xuICB9LCAwKTtcblxuICAvLyB0aGUgeSBwb3NpdGlvbiBvZiB0aGUgbmV4dCBsaW5lXG4gIHZhciB5ID0gcGFkZGluZy50b3A7XG5cbiAgaWYgKGFsaWduLnZlcnRpY2FsID09PSAnbWlkZGxlJykge1xuICAgIHkgKz0gKGJveC5oZWlnaHQgLSB0b3RhbEhlaWdodCkgLyAyO1xuICB9XG5cbiAgLy8gbWFnaWMgbnVtYmVyIGluaXRpYWwgb2Zmc2V0XG4gIHkgLT0gKGxpbmVIZWlnaHQgfHwgbGF5b3V0ZWRbMF0uaGVpZ2h0KSAvIDQ7XG5cblxuICB2YXIgdGV4dEVsZW1lbnQgPSBzdmdDcmVhdGUoJ3RleHQnKTtcblxuICBzdmdBdHRyKHRleHRFbGVtZW50LCBzdHlsZSk7XG5cbiAgLy8gbGF5b3V0IGVhY2ggbGluZSB0YWtpbmcgaW50byBhY2NvdW50IHRoYXQgcGFyZW50XG4gIC8vIHNoYXBlIG1pZ2h0IHJlc2l6ZSB0byBmaXQgdGV4dCBzaXplXG4gIGZvckVhY2gobGF5b3V0ZWQsIGZ1bmN0aW9uKGxpbmUpIHtcblxuICAgIHZhciB4O1xuXG4gICAgeSArPSAobGluZUhlaWdodCB8fCBsaW5lLmhlaWdodCk7XG5cbiAgICBzd2l0Y2ggKGFsaWduLmhvcml6b250YWwpIHtcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIHggPSBwYWRkaW5nLmxlZnQ7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIHggPSAoKGZpdEJveCA/IG1heExpbmVXaWR0aCA6IG1heFdpZHRoKVxuICAgICAgICAtIHBhZGRpbmcucmlnaHQgLSBsaW5lLndpZHRoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcblxuICAgICAgLy8gYWthIGNlbnRlclxuICAgICAgeCA9IE1hdGgubWF4KCgoKGZpdEJveCA/IG1heExpbmVXaWR0aCA6IG1heFdpZHRoKVxuICAgICAgICAtIGxpbmUud2lkdGgpIC8gMiArIHBhZGRpbmcubGVmdCksIDApO1xuICAgIH1cblxuICAgIHZhciB0c3BhbiA9IHN2Z0NyZWF0ZSgndHNwYW4nKTtcbiAgICBzdmdBdHRyKHRzcGFuLCB7IHg6IHgsIHk6IHkgfSk7XG5cbiAgICB0c3Bhbi50ZXh0Q29udGVudCA9IGxpbmUudGV4dDtcblxuICAgIHN2Z0FwcGVuZCh0ZXh0RWxlbWVudCwgdHNwYW4pO1xuICB9KTtcblxuICBzdmdSZW1vdmUoaGVscGVyVGV4dCk7XG5cbiAgdmFyIGRpbWVuc2lvbnMgPSB7XG4gICAgd2lkdGg6IG1heExpbmVXaWR0aCxcbiAgICBoZWlnaHQ6IHRvdGFsSGVpZ2h0XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgIGVsZW1lbnQ6IHRleHRFbGVtZW50XG4gIH07XG59O1xuXG5cbmZ1bmN0aW9uIGdldExpbmVIZWlnaHQoc3R5bGUpIHtcbiAgaWYgKCdmb250U2l6ZScgaW4gc3R5bGUgJiYgJ2xpbmVIZWlnaHQnIGluIHN0eWxlKSB7XG4gICAgcmV0dXJuIHN0eWxlLmxpbmVIZWlnaHQgKiBwYXJzZUludChzdHlsZS5mb250U2l6ZSwgMTApO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/diagram-js/lib/util/Text.js\n");

/***/ })

};
;